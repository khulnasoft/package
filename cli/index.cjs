"use strict";var U3=Object.create;var dp=Object.defineProperty;var j3=Object.getOwnPropertyDescriptor;var q3=Object.getOwnPropertyNames;var G3=Object.getPrototypeOf,V3=Object.prototype.hasOwnProperty;var v0=(t,e)=>()=>(t&&(e=t(t=0)),e);var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fm=(t,e)=>{for(var r in e)dp(t,r,{get:e[r],enumerable:!0})},T0=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of q3(e))!V3.call(t,i)&&i!==r&&dp(t,i,{get:()=>e[i],enumerable:!(n=j3(e,i))||n.enumerable});return t};var Y=(t,e,r)=>(r=t!=null?U3(G3(t)):{},T0(e||!t||!t.__esModule?dp(r,"default",{value:t,enumerable:!0}):r,t)),yr=t=>T0(dp({},"__esModule",{value:!0}),t);var A0=D((ooe,w0)=>{function Om(t){return t==null?[]:Array.isArray(t)?t:[t]}function K3(t,e,r,n){var i,s=t[e],o=~n.string.indexOf(e)?r==null||r===!0?"":String(r):typeof r=="boolean"?r:~n.boolean.indexOf(e)?r==="false"?!1:r==="true"||(t._.push((i=+r,i*0===0?i:r)),!!r):(i=+r,i*0===0?i:r);t[e]=s==null?o:Array.isArray(s)?s.concat(o):[s,o]}w0.exports=function(t,e){t=t||[],e=e||{};var r,n,i,s,o,a={_:[]},u=0,c=0,l=0,p=t.length;let d=e.alias!==void 0,f=e.unknown!==void 0,h=e.default!==void 0;if(e.alias=e.alias||{},e.string=Om(e.string),e.boolean=Om(e.boolean),d)for(r in e.alias)for(n=e.alias[r]=Om(e.alias[r]),u=0;u<n.length;u++)(e.alias[n[u]]=n.concat(r)).splice(u,1);for(u=e.boolean.length;u-- >0;)for(n=e.alias[e.boolean[u]]||[],c=n.length;c-- >0;)e.boolean.push(n[c]);for(u=e.string.length;u-- >0;)for(n=e.alias[e.string[u]]||[],c=n.length;c-- >0;)e.string.push(n[c]);if(h){for(r in e.default)if(s=typeof e.default[r],n=e.alias[r]=e.alias[r]||[],e[s]!==void 0)for(e[s].push(r),u=0;u<n.length;u++)e[s].push(n[u])}let m=f?Object.keys(e.alias):[];for(u=0;u<p;u++){if(i=t[u],i==="--"){a._=a._.concat(t.slice(++u));break}for(c=0;c<i.length&&i.charCodeAt(c)===45;c++);if(c===0)a._.push(i);else if(i.substring(c,c+3)==="no-"){if(s=i.substring(c+3),f&&!~m.indexOf(s))return e.unknown(i);a[s]=!1}else{for(l=c+1;l<i.length&&i.charCodeAt(l)!==61;l++);for(s=i.substring(c,l),o=i.substring(++l)||u+1===p||(""+t[u+1]).charCodeAt(0)===45||t[++u],n=c===2?[s]:s,l=0;l<n.length;l++){if(s=n[l],f&&!~m.indexOf(s))return e.unknown("-".repeat(c)+s);K3(a,s,l+1<n.length||o,e)}}}if(h)for(r in e.default)a[r]===void 0&&(a[r]=e.default[r]);if(d)for(r in a)for(n=e.alias[r]||[];n.length>0;)a[n.shift()]=a[r];return a}});var He=D((coe,I0)=>{"use strict";var Lm="\x1B",st=`${Lm}[`,H3="\x07",Bm={to(t,e){return e?`${st}${e+1};${t+1}H`:`${st}${t+1}G`},move(t,e){let r="";return t<0?r+=`${st}${-t}D`:t>0&&(r+=`${st}${t}C`),e<0?r+=`${st}${-e}A`:e>0&&(r+=`${st}${e}B`),r},up:(t=1)=>`${st}${t}A`,down:(t=1)=>`${st}${t}B`,forward:(t=1)=>`${st}${t}C`,backward:(t=1)=>`${st}${t}D`,nextLine:(t=1)=>`${st}E`.repeat(t),prevLine:(t=1)=>`${st}F`.repeat(t),left:`${st}G`,hide:`${st}?25l`,show:`${st}?25h`,save:`${Lm}7`,restore:`${Lm}8`},z3={up:(t=1)=>`${st}S`.repeat(t),down:(t=1)=>`${st}T`.repeat(t)},W3={screen:`${st}2J`,up:(t=1)=>`${st}1J`.repeat(t),down:(t=1)=>`${st}J`.repeat(t),line:`${st}2K`,lineEnd:`${st}K`,lineStart:`${st}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?Bm.up():"");return t&&(e+=Bm.left),e}};I0.exports={cursor:Bm,scroll:z3,erase:W3,beep:H3}});var br=D((loe,$m)=>{var gp=process||{},N0=gp.argv||[],mp=gp.env||{},Y3=!(mp.NO_COLOR||N0.includes("--no-color"))&&(!!mp.FORCE_COLOR||N0.includes("--color")||gp.platform==="win32"||(gp.stdout||{}).isTTY&&mp.TERM!=="dumb"||!!mp.CI),J3=(t,e,r=t)=>n=>{let i=""+n,s=i.indexOf(e,t.length);return~s?t+X3(i,e,r,s)+e:t+i+e},X3=(t,e,r,n)=>{let i="",s=0;do i+=t.substring(s,n)+r,s=n+e.length,n=t.indexOf(e,s);while(~n);return i+t.substring(s)},F0=(t=Y3)=>{let e=t?J3:()=>String;return{isColorSupported:t,reset:e("\x1B[0m","\x1B[0m"),bold:e("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:e("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:e("\x1B[3m","\x1B[23m"),underline:e("\x1B[4m","\x1B[24m"),inverse:e("\x1B[7m","\x1B[27m"),hidden:e("\x1B[8m","\x1B[28m"),strikethrough:e("\x1B[9m","\x1B[29m"),black:e("\x1B[30m","\x1B[39m"),red:e("\x1B[31m","\x1B[39m"),green:e("\x1B[32m","\x1B[39m"),yellow:e("\x1B[33m","\x1B[39m"),blue:e("\x1B[34m","\x1B[39m"),magenta:e("\x1B[35m","\x1B[39m"),cyan:e("\x1B[36m","\x1B[39m"),white:e("\x1B[37m","\x1B[39m"),gray:e("\x1B[90m","\x1B[39m"),bgBlack:e("\x1B[40m","\x1B[49m"),bgRed:e("\x1B[41m","\x1B[49m"),bgGreen:e("\x1B[42m","\x1B[49m"),bgYellow:e("\x1B[43m","\x1B[49m"),bgBlue:e("\x1B[44m","\x1B[49m"),bgMagenta:e("\x1B[45m","\x1B[49m"),bgCyan:e("\x1B[46m","\x1B[49m"),bgWhite:e("\x1B[47m","\x1B[49m"),blackBright:e("\x1B[90m","\x1B[39m"),redBright:e("\x1B[91m","\x1B[39m"),greenBright:e("\x1B[92m","\x1B[39m"),yellowBright:e("\x1B[93m","\x1B[39m"),blueBright:e("\x1B[94m","\x1B[39m"),magentaBright:e("\x1B[95m","\x1B[39m"),cyanBright:e("\x1B[96m","\x1B[39m"),whiteBright:e("\x1B[97m","\x1B[39m"),bgBlackBright:e("\x1B[100m","\x1B[49m"),bgRedBright:e("\x1B[101m","\x1B[49m"),bgGreenBright:e("\x1B[102m","\x1B[49m"),bgYellowBright:e("\x1B[103m","\x1B[49m"),bgBlueBright:e("\x1B[104m","\x1B[49m"),bgMagentaBright:e("\x1B[105m","\x1B[49m"),bgCyanBright:e("\x1B[106m","\x1B[49m"),bgWhiteBright:e("\x1B[107m","\x1B[49m")}};$m.exports=F0();$m.exports.createColors=F0});var Vr=D(jt=>{Object.defineProperty(jt,"__esModule",{value:!0});var rC=Object.prototype.toString;function k8(t){switch(rC.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Cp(t,Error)}}function Xo(t,e){return rC.call(t)===`[object ${e}]`}function R8(t){return Xo(t,"ErrorEvent")}function M8(t){return Xo(t,"DOMError")}function L8(t){return Xo(t,"DOMException")}function B8(t){return Xo(t,"String")}function $8(t){return t===null||typeof t!="object"&&typeof t!="function"}function nC(t){return Xo(t,"Object")}function U8(t){return typeof Event<"u"&&Cp(t,Event)}function j8(t){return typeof Element<"u"&&Cp(t,Element)}function q8(t){return Xo(t,"RegExp")}function G8(t){return!!(t&&t.then&&typeof t.then=="function")}function V8(t){return nC(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function K8(t){return typeof t=="number"&&t!==t}function Cp(t,e){try{return t instanceof e}catch{return!1}}function H8(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}jt.isDOMError=M8;jt.isDOMException=L8;jt.isElement=j8;jt.isError=k8;jt.isErrorEvent=R8;jt.isEvent=U8;jt.isInstanceOf=Cp;jt.isNaN=K8;jt.isPlainObject=nC;jt.isPrimitive=$8;jt.isRegExp=q8;jt.isString=B8;jt.isSyntheticEvent=V8;jt.isThenable=G8;jt.isVueViewModel=H8});var Bu=D(Zs=>{Object.defineProperty(Zs,"__esModule",{value:!0});var vp=Vr();function z8(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function W8(t,e){let r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);let i=Math.max(e-60,0);i<5&&(i=0);let s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function Y8(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{vp.isVueViewModel(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function iC(t,e,r=!1){return vp.isString(t)?vp.isRegExp(e)?e.test(t):vp.isString(e)?r?t===e:t.includes(e):!1:!1}function J8(t,e=[],r=!1){return e.some(n=>iC(t,n,r))}Zs.isMatchingPattern=iC;Zs.safeJoin=Y8;Zs.snipLine=W8;Zs.stringMatchesSomePattern=J8;Zs.truncate=z8});var aC=D(Qm=>{Object.defineProperty(Qm,"__esModule",{value:!0});var Jm=Vr(),X8=Bu();function Q8(t,e,r=250,n,i,s,o){if(!s.exception||!s.exception.values||!o||!Jm.isInstanceOf(o.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=Z8(Xm(t,e,i,o.originalException,n,s.exception.values,a,0),r))}function Xm(t,e,r,n,i,s,o,a){if(s.length>=r+1)return s;let u=[...s];if(Jm.isInstanceOf(n[i],Error)){sC(o,a);let c=t(e,n[i]),l=u.length;oC(c,i,l,a),u=Xm(t,e,r,n[i],i,[c,...u],c,l)}return Array.isArray(n.errors)&&n.errors.forEach((c,l)=>{if(Jm.isInstanceOf(c,Error)){sC(o,a);let p=t(e,c),d=u.length;oC(p,`errors[${l}]`,d,a),u=Xm(t,e,r,c,i,[p,...u],p,d)}}),u}function sC(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function oC(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function Z8(t,e){return t.map(r=>(r.value&&(r.value=X8.truncate(r.value,e)),r))}Qm.applyAggregateErrorsToEvent=Q8});var xi=D($u=>{Object.defineProperty($u,"__esModule",{value:!0});function Tp(t){return t&&t.Math==Math?t:void 0}var Zm=typeof globalThis=="object"&&Tp(globalThis)||typeof window=="object"&&Tp(window)||typeof self=="object"&&Tp(self)||typeof global=="object"&&Tp(global)||function(){return this}()||{};function e$(){return Zm}function t$(t,e,r){let n=r||Zm,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}$u.GLOBAL_OBJ=Zm;$u.getGlobalObject=e$;$u.getGlobalSingleton=t$});var eg=D(Uu=>{Object.defineProperty(Uu,"__esModule",{value:!0});var r$=Vr(),n$=xi(),wp=n$.getGlobalObject(),i$=80;function s$(t,e={}){try{let r=t,n=5,i=[],s=0,o=0,a=" > ",u=a.length,c,l=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||i$;for(;r&&s++<n&&(c=o$(r,l),!(c==="html"||s>1&&o+i.length*u+c.length>=p));)i.push(c),o+=c.length,r=r.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function o$(t,e){let r=t,n=[],i,s,o,a,u;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());let c=e&&e.length?e.filter(p=>r.getAttribute(p)).map(p=>[p,r.getAttribute(p)]):null;if(c&&c.length)c.forEach(p=>{n.push(`[${p[0]}="${p[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&r$.isString(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)n.push(`.${s[u]}`);let l=["aria-label","type","name","title","alt"];for(u=0;u<l.length;u++)o=l[u],a=r.getAttribute(o),a&&n.push(`[${o}="${a}"]`);return n.join("")}function a$(){try{return wp.document.location.href}catch{return""}}function u$(t){return wp.document&&wp.document.querySelector?wp.document.querySelector(t):null}Uu.getDomElement=u$;Uu.getLocationHref=a$;Uu.htmlTreeAsString=s$});var Zo=D(Qo=>{Object.defineProperty(Qo,"__esModule",{value:!0});var tg=xi(),c$="Sentry Logger ",rg=["debug","info","warn","error","log","assert","trace"],ng={};function uC(t){if(!("console"in tg.GLOBAL_OBJ))return t();let e=tg.GLOBAL_OBJ.console,r={},n=Object.keys(ng);n.forEach(i=>{let s=ng[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function l$(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?rg.forEach(r=>{e[r]=(...n)=>{t&&uC(()=>{tg.GLOBAL_OBJ.console[r](`${c$}[${r}]:`,...n)})}}):rg.forEach(r=>{e[r]=()=>{}}),e}var p$=l$();Qo.CONSOLE_LEVELS=rg;Qo.consoleSandbox=uC;Qo.logger=p$;Qo.originalConsoleMethods=ng});var ig=D(ju=>{Object.defineProperty(ju,"__esModule",{value:!0});var Ap=Zo(),d$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function f$(t){return t==="http"||t==="https"}function h$(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=t;return`${a}://${u}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${o}`}function cC(t){let e=d$.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}let[r,n,i="",s,o="",a]=e.slice(1),u="",c=a,l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){let p=c.match(/^\d+/);p&&(c=p[0])}return lC({host:s,pass:i,path:u,projectId:c,port:o,protocol:r,publicKey:n})}function lC(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function m$(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(Ap.logger.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:r.match(/^\d+$/)?f$(n)?e&&isNaN(parseInt(e,10))?(Ap.logger.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Ap.logger.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Ap.logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function g$(t){let e=typeof t=="string"?cC(t):lC(t);if(!(!e||!m$(e)))return e}ju.dsnFromString=cC;ju.dsnToString=h$;ju.makeDsn=g$});var ag=D(og=>{Object.defineProperty(og,"__esModule",{value:!0});var sg=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};og.SentryError=sg});var eo=D(ln=>{Object.defineProperty(ln,"__esModule",{value:!0});var y$=eg(),ea=Vr(),pC=Bu();function b$(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);if(typeof i=="function")try{mC(i,n)}catch{}t[e]=i}function hC(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function mC(t,e){let r=e.prototype||{};t.prototype=e.prototype=r,hC(t,"__sentry_original__",e)}function E$(t){return t.__sentry_original__}function D$(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function gC(t){if(ea.isError(t))return{message:t.message,name:t.name,stack:t.stack,...fC(t)};if(ea.isEvent(t)){let e={type:t.type,target:dC(t.target),currentTarget:dC(t.currentTarget),...fC(t)};return typeof CustomEvent<"u"&&ea.isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function dC(t){try{return ea.isElement(t)?y$.htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function fC(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function x$(t,e=40){let r=Object.keys(gC(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return pC.truncate(r[0],e);for(let n=r.length;n>0;n--){let i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:pC.truncate(i,e)}return""}function S$(t){return ug(t,new Map)}function ug(t,e){if(ea.isPlainObject(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.keys(t))typeof t[i]<"u"&&(n[i]=ug(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(ug(i,e))}),n}return t}function _$(t){let e;switch(!0){case t==null:e=new String(t);break;case(typeof t=="symbol"||typeof t=="bigint"):e=Object(t);break;case ea.isPrimitive(t):e=new t.constructor(t);break;default:e=t;break}return e}ln.addNonEnumerableProperty=hC;ln.convertToPlainObject=gC;ln.dropUndefinedKeys=S$;ln.extractExceptionKeysForMessage=x$;ln.fill=b$;ln.getOriginalFunction=E$;ln.markFunctionWrapped=mC;ln.objectify=_$;ln.urlEncode=D$});var yC=D(cg=>{Object.defineProperty(cg,"__esModule",{value:!0});function C$(t){let e=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return n=>{let i=n.match(r);if(i){let s,o,a,u,c;if(i[1]){a=i[1];let h=a.lastIndexOf(".");if(a[h-1]==="."&&h--,h>0){s=a.slice(0,h),o=a.slice(h+1);let m=s.indexOf(".Module");m>0&&(a=a.slice(m+1),s=s.slice(0,m))}u=void 0}o&&(u=s,c=o),o==="<anonymous>"&&(c=void 0,a=void 0),a===void 0&&(c=c||"<anonymous>",a=u?`${u}.${c}`:c);let l=i[2]&&i[2].startsWith("file://")?i[2].slice(7):i[2],p=i[5]==="native";!l&&i[5]&&!p&&(l=i[5]);let f=!(p||l&&!l.startsWith("/")&&!l.includes(":\\")&&!l.startsWith(".")&&!l.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&l!==void 0&&!l.includes("node_modules/");return{filename:l,module:t?t(l):void 0,function:a,lineno:parseInt(i[3],10)||void 0,colno:parseInt(i[4],10)||void 0,in_app:f}}if(n.match(e))return{filename:n}}}cg.node=C$});var Pp=D(to=>{Object.defineProperty(to,"__esModule",{value:!0});var v$=yC(),DC=50,bC=/\(error: (.*)\)/,EC=/captureMessage|captureException/;function xC(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{let i=[],s=r.split(`
`);for(let o=n;o<s.length;o++){let a=s[o];if(a.length>1024)continue;let u=bC.test(a)?a.replace(bC,"$1"):a;if(!u.match(/\S*Error: /)){for(let c of e){let l=c(u);if(l){i.push(l);break}}if(i.length>=DC)break}}return SC(i)}}function T$(t){return Array.isArray(t)?xC(...t):t}function SC(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),EC.test(e[e.length-1].function||"")&&(e.pop(),EC.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,DC).map(r=>({...r,filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}var lg="<anonymous>";function w$(t){try{return!t||typeof t!="function"?lg:t.name||lg}catch{return lg}}function A$(t){return[90,v$.node(t)]}to.createStackParser=xC;to.getFunctionName=w$;to.nodeStackLineParser=A$;to.stackParserFromStackParserOptions=T$;to.stripSentryFramesAndReverse=SC});var fg=D(Nn=>{Object.defineProperty(Nn,"__esModule",{value:!0});var P$=Zo(),I$=xi(),Ip=I$.getGlobalObject();function N$(){try{return new ErrorEvent(""),!0}catch{return!1}}function F$(){try{return new DOMError(""),!0}catch{return!1}}function O$(){try{return new DOMException(""),!0}catch{return!1}}function dg(){if(!("fetch"in Ip))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function pg(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function k$(){if(!dg())return!1;if(pg(Ip.fetch))return!0;let t=!1,e=Ip.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=pg(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&P$.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function R$(){return"ReportingObserver"in Ip}function M$(){if(!dg())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}Nn.isNativeFetch=pg;Nn.supportsDOMError=F$;Nn.supportsDOMException=O$;Nn.supportsErrorEvent=N$;Nn.supportsFetch=dg;Nn.supportsNativeFetch=k$;Nn.supportsReferrerPolicy=M$;Nn.supportsReportingObserver=R$});var mg=D(hg=>{Object.defineProperty(hg,"__esModule",{value:!0});var L$=xi(),Np=L$.getGlobalObject();function B$(){let t=Np.chrome,e=t&&t.app&&t.app.runtime,r="history"in Np&&!!Np.history.pushState&&!!Np.history.replaceState;return!e&&r}hg.supportsHistory=B$});var IC=D(ds=>{Object.defineProperty(ds,"__esModule",{value:!0});var _C=Vr(),Gu=Zo(),Fn=eo(),$$=Pp(),U$=fg(),ro=xi(),j$=mg(),Pt=ro.getGlobalObject(),qu="__sentry_xhr_v2__",no={},CC={};function q$(t){if(!CC[t])switch(CC[t]=!0,t){case"console":K$();break;case"dom":PC();break;case"xhr":AC();break;case"fetch":H$();break;case"history":z$();break;case"error":X$();break;case"unhandledrejection":Q$();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gu.logger.warn("unknown instrumentation type:",t);return}}function G$(t,e){no[t]=no[t]||[],no[t].push(e),q$(t)}function V$(){Object.keys(no).forEach(t=>{no[t]=void 0})}function pn(t,e){if(!(!t||!no[t]))for(let r of no[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gu.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${$$.getFunctionName(r)}
Error:`,n)}}function K$(){"console"in ro.GLOBAL_OBJ&&Gu.CONSOLE_LEVELS.forEach(function(t){t in ro.GLOBAL_OBJ.console&&Fn.fill(ro.GLOBAL_OBJ.console,t,function(e){return Gu.originalConsoleMethods[t]=e,function(...r){pn("console",{args:r,level:t});let n=Gu.originalConsoleMethods[t];n&&n.apply(ro.GLOBAL_OBJ.console,r)}})})}function H$(){U$.supportsNativeFetch()&&Fn.fill(ro.GLOBAL_OBJ,"fetch",function(t){return function(...e){let{method:r,url:n}=wC(e),i={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return pn("fetch",{...i}),t.apply(ro.GLOBAL_OBJ,e).then(s=>(pn("fetch",{...i,endTimestamp:Date.now(),response:s}),s),s=>{throw pn("fetch",{...i,endTimestamp:Date.now(),error:s}),s})}})}function gg(t,e){return!!t&&typeof t=="object"&&!!t[e]}function vC(t){return typeof t=="string"?t:t?gg(t,"url")?t.url:t.toString?t.toString():"":""}function wC(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:vC(r),method:gg(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:vC(e),method:gg(e,"method")?String(e.method).toUpperCase():"GET"}}function AC(){if(!Pt.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;Fn.fill(t,"open",function(e){return function(...r){let n=r[1],i=this[qu]={method:_C.isString(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};_C.isString(n)&&i.method==="POST"&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let o=this[qu];if(o&&this.readyState===4){try{o.status_code=this.status}catch{}pn("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Fn.fill(this,"onreadystatechange",function(o){return function(...a){return s(),o.apply(this,a)}}):this.addEventListener("readystatechange",s),Fn.fill(this,"setRequestHeader",function(o){return function(...a){let[u,c]=a,l=this[qu];return l&&(l.request_headers[u.toLowerCase()]=c),o.apply(this,a)}}),e.apply(this,r)}}),Fn.fill(t,"send",function(e){return function(...r){let n=this[qu];return n&&r[0]!==void 0&&(n.body=r[0]),pn("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}var Fp;function z$(){if(!j$.supportsHistory())return;let t=Pt.onpopstate;Pt.onpopstate=function(...r){let n=Pt.location.href,i=Fp;if(Fp=n,pn("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=Fp,o=String(i);Fp=o,pn("history",{from:s,to:o})}return r.apply(this,n)}}Fn.fill(Pt.history,"pushState",e),Fn.fill(Pt.history,"replaceState",e)}var W$=1e3,Op,kp;function Y$(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function J$(t){if(t.type!=="keypress")return!1;try{let e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function TC(t,e=!1){return r=>{if(!r||kp===r||J$(r))return;let n=r.type==="keypress"?"input":r.type;Op===void 0?(t({event:r,name:n,global:e}),kp=r):Y$(kp,r)&&(t({event:r,name:n,global:e}),kp=r),clearTimeout(Op),Op=Pt.setTimeout(()=>{Op=void 0},W$)}}function PC(){if(!Pt.document)return;let t=pn.bind(null,"dom"),e=TC(t,!0);Pt.document.addEventListener("click",e,!1),Pt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let n=Pt[r]&&Pt[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Fn.fill(n,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=c[s]=c[s]||{refCount:0};if(!l.handler){let p=TC(t);l.handler=p,i.call(this,s,p,a)}l.refCount++}catch{}return i.call(this,s,o,a)}}),Fn.fill(n,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let u=this,c=u.__sentry_instrumentation_handlers__||{},l=c[s];l&&(l.refCount--,l.refCount<=0&&(i.call(this,s,l.handler,a),l.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}var Rp=null;function X$(){Rp=Pt.onerror,Pt.onerror=function(t,e,r,n,i){return pn("error",{column:n,error:i,line:r,msg:t,url:e}),Rp&&!Rp.__SENTRY_LOADER__?Rp.apply(this,arguments):!1},Pt.onerror.__SENTRY_INSTRUMENTED__=!0}var Mp=null;function Q$(){Mp=Pt.onunhandledrejection,Pt.onunhandledrejection=function(t){return pn("unhandledrejection",t),Mp&&!Mp.__SENTRY_LOADER__?Mp.apply(this,arguments):!0},Pt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}ds.SENTRY_XHR_DATA_KEY=qu;ds.addInstrumentationHandler=G$;ds.instrumentDOM=PC;ds.instrumentXHR=AC;ds.parseFetchArgs=wC;ds.resetInstrumentationHandlers=V$});var bg=D(yg=>{Object.defineProperty(yg,"__esModule",{value:!0});function Z$(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[r,n]}yg.memoKhulnasoft=Z$});var Lp=D(On=>{Object.defineProperty(On,"__esModule",{value:!0});var eU=eo(),Eg=Bu(),tU=xi();function rU(){let t=tU.GLOBAL_OBJ,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>e.getRandomValues(new Uint8Array(1))[0])}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function NC(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function nU(t){let{message:e,event_id:r}=t;if(e)return e;let n=NC(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function iU(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}function sU(t,e){let r=NC(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}var oU=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function aU(t){let e=t.match(oU)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}function uU(t,e,r=5){if(e.lineno===void 0)return;let n=t.length,i=Math.max(Math.min(n-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,i-r),i).map(s=>Eg.snipLine(s,0)),e.context_line=Eg.snipLine(t[Math.min(n-1,i)],e.colno||0),e.post_context=t.slice(Math.min(i+1,n),i+1+r).map(s=>Eg.snipLine(s,0))}function cU(t){if(t&&t.__sentry_captured__)return!0;try{eU.addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function lU(t){return Array.isArray(t)?t:[t]}On.addContextToFrame=uU;On.addExceptionMechanism=sU;On.addExceptionTypeValue=iU;On.arrayify=lU;On.checkOrSetAlreadyCaught=cU;On.getEventDescription=nU;On.parseSemver=aU;On.uuid4=rU});var Dg=D(Bp=>{Object.defineProperty(Bp,"__esModule",{value:!0});function pU(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function dU(){return"npm"}Bp.getSDKSource=dU;Bp.isBrowserBundle=pU});var xg=D((Vu,Up)=>{Object.defineProperty(Vu,"__esModule",{value:!0});var fU=Dg();function hU(){return!fU.isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function $p(t,e){return t.require(e)}function mU(t){let e;try{e=$p(Up,t)}catch{}try{let{cwd:r}=$p(Up,"process");e=$p(Up,`${r()}/node_modules/${t}`)}catch{}return e}Vu.dynamicRequire=$p;Vu.isNodeEnv=hU;Vu.loadModule=mU});var Hu=D(Ku=>{Object.defineProperty(Ku,"__esModule",{value:!0});var Sg=Vr(),gU=bg(),yU=eo(),bU=Pp();function FC(t,e=100,r=1/0){try{return jp("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function OC(t,e=3,r=100*1024){let n=FC(t,e);return SU(n)>r?OC(t,e-1,r):n}function jp(t,e,r=1/0,n=1/0,i=gU.memoKhulnasoft()){let[s,o]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&!Sg.isNaN(e))return e;let a=EU(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return a.replace("object ","");if(s(e))return"[Circular ~]";let c=e;if(c&&typeof c.toJSON=="function")try{let f=c.toJSON();return jp("",f,u-1,n,i)}catch{}let l=Array.isArray(e)?[]:{},p=0,d=yU.convertToPlainObject(e);for(let f in d){if(!Object.prototype.hasOwnProperty.call(d,f))continue;if(p>=n){l[f]="[MaxProperties ~]";break}let h=d[f];l[f]=jp(f,h,u-1,n,i),p++}return o(e),l}function EU(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Sg.isVueViewModel(e))return"[VueViewModel]";if(Sg.isSyntheticEvent(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${bU.getFunctionName(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=DU(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function DU(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function xU(t){return~-encodeURI(t).split(/%..|./).length}function SU(t){return xU(JSON.stringify(t))}Ku.normalize=FC;Ku.normalizeToSize=OC;Ku.walk=jp});var $C=D(Si=>{Object.defineProperty(Si,"__esModule",{value:!0});function RC(t,e){let r=0;for(let n=t.length-1;n>=0;n--){let i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var _U=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function MC(t){let e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,r=_U.exec(e);return r?r.slice(1):[]}function _g(...t){let e="",r=!1;for(let n=t.length-1;n>=-1&&!r;n--){let i=n>=0?t[n]:"/";i&&(e=`${i}/${e}`,r=i.charAt(0)==="/")}return e=RC(e.split("/").filter(n=>!!n),!r).join("/"),(r?"/":"")+e||"."}function kC(t){let e=0;for(;e<t.length&&t[e]==="";e++);let r=t.length-1;for(;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}function CU(t,e){t=_g(t).slice(1),e=_g(e).slice(1);let r=kC(t.split("/")),n=kC(e.split("/")),i=Math.min(r.length,n.length),s=i;for(let a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}let o=[];for(let a=s;a<r.length;a++)o.push("..");return o=o.concat(n.slice(s)),o.join("/")}function LC(t){let e=BC(t),r=t.slice(-1)==="/",n=RC(t.split("/").filter(i=>!!i),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}function BC(t){return t.charAt(0)==="/"}function vU(...t){return LC(t.join("/"))}function TU(t){let e=MC(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.slice(0,n.length-1)),r+n)}function wU(t,e){let r=MC(t)[2];return e&&r.slice(e.length*-1)===e&&(r=r.slice(0,r.length-e.length)),r}Si.basename=wU;Si.dirname=TU;Si.isAbsolute=BC;Si.join=vU;Si.normalizePath=LC;Si.relative=CU;Si.resolve=_g});var Cg=D(Wu=>{Object.defineProperty(Wu,"__esModule",{value:!0});var AU=Vr(),_i;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(_i||(_i={}));function PU(t){return new zu(e=>{e(t)})}function IU(t){return new zu((e,r)=>{r(t)})}var zu=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=_i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(o){i(o)}},s=>{if(!r)i(s);else try{n(r(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(o=>{s=!1,i=o,e&&e()},o=>{s=!0,i=o,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(_i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(_i.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===_i.PENDING){if(AU.isThenable(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===_i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===_i.RESOLVED&&r[1](this._value),this._state===_i.REJECTED&&r[2](this._value),r[0]=!0)})}}};Wu.SyncPromise=zu;Wu.rejectedSyncPromise=IU;Wu.resolvedSyncPromise=PU});var UC=D(Tg=>{Object.defineProperty(Tg,"__esModule",{value:!0});var NU=ag(),vg=Cg();function FU(t){let e=[];function r(){return t===void 0||e.length<t}function n(o){return e.splice(e.indexOf(o),1)[0]}function i(o){if(!r())return vg.rejectedSyncPromise(new NU.SentryError("Not adding Promise because buffer limit was reached."));let a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function s(o){return new vg.SyncPromise((a,u)=>{let c=e.length;if(!c)return a(!0);let l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(p=>{vg.resolvedSyncPromise(p).then(()=>{--c||(clearTimeout(l),a(!0))},u)})})}return{$:e,add:i,drain:s}}Tg.makePromiseBuffer=FU});var wg=D(ta=>{Object.defineProperty(ta,"__esModule",{value:!0});function OU(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}function kU(t){return t.split(/[\?#]/,1)[0]}function RU(t){return t.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function MU(t){let{protocol:e,host:r,path:n}=t,i=r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(":80","").replace(":443","")||"";return`${e?`${e}://`:""}${i}${n}`}ta.getNumberOfUrlSegments=RU;ta.getSanitizedUrlString=MU;ta.parseUrl=OU;ta.stripUrlQueryAndFragment=kU});var GC=D(ra=>{Object.defineProperty(ra,"__esModule",{value:!0});var jC=Vr(),LU=Hu(),BU=wg(),$U={ip:!1,request:!0,transaction:!0,user:!0},UU=["cookies","data","headers","method","query_string","url"],jU=["id","username","email"];function qU(t,e,r){t&&((!t.metadata.source||t.metadata.source==="url")&&t.setName(...qp(e,{path:!0,method:!0})),t.setData("url",e.originalUrl||e.url),e.baseUrl&&t.setData("baseUrl",e.baseUrl),t.setData("query",qC(e,r)))}function qp(t,e={}){let r=t.method&&t.method.toUpperCase(),n="",i="url";e.customRoute||t.route?(n=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,i="route"):(t.originalUrl||t.url)&&(n=BU.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let s="";return e.method&&r&&(s+=r),e.method&&e.path&&(s+=" "),e.path&&n&&(s+=n),[s,i]}function GU(t,e){switch(e){case"path":return qp(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:return qp(t,{path:!0,method:!0})[0]}}function VU(t,e){let r={};return(Array.isArray(e)?e:jU).forEach(i=>{t&&i in t&&(r[i]=t[i])}),r}function Ag(t,e){let{include:r=UU,deps:n}=e||{},i={},s=t.headers||{},o=t.method,a=t.hostname||t.host||s.host||"<no host>",u=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",c=t.originalUrl||t.url||"",l=`${u}://${a}${c}`;return r.forEach(p=>{switch(p){case"headers":{i.headers=s;break}case"method":{i.method=o;break}case"url":{i.url=l;break}case"cookies":{i.cookies=t.cookies||s.cookie&&n&&n.cookie&&n.cookie.parse(s.cookie)||{};break}case"query_string":{i.query_string=qC(t,n);break}case"data":{if(o==="GET"||o==="HEAD")break;t.body!==void 0&&(i.data=jC.isString(t.body)?t.body:JSON.stringify(LU.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,p)&&(i[p]=t[p])}}),i}function KU(t,e,r){let n={...$U,...r&&r.include};if(n.request){let i=Array.isArray(n.request)?Ag(e,{include:n.request,deps:r&&r.deps}):Ag(e,{deps:r&&r.deps});t.request={...t.request,...i}}if(n.user){let i=e.user&&jC.isPlainObject(e.user)?VU(e.user,n.user):{};Object.keys(i).length&&(t.user={...t.user,...i})}if(n.ip){let i=e.ip||e.socket&&e.socket.remoteAddress;i&&(t.user={...t.user,ip_address:i})}return n.transaction&&!t.transaction&&(t.transaction=GU(e,n.transaction)),t}function qC(t,e){let r=t.originalUrl||t.url||"";if(r)return r.startsWith("/")&&(r=`http://dogs.are.great${r}`),t.query||typeof URL!==void 0&&new URL(r).search.replace("?","")||e&&e.url&&e.url.parse(r).query||void 0}ra.addRequestDataToEvent=KU;ra.addRequestDataToTransaction=qU;ra.extractPathForTransaction=qp;ra.extractRequestData=Ag});var HC=D(Yu=>{Object.defineProperty(Yu,"__esModule",{value:!0});var VC=["fatal","error","warning","log","info","debug"];function HU(t){return KC(t)}function KC(t){return t==="warn"?"warning":VC.includes(t)?t:"log"}Yu.severityFromString=HU;Yu.severityLevelFromString=KC;Yu.validSeverityLevels=VC});var Ig=D((Kr,XC)=>{Object.defineProperty(Kr,"__esModule",{value:!0});var WC=xg(),zU=xi(),YC=zU.getGlobalObject(),Pg={nowSeconds:()=>Date.now()/1e3};function WU(){let{performance:t}=YC;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function YU(){try{return WC.dynamicRequire(XC,"perf_hooks").performance}catch{return}}var Gp=WC.isNodeEnv()?YU():WU(),zC=Gp===void 0?Pg:{nowSeconds:()=>(Gp.timeOrigin+Gp.now())/1e3},JU=Pg.nowSeconds.bind(Pg),JC=zC.nowSeconds.bind(zC),XU=JC,QU=Gp!==void 0;Kr._browserPerformanceTimeOriginMode=void 0;var ZU=(()=>{let{performance:t}=YC;if(!t||!t.now){Kr._browserPerformanceTimeOriginMode="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+r-n):e,c=u<e;return s||c?i<=u?(Kr._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Kr._browserPerformanceTimeOriginMode="navigationStart",o):(Kr._browserPerformanceTimeOriginMode="dateNow",n)})();Kr.browserPerformanceTimeOrigin=ZU;Kr.dateTimestampInSeconds=JU;Kr.timestampInSeconds=JC;Kr.timestampWithMs=XU;Kr.usingPerformanceAPI=QU});var Fg=D(fs=>{Object.defineProperty(fs,"__esModule",{value:!0});var e6=Vr(),t6=Zo(),r6="baggage",Ng="sentry-",ZC=/^sentry-/,ev=8192;function n6(t){if(!e6.isString(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,i)=>{let s=QC(i);return{...n,...s}},{});else{if(!t)return;e=QC(t)}let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(ZC)){let o=i.slice(Ng.length);n[o]=s}return n},{});if(Object.keys(r).length>0)return r}function i6(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${Ng}${n}`]=i),r),{});return s6(e)}function QC(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function s6(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,o=i===0?s:`${e},${s}`;return o.length>ev?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t6.logger.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o},"")}fs.BAGGAGE_HEADER_NAME=r6;fs.MAX_BAGGAGE_STRING_LENGTH=ev;fs.SENTRY_BAGGAGE_KEY_PREFIX=Ng;fs.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=ZC;fs.baggageHeaderToDynamicSamplingContext=n6;fs.dynamicSamplingContextToSentryBaggageHeader=i6});var nv=D(na=>{Object.defineProperty(na,"__esModule",{value:!0});var o6=Fg(),Vp=Lp(),tv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function rv(t){if(!t)return;let e=t.match(tv);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function a6(t,e){let r=rv(t),n=o6.baggageHeaderToDynamicSamplingContext(e),{traceId:i,parentSpanId:s,parentSampled:o}=r||{},a={traceId:i||Vp.uuid4(),spanId:Vp.uuid4().substring(16),sampled:o};return s&&(a.parentSpanId=s),n&&(a.dsc=n),{traceparentData:r,dynamicSamplingContext:n,propagationContext:a}}function u6(t=Vp.uuid4(),e=Vp.uuid4().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}na.TRACEPARENT_REGEXP=tv;na.extractTraceparentData=rv;na.generateSentryTraceHeader=u6;na.tracingContextFromHeaders=a6});var kg=D(Hr=>{Object.defineProperty(Hr,"__esModule",{value:!0});var c6=ig(),l6=Hu(),iv=eo();function p6(t,e=[]){return[t,e]}function d6(t,e){let[r,n]=t;return[r,[...n,e]]}function sv(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function f6(t,e){return sv(t,(r,n)=>e.includes(n))}function Og(t,e){return(e||new TextEncoder).encode(t)}function h6(t,e){let[r,n]=t,i=JSON.stringify(r);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[Og(i,e),o]:i.push(typeof o=="string"?Og(o,e):o)}for(let o of n){let[a,u]=o;if(s(`
${JSON.stringify(a)}
`),typeof u=="string"||u instanceof Uint8Array)s(u);else{let c;try{c=JSON.stringify(u)}catch{c=JSON.stringify(l6.normalize(u))}s(c)}}return typeof i=="string"?i:m6(i)}function m6(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function g6(t,e,r){let n=typeof t=="string"?e.encode(t):t;function i(u){let c=n.subarray(0,u);return n=n.subarray(u+1),c}function s(){let u=n.indexOf(10);return u<0&&(u=n.length),JSON.parse(r.decode(i(u)))}let o=s(),a=[];for(;n.length;){let u=s(),c=typeof u.length=="number"?u.length:void 0;a.push([u,c?i(c):s()])}return[o,a]}function y6(t,e){let r=typeof t.data=="string"?Og(t.data,e):t.data;return[iv.dropUndefinedKeys({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var b6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function E6(t){return b6[t]}function D6(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function x6(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:c6.dsnToString(n)},...i&&{trace:iv.dropUndefinedKeys({...i})}}}Hr.addItemToEnvelope=d6;Hr.createAttachmentEnvelopeItem=y6;Hr.createEnvelope=p6;Hr.createEventEnvelopeHeaders=x6;Hr.envelopeContainsItemType=f6;Hr.envelopeItemTypeToDataCategory=E6;Hr.forEachEnvelopeItem=sv;Hr.getSdkMetadataForEnvelopeHeader=D6;Hr.parseEnvelope=g6;Hr.serializeEnvelope=h6});var ov=D(Rg=>{Object.defineProperty(Rg,"__esModule",{value:!0});var S6=kg(),_6=Ig();function C6(t,e,r){let n=[{type:"client_report"},{timestamp:r||_6.dateTimestampInSeconds(),discarded_events:t}];return S6.createEnvelope(e?{dsn:e}:{},[n])}Rg.createClientReportEnvelope=C6});var lv=D(io=>{Object.defineProperty(io,"__esModule",{value:!0});var av=60*1e3;function uv(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?av:n-e}function cv(t,e){return t[e]||t.all||0}function v6(t,e,r=Date.now()){return cv(t,e)>r}function T6(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(s)for(let a of s.trim().split(",")){let[u,c]=a.split(":",2),l=parseInt(u,10),p=(isNaN(l)?60:l)*1e3;if(!c)i.all=n+p;else for(let d of c.split(";"))i[d]=n+p}else o?i.all=n+uv(o,n):e===429&&(i.all=n+60*1e3);return i}io.DEFAULT_RETRY_AFTER=av;io.disabledUntil=cv;io.isRateLimited=v6;io.parseRetryAfterHeader=uv;io.updateRateLimits=T6});var fv=D(Mg=>{Object.defineProperty(Mg,"__esModule",{value:!0});function pv(t,e,r){let n=e.match(/([a-z_]+)\.(.*)/i);if(n===null)t[e]=r;else{let i=t[n[1]];pv(i,n[2],r)}}function w6(t,e,r={}){return Array.isArray(e)?dv(t,e,r):A6(t,e,r)}function dv(t,e,r){let n=e.find(i=>i.name===t.name);if(n){for(let[i,s]of Object.entries(r))pv(n,i,s);return e}return[...e,t]}function A6(t,e,r){return i=>{let s=e(i);return t.allowExclusionByUser&&!s.find(a=>a.name===t.name)?s:dv(t,s,r)}}Mg.addOrUpdateIntegration=w6});var hv=D(Lg=>{Object.defineProperty(Lg,"__esModule",{value:!0});function P6(t){let e=[],r={};return{add(n,i){for(;e.length>=t;){let s=e.shift();s!==void 0&&delete r[s]}r[n]&&this.delete(n),e.push(n),r[n]=i},clear(){r={},e=[]},get(n){return r[n]},size(){return e.length},delete(n){if(!r[n])return!1;delete r[n];for(let i=0;i<e.length;i++)if(e[i]===n){e.splice(i,1);break}return!0}}}Lg.makeFifoCache=P6});var bv=D(ia=>{Object.defineProperty(ia,"__esModule",{value:!0});var mv=Vr(),gv=Lp(),I6=Hu(),N6=eo();function Bg(t,e){return t(e.stack||"",1)}function yv(t,e){let r={type:e.name||e.constructor.name,value:e.message},n=Bg(t,e);return n.length&&(r.stacktrace={frames:n}),r}function F6(t,e,r,n){let i=r,o=n&&n.data&&n.data.mechanism||{handled:!0,type:"generic"};if(!mv.isError(r)){if(mv.isPlainObject(r)){let u=`Non-Error exception captured with keys: ${N6.extractExceptionKeysForMessage(r)}`,c=t(),l=c.getClient(),p=l&&l.getOptions().normalizeDepth;c.configureScope(d=>{d.setExtra("__serialized__",I6.normalizeToSize(r,p))}),i=n&&n.syntheticException||new Error(u),i.message=u}else i=n&&n.syntheticException||new Error(r),i.message=r;o.synthetic=!0}let a={exception:{values:[yv(e,i)]}};return gv.addExceptionTypeValue(a,void 0,void 0),gv.addExceptionMechanism(a,o),{...a,event_id:n&&n.event_id}}function O6(t,e,r="info",n,i){let s={event_id:n&&n.event_id,level:r,message:e};if(i&&n&&n.syntheticException){let o=Bg(t,n.syntheticException);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]})}return s}ia.eventFromMessage=O6;ia.eventFromUnknownInput=F6;ia.exceptionFromError=yv;ia.parseStackFrames=Bg});var Ev=D($g=>{Object.defineProperty($g,"__esModule",{value:!0});function k6(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}$g.escapeStringForRegex=k6});var z=D(A=>{Object.defineProperty(A,"__esModule",{value:!0});var R6=aC(),Ug=eg(),jg=ig(),M6=ag(),qg=xi(),sa=IC(),ur=Vr(),Kp=Zo(),L6=bg(),hs=Lp(),Gg=xg(),Vg=Hu(),Ci=eo(),so=$C(),B6=UC(),Hp=GC(),Kg=HC(),Ju=Pp(),Xu=Bu(),ms=fg(),Hg=Cg(),oa=Ig(),zp=nv(),Dv=Dg(),kn=kg(),$6=ov(),Qu=lv(),aa=Fg(),Wp=wg(),U6=fv(),j6=hv(),Yp=bv(),q6=Ev(),G6=mg();A.applyAggregateErrorsToEvent=R6.applyAggregateErrorsToEvent;A.getDomElement=Ug.getDomElement;A.getLocationHref=Ug.getLocationHref;A.htmlTreeAsString=Ug.htmlTreeAsString;A.dsnFromString=jg.dsnFromString;A.dsnToString=jg.dsnToString;A.makeDsn=jg.makeDsn;A.SentryError=M6.SentryError;A.GLOBAL_OBJ=qg.GLOBAL_OBJ;A.getGlobalObject=qg.getGlobalObject;A.getGlobalSingleton=qg.getGlobalSingleton;A.SENTRY_XHR_DATA_KEY=sa.SENTRY_XHR_DATA_KEY;A.addInstrumentationHandler=sa.addInstrumentationHandler;A.instrumentDOM=sa.instrumentDOM;A.instrumentXHR=sa.instrumentXHR;A.parseFetchArgs=sa.parseFetchArgs;A.resetInstrumentationHandlers=sa.resetInstrumentationHandlers;A.isDOMError=ur.isDOMError;A.isDOMException=ur.isDOMException;A.isElement=ur.isElement;A.isError=ur.isError;A.isErrorEvent=ur.isErrorEvent;A.isEvent=ur.isEvent;A.isInstanceOf=ur.isInstanceOf;A.isNaN=ur.isNaN;A.isPlainObject=ur.isPlainObject;A.isPrimitive=ur.isPrimitive;A.isRegExp=ur.isRegExp;A.isString=ur.isString;A.isSyntheticEvent=ur.isSyntheticEvent;A.isThenable=ur.isThenable;A.isVueViewModel=ur.isVueViewModel;A.CONSOLE_LEVELS=Kp.CONSOLE_LEVELS;A.consoleSandbox=Kp.consoleSandbox;A.logger=Kp.logger;A.originalConsoleMethods=Kp.originalConsoleMethods;A.memoKhulnasoft=L6.memoKhulnasoft;A.addContextToFrame=hs.addContextToFrame;A.addExceptionMechanism=hs.addExceptionMechanism;A.addExceptionTypeValue=hs.addExceptionTypeValue;A.arrayify=hs.arrayify;A.checkOrSetAlreadyCaught=hs.checkOrSetAlreadyCaught;A.getEventDescription=hs.getEventDescription;A.parseSemver=hs.parseSemver;A.uuid4=hs.uuid4;A.dynamicRequire=Gg.dynamicRequire;A.isNodeEnv=Gg.isNodeEnv;A.loadModule=Gg.loadModule;A.normalize=Vg.normalize;A.normalizeToSize=Vg.normalizeToSize;A.walk=Vg.walk;A.addNonEnumerableProperty=Ci.addNonEnumerableProperty;A.convertToPlainObject=Ci.convertToPlainObject;A.dropUndefinedKeys=Ci.dropUndefinedKeys;A.extractExceptionKeysForMessage=Ci.extractExceptionKeysForMessage;A.fill=Ci.fill;A.getOriginalFunction=Ci.getOriginalFunction;A.markFunctionWrapped=Ci.markFunctionWrapped;A.objectify=Ci.objectify;A.urlEncode=Ci.urlEncode;A.basename=so.basename;A.dirname=so.dirname;A.isAbsolute=so.isAbsolute;A.join=so.join;A.normalizePath=so.normalizePath;A.relative=so.relative;A.resolve=so.resolve;A.makePromiseBuffer=B6.makePromiseBuffer;A.addRequestDataToEvent=Hp.addRequestDataToEvent;A.addRequestDataToTransaction=Hp.addRequestDataToTransaction;A.extractPathForTransaction=Hp.extractPathForTransaction;A.extractRequestData=Hp.extractRequestData;A.severityFromString=Kg.severityFromString;A.severityLevelFromString=Kg.severityLevelFromString;A.validSeverityLevels=Kg.validSeverityLevels;A.createStackParser=Ju.createStackParser;A.getFunctionName=Ju.getFunctionName;A.nodeStackLineParser=Ju.nodeStackLineParser;A.stackParserFromStackParserOptions=Ju.stackParserFromStackParserOptions;A.stripSentryFramesAndReverse=Ju.stripSentryFramesAndReverse;A.isMatchingPattern=Xu.isMatchingPattern;A.safeJoin=Xu.safeJoin;A.snipLine=Xu.snipLine;A.stringMatchesSomePattern=Xu.stringMatchesSomePattern;A.truncate=Xu.truncate;A.isNativeFetch=ms.isNativeFetch;A.supportsDOMError=ms.supportsDOMError;A.supportsDOMException=ms.supportsDOMException;A.supportsErrorEvent=ms.supportsErrorEvent;A.supportsFetch=ms.supportsFetch;A.supportsNativeFetch=ms.supportsNativeFetch;A.supportsReferrerPolicy=ms.supportsReferrerPolicy;A.supportsReportingObserver=ms.supportsReportingObserver;A.SyncPromise=Hg.SyncPromise;A.rejectedSyncPromise=Hg.rejectedSyncPromise;A.resolvedSyncPromise=Hg.resolvedSyncPromise;Object.defineProperty(A,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>oa._browserPerformanceTimeOriginMode});A.browserPerformanceTimeOrigin=oa.browserPerformanceTimeOrigin;A.dateTimestampInSeconds=oa.dateTimestampInSeconds;A.timestampInSeconds=oa.timestampInSeconds;A.timestampWithMs=oa.timestampWithMs;A.usingPerformanceAPI=oa.usingPerformanceAPI;A.TRACEPARENT_REGEXP=zp.TRACEPARENT_REGEXP;A.extractTraceparentData=zp.extractTraceparentData;A.generateSentryTraceHeader=zp.generateSentryTraceHeader;A.tracingContextFromHeaders=zp.tracingContextFromHeaders;A.getSDKSource=Dv.getSDKSource;A.isBrowserBundle=Dv.isBrowserBundle;A.addItemToEnvelope=kn.addItemToEnvelope;A.createAttachmentEnvelopeItem=kn.createAttachmentEnvelopeItem;A.createEnvelope=kn.createEnvelope;A.createEventEnvelopeHeaders=kn.createEventEnvelopeHeaders;A.envelopeContainsItemType=kn.envelopeContainsItemType;A.envelopeItemTypeToDataCategory=kn.envelopeItemTypeToDataCategory;A.forEachEnvelopeItem=kn.forEachEnvelopeItem;A.getSdkMetadataForEnvelopeHeader=kn.getSdkMetadataForEnvelopeHeader;A.parseEnvelope=kn.parseEnvelope;A.serializeEnvelope=kn.serializeEnvelope;A.createClientReportEnvelope=$6.createClientReportEnvelope;A.DEFAULT_RETRY_AFTER=Qu.DEFAULT_RETRY_AFTER;A.disabledUntil=Qu.disabledUntil;A.isRateLimited=Qu.isRateLimited;A.parseRetryAfterHeader=Qu.parseRetryAfterHeader;A.updateRateLimits=Qu.updateRateLimits;A.BAGGAGE_HEADER_NAME=aa.BAGGAGE_HEADER_NAME;A.MAX_BAGGAGE_STRING_LENGTH=aa.MAX_BAGGAGE_STRING_LENGTH;A.SENTRY_BAGGAGE_KEY_PREFIX=aa.SENTRY_BAGGAGE_KEY_PREFIX;A.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=aa.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;A.baggageHeaderToDynamicSamplingContext=aa.baggageHeaderToDynamicSamplingContext;A.dynamicSamplingContextToSentryBaggageHeader=aa.dynamicSamplingContextToSentryBaggageHeader;A.getNumberOfUrlSegments=Wp.getNumberOfUrlSegments;A.getSanitizedUrlString=Wp.getSanitizedUrlString;A.parseUrl=Wp.parseUrl;A.stripUrlQueryAndFragment=Wp.stripUrlQueryAndFragment;A.addOrUpdateIntegration=U6.addOrUpdateIntegration;A.makeFifoCache=j6.makeFifoCache;A.eventFromMessage=Yp.eventFromMessage;A.eventFromUnknownInput=Yp.eventFromUnknownInput;A.exceptionFromError=Yp.exceptionFromError;A.parseStackFrames=Yp.parseStackFrames;A.escapeStringForRegex=q6.escapeStringForRegex;A.supportsHistory=G6.supportsHistory});var Zu=D(zg=>{Object.defineProperty(zg,"__esModule",{value:!0});var V6="production";zg.DEFAULT_ENVIRONMENT=V6});var rc=D(tc=>{Object.defineProperty(tc,"__esModule",{value:!0});var ec=z();function K6(t){let e=ec.timestampInSeconds(),r={sid:ec.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>z6(r)};return t&&Wg(r,t),r}function Wg(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ec.timestampInSeconds(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:ec.uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function H6(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Wg(t,r)}function z6(t){return ec.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}tc.closeSession=H6;tc.makeSession=K6;tc.updateSession=Wg});var nc=D(Jp=>{Object.defineProperty(Jp,"__esModule",{value:!0});var vi=z(),W6=rc(),Y6=100,Yg=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xv()}static clone(e){let r=new t;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata},r._propagationContext={...e._propagationContext}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&W6.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):vi.isPlainObject(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=xv(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Y6;if(n<=0)return this;let i={timestamp:vi.dateTimestampInSeconds(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let s=this._span.transaction;if(s){e.sdkProcessingMetadata={dynamicSamplingContext:s.getDynamicSamplingContext(),...e.sdkProcessingMetadata};let o=s.name;o&&(e.tags={transaction:o,...e.tags})}}this._applyFingerprint(e);let n=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...n];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...Sv(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyEventProcessors(e,r,n,i=0){return new vi.SyncPromise((s,o)=>{let a=e[i];if(r===null||typeof a!="function")s(r);else{let u=a({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&u===null&&vi.logger.log(`Event processor "${a.id}" dropped event`),vi.isThenable(u)?u.then(c=>this._notifyEventProcessors(e,c,n,i+1).then(s)).then(null,o):this._notifyEventProcessors(e,u,n,i+1).then(s).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?vi.arrayify(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function Sv(){return vi.getGlobalSingleton("globalEventProcessors",()=>[])}function J6(t){Sv().push(t)}function xv(){return{traceId:vi.uuid4(),spanId:vi.uuid4().substring(16)}}Jp.Scope=Yg;Jp.addGlobalEventProcessor=J6});var Yr=D(Wr=>{Object.defineProperty(Wr,"__esModule",{value:!0});var zr=z(),X6=Zu(),Xg=nc(),Jg=rc(),Xp=4,Q6=100,ua=class{constructor(e,r=new Xg.Scope,n=Xp){this._version=n,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=Xg.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let n=this._lastEventId=r&&r.event_id?r.event_id:zr.uuid4(),i=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},o)}),n}captureMessage(e,r,n){let i=this._lastEventId=n&&n.event_id?n.event_id:zr.uuid4(),s=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},a)}),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:zr.uuid4();return e.type||(this._lastEventId=n),this._withClient((i,s)=>{i.captureEvent(e,{...r,event_id:n},s)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:n,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Q6}=i.getOptions&&i.getOptions()||{};if(o<=0)return;let u={timestamp:zr.dateTimestampInSeconds(),...e},c=s?zr.consoleSandbox(()=>s(u,r)):u;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,r),n.addBreadcrumb(c,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){let{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){let r=Qg(this);try{e(this)}finally{Qg(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&zr.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let n=this._callExtensionMethod("startTransaction",e,r);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n){let i=this.getClient();console.warn(i?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&Jg.closeSession(n),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:n}=this.getStackTop(),{release:i,environment:s=X6.DEFAULT_ENVIRONMENT}=n&&n.getOptions()||{},{userAgent:o}=zr.GLOBAL_OBJ.navigator||{},a=Jg.makeSession({release:i,environment:s,user:r.getUser(),...o&&{userAgent:o},...e}),u=r.getSession&&r.getSession();return u&&u.status==="ok"&&Jg.updateSession(u,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){let{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){let i=oo().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&zr.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function oo(){return zr.GLOBAL_OBJ.__SENTRY__=zr.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},zr.GLOBAL_OBJ}function Qg(t){let e=oo(),r=ic(e);return Qp(e,t),r}function Z6(){let t=oo();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return _v(t)}function _v(t=oo()){return(!Cv(t)||ic(t).isOlderThan(Xp))&&Qp(t,new ua),ic(t)}function e4(t,e=_v()){if(!Cv(t)||ic(t).isOlderThan(Xp)){let r=e.getStackTop();Qp(t,new ua(r.client,Xg.Scope.clone(r.scope)))}}function t4(t){let e=oo();e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.acs=t}function r4(t,e={}){let r=oo();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(t,e):t()}function Cv(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ic(t){return zr.getGlobalSingleton("hub",()=>new ua,t)}function Qp(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}Wr.API_VERSION=Xp;Wr.Hub=ua;Wr.ensureHubOnCarrier=e4;Wr.getCurrentHub=Z6;Wr.getHubFromCarrier=ic;Wr.getMainCarrier=oo;Wr.makeMain=Qg;Wr.runWithAsyncContext=r4;Wr.setAsyncContextStrategy=t4;Wr.setHubOnCarrier=Qp});var Zp=D(Zg=>{Object.defineProperty(Zg,"__esModule",{value:!0});var n4=Yr();function i4(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=n4.getCurrentHub().getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}Zg.hasTracingEnabled=i4});var ed=D(ca=>{Object.defineProperty(ca,"__esModule",{value:!0});var s4=Yr(),ey=z();function o4(t){return(t||s4.getCurrentHub()).getScope().getTransaction()}ca.TRACEPARENT_REGEXP=ey.TRACEPARENT_REGEXP;ca.extractTraceparentData=ey.extractTraceparentData;ca.stripUrlQueryAndFragment=ey.stripUrlQueryAndFragment;ca.getActiveTransaction=o4});var Tv=D(ny=>{Object.defineProperty(ny,"__esModule",{value:!0});var ty=z(),a4=ed(),vv=!1;function u4(){vv||(vv=!0,ty.addInstrumentationHandler("error",ry),ty.addInstrumentationHandler("unhandledrejection",ry))}function ry(){let t=a4.getActiveTransaction();if(t){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ty.logger.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}ry.tag="sentry_tracingErrorCallback";ny.registerErrorInstrumentation=u4});var td=D(sc=>{Object.defineProperty(sc,"__esModule",{value:!0});var Rn=z(),iy=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},sy=class t{constructor(e={}){this.traceId=e.traceId||Rn.uuid4(),this.spanId=e.spanId||Rn.uuid4().substring(16),this.startTimestamp=e.startTimestamp||Rn.timestampInSeconds(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){let r=new t({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){let n=e&&e.op||"< unknown op >",i=r.transaction.name||"< unknown name >",s=r.transaction.spanId,o=`[Tracing] Starting '${n}' span on transaction '${i}' (${s}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:o},Rn.logger.log(o)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);let r=wv(e);return r!=="unknown_error"&&this.setStatus(r),this}setName(e){this.description=e}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&Rn.logger.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:Rn.timestampInSeconds()}toTraceparent(){return Rn.generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}toContext(){return Rn.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return Rn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return Rn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};function wv(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}sc.Span=sy;sc.SpanRecorder=iy;sc.spanStatusfromHttpCode=wv});var oc=D(oy=>{Object.defineProperty(oy,"__esModule",{value:!0});var c4=z(),l4=Zu();function p4(t,e,r){let n=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=r&&r.getUser()||{},o=c4.dropUndefinedKeys({environment:n.environment||l4.DEFAULT_ENVIRONMENT,release:n.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",o),o}oy.getDynamicSamplingContextFromClient=p4});var rd=D(uy=>{Object.defineProperty(uy,"__esModule",{value:!0});var ac=z(),Av=Yr(),d4=oc(),Pv=td(),ay=class extends Pv.Span{constructor(e,r){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=r||Av.getCurrentHub(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;let n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Pv.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ac.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ac.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((a,u)=>a.endTimestamp&&u.endTimestamp?a.endTimestamp>u.endTimestamp?a:u:a).endTimestamp);let i=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ac.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ac.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(s)}toContext(){let e=super.toContext();return ac.dropUndefinedKeys({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||Av.getCurrentHub(),r=e.getClient();if(!r)return{};let n=e.getScope(),i=d4.getDynamicSamplingContextFromClient(this.traceId,r,n),s=this.metadata.sampleRate;s!==void 0&&(i.sample_rate=`${s}`);let o=this.metadata.source;return o&&o!=="url"&&(i.transaction=this.name),this.sampled!==void 0&&(i.sampled=String(this.sampled)),i}setHub(e){this._hub=e}};uy.Transaction=ay});var ly=D(uc=>{Object.defineProperty(uc,"__esModule",{value:!0});var qt=z(),f4=td(),h4=rd(),nd={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},m4="finishReason",la=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],id=class extends f4.SpanRecorder{constructor(e,r,n,i){super(i),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:qt.timestampInSeconds(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}},cy=class extends h4.Transaction{constructor(e,r,n=nd.idleTimeout,i=nd.finalTimeout,s=nd.heartbeatInterval,o=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=la[4],o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=la[3],this.finish())},this._finalTimeout)}finish(e=qt.timestampInSeconds()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(m4,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=e,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let n=r.startTimestamp<e,i=(this._finalTimeout+this._idleTimeout)/1e3,s=r.endTimestamp-this.startTimestamp<i;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let o=JSON.stringify(r,void 0,2);n?s||qt.logger.log("[Tracing] discarding Span since it finished after Transaction final timeout",o):qt.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",o)}return n&&s}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){let r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=i=>{this._finished||this._pushActivity(i)},n=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new id(r,n,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=la[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=la[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=qt.timestampInSeconds();this._idleTimeoutCanceledPermanently?(this._finishReason=la[5],this.finish(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=la[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&qt.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};uc.IdleTransaction=cy;uc.IdleTransactionSpanRecorder=id;uc.TRACING_DEFAULTS=nd});var py=D(sd=>{Object.defineProperty(sd,"__esModule",{value:!0});var gs=z(),g4=Yr(),y4=Zp(),b4=Tv(),E4=ly(),D4=rd();function x4(){let e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function Iv(t,e,r){if(!y4.hasTracingEnabled(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate<"u"?(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})):(n=1,t.setMetadata({sampleRate:n})),S4(n)?n?(t.sampled=Math.random()<n,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function S4(t){return gs.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function _4(t,e){let r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gs.logger.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let o=new D4.Transaction(t,this);return o=Iv(o,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),o.sampled&&o.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",o),o}function C4(t,e,r,n,i,s,o){let a=t.getClient(),u=a&&a.getOptions()||{},c=new E4.IdleTransaction(e,t,r,n,o,i);return c=Iv(c,u,{parentSampled:e.parentSampled,transactionContext:e,...s}),c.sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",c),c}function v4(){let t=g4.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=_4),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=x4),b4.registerErrorInstrumentation())}sd.addTracingExtensions=v4;sd.startIdleTransaction=C4});var dy=D(cc=>{Object.defineProperty(cc,"__esModule",{value:!0});cc.SpanStatus=void 0;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let n="unauthenticated";t.Unauthenticated=n;let i="permission_denied";t.PermissionDenied=i;let s="not_found";t.NotFound=s;let o="resource_exhausted";t.ResourceExhausted=o;let a="invalid_argument";t.InvalidArgument=a;let u="unimplemented";t.Unimplemented=u;let c="unavailable";t.Unavailable=c;let l="internal_error";t.InternalError=l;let p="unknown_error";t.UnknownError=p;let d="cancelled";t.Cancelled=d;let f="already_exists";t.AlreadyExists=f;let h="failed_precondition";t.FailedPrecondition=h;let m="aborted";t.Aborted=m;let g="out_of_range";t.OutOfRange=g;let y="data_loss";t.DataLoss=y})(cc.SpanStatus||(cc.SpanStatus={}))});var kv=D(ys=>{Object.defineProperty(ys,"__esModule",{value:!0});var fy=z(),lc=Yr(),Nv=Zp();function T4(t,e,r=()=>{}){let n=my(t),i=lc.getCurrentHub(),s=i.getScope(),o=s.getSpan(),a=hy(i,o,n);s.setSpan(a);function u(){a&&a.finish(),i.getScope().setSpan(o)}let c;try{c=e(a)}catch(l){throw a&&a.setStatus("internal_error"),r(l),u(),l}return fy.isThenable(c)?Promise.resolve(c).then(()=>{u()},l=>{a&&a.setStatus("internal_error"),r(l),u()}):u(),c}function Fv(t,e){let r=my(t),n=lc.getCurrentHub(),i=n.getScope(),s=i.getSpan(),o=hy(n,s,r);i.setSpan(o);function a(){o&&o.finish(),n.getScope().setSpan(s)}let u;try{u=e(o)}catch(c){throw o&&o.setStatus("internal_error"),a(),c}return fy.isThenable(u)?Promise.resolve(u).then(()=>{a()},()=>{o&&o.setStatus("internal_error"),a()}):a(),u}var w4=Fv;function A4(t,e){let r=my(t),n=lc.getCurrentHub(),i=n.getScope(),s=i.getSpan(),o=hy(n,s,r);i.setSpan(o);function a(){o&&o.finish(),n.getScope().setSpan(s)}let u;try{u=e(o,a)}catch(c){throw o&&o.setStatus("internal_error"),c}return fy.isThenable(u)&&Promise.resolve(u).then(void 0,()=>{o&&o.setStatus("internal_error")}),u}function P4(t){if(!Nv.hasTracingEnabled())return;let e={...t};e.name!==void 0&&e.description===void 0&&(e.description=e.name);let r=lc.getCurrentHub(),n=Ov();return n?n.startChild(e):r.startTransaction(e)}function Ov(){return lc.getCurrentHub().getScope().getSpan()}function hy(t,e,r){if(Nv.hasTracingEnabled())return e?e.startChild(r):t.startTransaction(r)}function my(t){let e={...t};return e.name!==void 0&&e.description===void 0&&(e.description=e.name),e}ys.getActiveSpan=Ov;ys.startActiveSpan=w4;ys.startInactiveSpan=P4;ys.startSpan=Fv;ys.startSpanManual=A4;ys.trace=T4});var Rv=D(gy=>{Object.defineProperty(gy,"__esModule",{value:!0});var I4=ed();function N4(t,e,r){let n=I4.getActiveTransaction();n&&n.setMeasurement(t,e,r)}gy.setMeasurement=N4});var Mv=D(St=>{Object.defineProperty(St,"__esModule",{value:!0});var pc=z(),Gt=Yr();function F4(t,e){return Gt.getCurrentHub().captureException(t,{captureContext:e})}function O4(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return Gt.getCurrentHub().captureMessage(t,r,n)}function k4(t,e){return Gt.getCurrentHub().captureEvent(t,e)}function R4(t){Gt.getCurrentHub().configureScope(t)}function M4(t){Gt.getCurrentHub().addBreadcrumb(t)}function L4(t,e){Gt.getCurrentHub().setContext(t,e)}function B4(t){Gt.getCurrentHub().setExtras(t)}function $4(t,e){Gt.getCurrentHub().setExtra(t,e)}function U4(t){Gt.getCurrentHub().setTags(t)}function j4(t,e){Gt.getCurrentHub().setTag(t,e)}function q4(t){Gt.getCurrentHub().setUser(t)}function G4(t){Gt.getCurrentHub().withScope(t)}function V4(t,e){return Gt.getCurrentHub().startTransaction({...t},e)}function K4(t,e){let r=Gt.getCurrentHub(),n=r.getScope(),i=r.getClient();if(!i)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pc.logger.warn("Cannot capture check-in. No client defined.");else if(!i.captureCheckIn)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pc.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return i.captureCheckIn(t,e,n);return pc.uuid4()}async function H4(t){let e=Gt.getCurrentHub().getClient();return e?e.flush(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pc.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function z4(t){let e=Gt.getCurrentHub().getClient();return e?e.close(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pc.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function W4(){return Gt.getCurrentHub().lastEventId()}St.addBreadcrumb=M4;St.captureCheckIn=K4;St.captureEvent=k4;St.captureException=F4;St.captureMessage=O4;St.close=z4;St.configureScope=R4;St.flush=H4;St.lastEventId=W4;St.setContext=L4;St.setExtra=$4;St.setExtras=B4;St.setTag=j4;St.setTags=U4;St.setUser=q4;St.startTransaction=V4;St.withScope=G4});var Lv=D(by=>{Object.defineProperty(by,"__esModule",{value:!0});var Y4=z(),J4=Yr(),yy=class{constructor(e,r){this._client=e,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._sessionAttrs=r}flush(){let e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){let e=Object.keys(this._pendingAggregates).map(n=>this._pendingAggregates[parseInt(n)]),r={attrs:this._sessionAttrs,aggregates:e};return Y4.dropUndefinedKeys(r)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=J4.getCurrentHub().getScope(),r=e.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,r){let n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};let i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case"errored":return i.errored=(i.errored||0)+1,i.errored;case"ok":return i.exited=(i.exited||0)+1,i.exited;default:return i.crashed=(i.crashed||0)+1,i.crashed}}};by.SessionFlusher=yy});var ad=D(od=>{Object.defineProperty(od,"__esModule",{value:!0});var Ey=z(),X4="7";function Bv(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Q4(t){return`${Bv(t)}${t.projectId}/envelope/`}function Z4(t,e){return Ey.urlEncode({sentry_key:t.publicKey,sentry_version:X4,...e&&{sentry_client:`${e.name}/${e.version}`}})}function e9(t,e={}){let r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${Q4(t)}?${Z4(t,n)}`}function t9(t,e){let r=Ey.makeDsn(t);if(!r)return"";let n=`${Bv(r)}embed/error-page/`,i=`dsn=${Ey.dsnToString(r)}`;for(let s in e)if(s!=="dsn")if(s==="user"){let o=e.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${n}?${i}`}od.getEnvelopeEndpointWithUrlEncodedAuth=e9;od.getReportDialogEndpoint=t9});var $v=D(ud=>{Object.defineProperty(ud,"__esModule",{value:!0});var pa=z();function r9(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function n9(t,e,r,n){let i=pa.getSdkMetadataForEnvelopeHeader(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&{dsn:pa.dsnToString(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return pa.createEnvelope(s,[o])}function i9(t,e,r,n){let i=pa.getSdkMetadataForEnvelopeHeader(r),s=t.type&&t.type!=="replay_event"?t.type:"event";r9(t,r&&r.sdk);let o=pa.createEventEnvelopeHeaders(t,i,n,e);delete t.sdkProcessingMetadata;let a=[{type:s},t];return pa.createEnvelope(o,[a])}ud.createEventEnvelope=i9;ud.createSessionEnvelope=n9});var xy=D(da=>{Object.defineProperty(da,"__esModule",{value:!0});var Uv=z(),s9=Yr(),o9=nc(),Dy=[];function a9(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.keys(e).map(r=>e[r])}function u9(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=Uv.arrayify(r(e)):n=e;let i=a9(n),s=l9(i,o=>o.name==="Debug");if(s!==-1){let[o]=i.splice(s,1);i.push(o)}return i}function c9(t,e){let r={};return e.forEach(n=>{n&&jv(t,n,r)}),r}function jv(t,e,r){if(r[e.name]=e,Dy.indexOf(e.name)===-1&&(e.setupOnce(o9.addGlobalEventProcessor,s9.getCurrentHub),Dy.push(e.name)),t.on&&typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Uv.logger.log(`Integration installed: ${e.name}`)}function l9(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}da.getIntegrationsToSetup=u9;da.installedIntegrations=Dy;da.setupIntegration=jv;da.setupIntegrations=c9});var Sy=D(dc=>{Object.defineProperty(dc,"__esModule",{value:!0});var Nr=z(),p9=Zu(),d9=nc();function f9(t,e,r,n){let{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=t,o={...e,event_id:e.event_id||r.event_id||Nr.uuid4(),timestamp:e.timestamp||Nr.dateTimestampInSeconds()},a=r.integrations||t.integrations.map(l=>l.name);h9(o,t),m9(o,a),e.type===void 0&&Gv(o,t.stackParser);let u=n;r.captureContext&&(u=d9.Scope.clone(u).update(r.captureContext));let c=Nr.resolvedSyncPromise(o);if(u){if(u.getAttachments){let l=[...r.attachments||[],...u.getAttachments()];l.length&&(r.attachments=l)}c=u.applyToEvent(o,r)}return c.then(l=>(l&&Vv(l),typeof i=="number"&&i>0?g9(l,i,s):l))}function h9(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?r:p9.DEFAULT_ENVIRONMENT),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=Nr.truncate(t.message,s));let o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=Nr.truncate(o.value,s));let a=t.request;a&&a.url&&(a.url=Nr.truncate(a.url,s))}var qv=new WeakMap;function Gv(t,e){let r=Nr.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let n,i=qv.get(e);i?n=i:(n=new Map,qv.set(e,n));let s=Object.keys(r).reduce((o,a)=>{let u,c=n.get(a);c?u=c:(u=e(a),n.set(a,u));for(let l=u.length-1;l>=0;l--){let p=u[l];if(p.filename){o[p.filename]=r[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function Vv(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(e).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:e[n]})})}function m9(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function g9(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Nr.normalize(i.data,e,r)}}))},...t.user&&{user:Nr.normalize(t.user,e,r)},...t.contexts&&{contexts:Nr.normalize(t.contexts,e,r)},...t.extra&&{extra:Nr.normalize(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Nr.normalize(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>(i.data&&(i.data=Nr.normalize(i.data,e,r)),i))),n}dc.applyDebugIds=Gv;dc.applyDebugMeta=Vv;dc.prepareEvent=f9});var vy=D(Cy=>{Object.defineProperty(Cy,"__esModule",{value:!0});var we=z(),y9=ad(),Kv=$v(),Hv=xy(),zv=rc(),b9=oc(),E9=Sy(),Wv="Not capturing exception because it's already been captured.",_y=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},e.dsn?this._dsn=we.makeDsn(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.warn("No DSN provided, client will not do anything."),this._dsn){let r=y9.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,n){if(we.checkOrSetAlreadyCaught(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.log(Wv);return}let i=r&&r.event_id;return this._process(this.eventFromException(e,r).then(s=>this._captureEvent(s,r,n)).then(s=>{i=s})),i}captureMessage(e,r,n,i){let s=n&&n.event_id,o=we.isPrimitive(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(o.then(a=>this._captureEvent(a,n,i)).then(a=>{s=a})),s}captureEvent(e,r,n){if(r&&r.originalException&&we.checkOrSetAlreadyCaught(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.log(Wv);return}let i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(s=>{i=s})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),zv.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i)):we.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Hv.setupIntegrations(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Hv.setupIntegration(this,e,this._integrations)}sendEvent(e,r={}){if(this.emit("beforeSendEvent",e,r),this._dsn){let n=Kv.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=we.addItemToEnvelope(n,we.createAttachmentEnvelopeItem(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let i=this._sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}}sendSession(e){if(this._dsn){let r=Kv.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let u of s){let c=u.mechanism;if(c&&c.handled===!1){n=!0;break}}}let o=e.status==="ok";(o&&e.errors===0||o&&n)&&(zv.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new we.SyncPromise(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,n){let i=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),E9.prepareEvent(i,e,r,n).then(o=>{if(o===null)return o;let{propagationContext:a}=o.sdkProcessingMetadata||{};if(!(o.contexts&&o.contexts.trace)&&a){let{traceId:c,spanId:l,parentSpanId:p,dsc:d}=a;o.contexts={trace:{trace_id:c,span_id:l,parent_span_id:p},...o.contexts};let f=d||b9.getDynamicSamplingContextFromClient(c,this,n);o.sdkProcessingMetadata={dynamicSamplingContext:f,...o.sdkProcessingMetadata}}return o})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let s=i;s.logLevel==="log"?we.logger.log(s.message):we.logger.warn(s)}})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i;if(!this._isEnabled())return we.rejectedSyncPromise(new we.SentryError("SDK not enabled, will not capture event.","log"));let o=Jv(e),a=Yv(e),u=e.type||"error",c=`before send for type \`${u}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),we.rejectedSyncPromise(new we.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let l=u==="replay_event"?"replay":u;return this._prepareEvent(e,r,n).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,e),new we.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;let f=x9(i,p,r);return D9(f,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",l,e),new we.SentryError(`${c} returned \`null\`, will not send event.`,"log");let d=n&&n.getSession();!o&&d&&this._updateSessionFromEvent(d,p);let f=p.transaction_info;if(o&&f&&p.transaction!==e.transaction){let h="custom";p.transaction_info={...f,source:h}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof we.SentryError?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new we.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&we.logger.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[n,i]=r.split(":");return{reason:n,category:i,quantity:e[r]}})}};function D9(t,e){let r=`${e} must return \`null\` or a valid event.`;if(we.isThenable(t))return t.then(n=>{if(!we.isPlainObject(n)&&n!==null)throw new we.SentryError(r);return n},n=>{throw new we.SentryError(`${e} rejected with ${n}`)});if(!we.isPlainObject(t)&&t!==null)throw new we.SentryError(r);return t}function x9(t,e,r){let{beforeSend:n,beforeSendTransaction:i}=t;return Yv(e)&&n?n(e,r):Jv(e)&&i?i(e,r):e}function Yv(t){return t.type===void 0}function Jv(t){return t.type==="transaction"}Cy.BaseClient=_y});var Ay=D(wy=>{Object.defineProperty(wy,"__esModule",{value:!0});var Ty=z();function S9(t,e,r,n,i){let s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),n&&i&&(s.dsn=Ty.dsnToString(i)),e&&(s.trace=Ty.dropUndefinedKeys(e));let o=_9(t);return Ty.createEnvelope(s,[o])}function _9(t){return[{type:"check_in"},t]}wy.createCheckInEnvelope=S9});var Xv=D(Iy=>{Object.defineProperty(Iy,"__esModule",{value:!0});var fc=z(),C9=vy(),v9=Ay(),T9=Yr(),w9=py(),A9=oc();dy();var Py=class extends C9.BaseClient{constructor(e){w9.addTracingExtensions(),super(e)}eventFromException(e,r){return Promise.resolve(fc.eventFromUnknownInput(T9.getCurrentHub,this._options.stackParser,e,r))}eventFromMessage(e,r="info",n){return Promise.resolve(fc.eventFromMessage(this._options.stackParser,e,r,n,this._options.attachStacktrace))}captureCheckIn(e,r,n){let i=e.status!=="in_progress"&&e.checkInId?e.checkInId:fc.uuid4();if(!this._isEnabled())return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fc.logger.warn("SDK not enabled, will not capture checkin."),i;let s=this.getOptions(),{release:o,environment:a,tunnel:u}=s,c={check_in_id:i,monitor_slug:e.monitorSlug,status:e.status,release:o,environment:a};e.status!=="in_progress"&&(c.duration=e.duration),r&&(c.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let[l,p]=this._getTraceInfoFromScope(n);p&&(c.contexts={trace:p});let d=v9.createCheckInEnvelope(c,l,this.getSdkMetadata(),u,this.getDsn());return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fc.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(d),i}_prepareEvent(e,r,n){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,r,n)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let r=e.getSpan();if(r)return[r.transaction?r.transaction.getDynamicSamplingContext():void 0,r.getTraceContext()];let{traceId:n,spanId:i,parentSpanId:s,dsc:o}=e.getPropagationContext(),a={trace_id:n,span_id:i,parent_span_id:s};return o?[o,a]:[A9.getDynamicSamplingContextFromClient(n,this,e),a]}};Iy.ServerRuntimeClient=Py});var Qv=D(Ny=>{Object.defineProperty(Ny,"__esModule",{value:!0});var P9=z(),I9=Yr();function N9(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?P9.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let r=I9.getCurrentHub();r.getScope().update(e.initialScope);let i=new t(e);r.bindClient(i)}Ny.initAndBind=N9});var tT=D(cd=>{Object.defineProperty(cd,"__esModule",{value:!0});var Er=z(),eT=30;function F9(t,e,r=Er.makePromiseBuffer(t.bufferSize||eT)){let n={},i=o=>r.drain(o);function s(o){let a=[];if(Er.forEachEnvelopeItem(o,(p,d)=>{let f=Er.envelopeItemTypeToDataCategory(d);if(Er.isRateLimited(n,f)){let h=Zv(p,d);t.recordDroppedEvent("ratelimit_backoff",f,h)}else a.push(p)}),a.length===0)return Er.resolvedSyncPromise();let u=Er.createEnvelope(o[0],a),c=p=>{Er.forEachEnvelopeItem(u,(d,f)=>{let h=Zv(d,f);t.recordDroppedEvent(p,Er.envelopeItemTypeToDataCategory(f),h)})},l=()=>e({body:Er.serializeEnvelope(u,t.textEncoder)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Er.logger.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),n=Er.updateRateLimits(n,p),p),p=>{throw c("network_error"),p});return r.add(l).then(p=>p,p=>{if(p instanceof Er.SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Er.logger.error("Skipped sending event because buffer is full."),c("queue_overflow"),Er.resolvedSyncPromise();throw p})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function Zv(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}cd.DEFAULT_TRANSPORT_BUFFER_SIZE=eT;cd.createTransport=F9});var nT=D(hc=>{Object.defineProperty(hc,"__esModule",{value:!0});var Oy=z(),rT=100,ky=5e3,O9=36e5;function Fy(t,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oy.logger.info(`[Offline]: ${t}`,e)}function k9(t){return e=>{let r=t(e),n=e.createStore?e.createStore(e):void 0,i=ky,s;function o(l,p,d){return Oy.envelopeContainsItemType(l,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(l,p,d):!0}function a(l){n&&(s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let p=await n.pop();p&&(Fy("Attempting to send previously queued event"),c(p).catch(d=>{Fy("Failed to retry sending",d)}))},l),typeof s!="number"&&s.unref&&s.unref())}function u(){s||(a(i),i=Math.min(i*2,O9))}async function c(l){try{let p=await r.send(l),d=rT;if(p){if(p.headers&&p.headers["retry-after"])d=Oy.parseRetryAfterHeader(p.headers["retry-after"]);else if((p.statusCode||0)>=400)return p}return a(d),i=ky,p}catch(p){if(n&&await o(l,p,i))return await n.insert(l),u(),Fy("Error sending. Event queued",p),{};throw p}}return e.flushAtStartup&&u(),{send:c,flush:l=>r.flush(l)}}}hc.MIN_DELAY=rT;hc.START_DELAY=ky;hc.makeOfflineTransport=k9});var sT=D(ld=>{Object.defineProperty(ld,"__esModule",{value:!0});var iT=z(),R9=ad();function Ry(t,e){let r;return iT.forEachEnvelopeItem(t,(n,i)=>(e.includes(i)&&(r=Array.isArray(n)?n[1]:void 0),!!r)),r}function M9(t,e){return r=>{let n=t(r);return{send:async i=>{let s=Ry(i,["event","transaction","profile","replay_event"]);return s&&(s.release=e),n.send(i)},flush:i=>n.flush(i)}}}function L9(t,e){return r=>{let n=t(r),i={};function s(u,c){let l=c?`${u}:${c}`:u;if(!i[l]){let p=iT.dsnFromString(u);if(!p)return;let d=R9.getEnvelopeEndpointWithUrlEncodedAuth(p);i[l]=c?M9(t,c)({...r,url:d}):t({...r,url:d})}return i[l]}async function o(u){function c(d){let f=d&&d.length?d:["event"];return Ry(u,f)}let l=e({envelope:u,getEvent:c}).map(d=>typeof d=="string"?s(d,void 0):s(d.dsn,d.release)).filter(d=>!!d);return l.length===0&&l.push(n),(await Promise.all(l.map(d=>d.send(u))))[0]}async function a(u){let c=[...Object.keys(i).map(p=>i[p]),n];return(await Promise.all(c.map(p=>p.flush(u)))).every(p=>p)}return{send:o,flush:a}}}ld.eventFromEnvelope=Ry;ld.makeMultiplexedTransport=L9});var oT=D(My=>{Object.defineProperty(My,"__esModule",{value:!0});var B9="7.69.0";My.SDK_VERSION=B9});var By=D(Ly=>{Object.defineProperty(Ly,"__esModule",{value:!0});var $9=z(),aT,pd=class t{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=t.id}setupOnce(){aT=Function.prototype.toString;try{Function.prototype.toString=function(...e){let r=$9.getOriginalFunction(this)||this;return aT.apply(r,e)}}catch{}}};pd.__initStatic();Ly.FunctionToString=pd});var $y=D(mc=>{Object.defineProperty(mc,"__esModule",{value:!0});var It=z(),U9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],j9=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],dd=class t{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=t.id,this._options=e}setupOnce(e,r){let n=i=>{let s=r();if(s){let o=s.getIntegration(t);if(o){let a=s.getClient(),u=a?a.getOptions():{},c=uT(o._options,u);return cT(i,c)?null:i}}return i};n.id=this.name,e(n)}};dd.__initStatic();function uT(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:U9],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:j9],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function cT(t,e){return e.ignoreInternal&&z9(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${It.getEventDescription(t)}`),!0):q9(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${It.getEventDescription(t)}`),!0):G9(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${It.getEventDescription(t)}`),!0):V9(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${It.getEventDescription(t)}.
Url: ${fd(t)}`),!0):K9(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${It.getEventDescription(t)}.
Url: ${fd(t)}`),!0)}function q9(t,e){return t.type||!e||!e.length?!1:H9(t).some(r=>It.stringMatchesSomePattern(r,e))}function G9(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?It.stringMatchesSomePattern(r,e):!1}function V9(t,e){if(!e||!e.length)return!1;let r=fd(t);return r?It.stringMatchesSomePattern(r,e):!1}function K9(t,e){if(!e||!e.length)return!0;let r=fd(t);return r?It.stringMatchesSomePattern(r,e):!0}function H9(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.length===0&&It.logger.error(`Could not extract message for event ${It.getEventDescription(t)}`),e}function z9(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function W9(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function fd(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?W9(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&It.logger.error(`Cannot extract url for event ${It.getEventDescription(t)}`),null}}mc.InboundFilters=dd;mc._mergeOptions=uT;mc._shouldDropEvent=cT});var lT=D(hd=>{Object.defineProperty(hd,"__esModule",{value:!0});var Y9=By(),J9=$y();hd.FunctionToString=Y9.FunctionToString;hd.InboundFilters=J9.InboundFilters});var hT=D(gc=>{Object.defineProperty(gc,"__esModule",{value:!0});var Uy=z(),dT=new Map,pT=new Set;function X9(t){if(Uy.GLOBAL_OBJ._sentryModuleMetadata)for(let e of Object.keys(Uy.GLOBAL_OBJ._sentryModuleMetadata)){let r=Uy.GLOBAL_OBJ._sentryModuleMetadata[e];if(pT.has(e))continue;pT.add(e);let n=t(e);for(let i of n.reverse())if(i.filename){dT.set(i.filename,r);break}}}function fT(t,e){return X9(t),dT.get(e)}function Q9(t,e){try{e.exception.values.forEach(r=>{if(r.stacktrace)for(let n of r.stacktrace.frames||[]){if(!n.filename)continue;let i=fT(t,n.filename);i&&(n.module_metadata=i)}})}catch{}}function Z9(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(let r of e.stacktrace.frames||[])delete r.module_metadata})}catch{}}gc.addMetadataToStackFrames=Q9;gc.getMetadataForUrl=fT;gc.stripMetadataFromStackFrames=Z9});var gT=D(jy=>{Object.defineProperty(jy,"__esModule",{value:!0});var ej=z(),mT=hT(),md=class t{static __initStatic(){this.id="ModuleMetadata"}constructor(){this.name=t.id}setupOnce(e,r){let n=r().getClient();if(!n||typeof n.on!="function")return;n.on("beforeEnvelope",s=>{ej.forEachEnvelopeItem(s,(o,a)=>{if(a==="event"){let u=Array.isArray(o)?o[1]:void 0;u&&(mT.stripMetadataFromStackFrames(u),o[1]=u)}})});let i=n.getOptions().stackParser;e(s=>(mT.addMetadataToStackFrames(i,s),s))}};md.__initStatic();jy.ModuleMetadata=md});var ot=D(G=>{Object.defineProperty(G,"__esModule",{value:!0});var yT=py(),bT=ly(),ET=td(),tj=rd(),rj=ed(),nj=dy(),fa=kv(),ij=oc(),sj=Rv(),Vt=Mv(),Ti=Yr(),qy=rc(),oj=Lv(),DT=nc(),xT=ad(),aj=vy(),uj=Xv(),cj=Qv(),lj=tT(),pj=nT(),dj=sT(),fj=oT(),hj=xy(),mj=lT(),gj=Sy(),yj=Ay(),bj=Zp(),Ej=Zu(),Dj=gT(),xj=By(),Sj=$y(),_j=z();G.addTracingExtensions=yT.addTracingExtensions;G.startIdleTransaction=yT.startIdleTransaction;G.IdleTransaction=bT.IdleTransaction;G.TRACING_DEFAULTS=bT.TRACING_DEFAULTS;G.Span=ET.Span;G.spanStatusfromHttpCode=ET.spanStatusfromHttpCode;G.Transaction=tj.Transaction;G.getActiveTransaction=rj.getActiveTransaction;Object.defineProperty(G,"SpanStatus",{enumerable:!0,get:()=>nj.SpanStatus});G.getActiveSpan=fa.getActiveSpan;G.startActiveSpan=fa.startActiveSpan;G.startInactiveSpan=fa.startInactiveSpan;G.startSpan=fa.startSpan;G.startSpanManual=fa.startSpanManual;G.trace=fa.trace;G.getDynamicSamplingContextFromClient=ij.getDynamicSamplingContextFromClient;G.setMeasurement=sj.setMeasurement;G.addBreadcrumb=Vt.addBreadcrumb;G.captureCheckIn=Vt.captureCheckIn;G.captureEvent=Vt.captureEvent;G.captureException=Vt.captureException;G.captureMessage=Vt.captureMessage;G.close=Vt.close;G.configureScope=Vt.configureScope;G.flush=Vt.flush;G.lastEventId=Vt.lastEventId;G.setContext=Vt.setContext;G.setExtra=Vt.setExtra;G.setExtras=Vt.setExtras;G.setTag=Vt.setTag;G.setTags=Vt.setTags;G.setUser=Vt.setUser;G.startTransaction=Vt.startTransaction;G.withScope=Vt.withScope;G.Hub=Ti.Hub;G.ensureHubOnCarrier=Ti.ensureHubOnCarrier;G.getCurrentHub=Ti.getCurrentHub;G.getHubFromCarrier=Ti.getHubFromCarrier;G.getMainCarrier=Ti.getMainCarrier;G.makeMain=Ti.makeMain;G.runWithAsyncContext=Ti.runWithAsyncContext;G.setAsyncContextStrategy=Ti.setAsyncContextStrategy;G.setHubOnCarrier=Ti.setHubOnCarrier;G.closeSession=qy.closeSession;G.makeSession=qy.makeSession;G.updateSession=qy.updateSession;G.SessionFlusher=oj.SessionFlusher;G.Scope=DT.Scope;G.addGlobalEventProcessor=DT.addGlobalEventProcessor;G.getEnvelopeEndpointWithUrlEncodedAuth=xT.getEnvelopeEndpointWithUrlEncodedAuth;G.getReportDialogEndpoint=xT.getReportDialogEndpoint;G.BaseClient=aj.BaseClient;G.ServerRuntimeClient=uj.ServerRuntimeClient;G.initAndBind=cj.initAndBind;G.createTransport=lj.createTransport;G.makeOfflineTransport=pj.makeOfflineTransport;G.makeMultiplexedTransport=dj.makeMultiplexedTransport;G.SDK_VERSION=fj.SDK_VERSION;G.getIntegrationsToSetup=hj.getIntegrationsToSetup;G.Integrations=mj;G.prepareEvent=gj.prepareEvent;G.createCheckInEnvelope=yj.createCheckInEnvelope;G.hasTracingEnabled=bj.hasTracingEnabled;G.DEFAULT_ENVIRONMENT=Ej.DEFAULT_ENVIRONMENT;G.ModuleMetadata=Dj.ModuleMetadata;G.FunctionToString=xj.FunctionToString;G.InboundFilters=Sj.InboundFilters;G.extractTraceparentData=_j.extractTraceparentData});var Vy=D(Gy=>{Object.defineProperty(Gy,"__esModule",{value:!0});function Cj(t,e){return t??e()}Gy._nullishCoalesce=Cj});var ST=D(Ky=>{Object.defineProperty(Ky,"__esModule",{value:!0});var vj=Vy();async function Tj(t,e){return vj._nullishCoalesce(t,e)}Ky._asyncNullishCoalesce=Tj});var zy=D(Hy=>{Object.defineProperty(Hy,"__esModule",{value:!0});async function wj(t){let e,r=t[0],n=1;for(;n<t.length;){let i=t[n],s=t[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(e=r,r=await s(r)):(i==="call"||i==="optionalCall")&&(r=await s((...o)=>r.call(e,...o)),e=void 0)}return r}Hy._asyncOptionalChain=wj});var _T=D(Wy=>{Object.defineProperty(Wy,"__esModule",{value:!0});var Aj=zy();async function Pj(t){let e=await Aj._asyncOptionalChain(t);return e??!0}Wy._asyncOptionalChainDelete=Pj});var Jy=D(Yy=>{Object.defineProperty(Yy,"__esModule",{value:!0});function Ij(t){let e,r=t[0],n=1;for(;n<t.length;){let i=t[n],s=t[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(e=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(e,...o)),e=void 0)}return r}Yy._optionalChain=Ij});var CT=D(Xy=>{Object.defineProperty(Xy,"__esModule",{value:!0});var Nj=Jy();function Fj(t){let e=Nj._optionalChain(t);return e??!0}Xy._optionalChainDelete=Fj});var ht=D(bs=>{Object.defineProperty(bs,"__esModule",{value:!0});var Oj=ST(),kj=zy(),Rj=_T(),Mj=Vy(),Lj=Jy(),Bj=CT();bs._asyncNullishCoalesce=Oj._asyncNullishCoalesce;bs._asyncOptionalChain=kj._asyncOptionalChain;bs._asyncOptionalChainDelete=Rj._asyncOptionalChainDelete;bs._nullishCoalesce=Mj._nullishCoalesce;bs._optionalChain=Lj._optionalChain;bs._optionalChainDelete=Bj._optionalChainDelete});var Es=D(Qy=>{var{_optionalChain:vT}=ht();Object.defineProperty(Qy,"__esModule",{value:!0});function $j(t){let e=vT([t,"call",n=>n(),"access",n=>n.getClient,"call",n=>n(),"optionalAccess",n=>n.getOptions,"call",n=>n()]);return(vT([e,"optionalAccess",n=>n.instrumenter])||"sentry")!=="sentry"}Qy.shouldDisableAutoInstrumentation=$j});var wT=D(Zy=>{var{_optionalChain:yc}=ht();Object.defineProperty(Zy,"__esModule",{value:!0});var dn=z(),Uj=Es(),gd=class t{static __initStatic(){this.id="Express"}constructor(e={}){this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,r){if(!this._router){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&dn.logger.error("ExpressIntegration is missing an Express instance");return}if(Uj.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&dn.logger.log("Express Integration is skipped because of instrumenter configuration.");return}Gj(this._router,this._methods),Vj(this._router)}};gd.__initStatic();function TT(t,e){let r=t.length;switch(r){case 2:return function(n,i){let s=i.__sentry_transaction;if(s){let o=s.startChild({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"});i.once("finish",()=>{o.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){let o=i.__sentry_transaction,a=yc([o,"optionalAccess",u=>u.startChild,"call",u=>u({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,n,i,function(...u){yc([a,"optionalAccess",c=>c.finish,"call",c=>c()]),s.call(this,...u)})};case 4:return function(n,i,s,o){let a=s.__sentry_transaction,u=yc([a,"optionalAccess",c=>c.startChild,"call",c=>c({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,n,i,s,function(...c){yc([u,"optionalAccess",l=>l.finish,"call",l=>l()]),o.call(this,...c)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${r}`)}}function jj(t,e){return t.map(r=>typeof r=="function"?TT(r,e):Array.isArray(r)?r.map(n=>typeof n=="function"?TT(n,e):n):r)}function qj(t,e){let r=t[e];return t[e]=function(...n){return r.call(this,...jj(n,e))},t}function Gj(t,e=[]){e.forEach(r=>qj(t,r))}function Vj(t){let e="settings"in t;e&&t._router===void 0&&t.lazyrouter&&t.lazyrouter();let r=e?t._router:t;if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&dn.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&dn.logger.debug("Routing instrumentation is currently only supported in Express 4.");return}let n=Object.getPrototypeOf(r),i=n.process_params;n.process_params=function(o,a,u,c,l){u._reconstructedRoute||(u._reconstructedRoute="");let{layerRoutePath:p,isRegex:d,isArray:f,numExtraSegments:h}=Kj(o);(p||d||f)&&(u._hasParameters=!0);let g=(p||o.path||"").split("/").filter(_=>_.length>0&&(d||f||!_.includes("*"))).join("/");g&&g.length>0&&(u._reconstructedRoute+=`/${g}${d?"/":""}`);let y=dn.getNumberOfUrlSegments(u.originalUrl||"")+h,b=dn.getNumberOfUrlSegments(u._reconstructedRoute);if(y===b){u._hasParameters||u._reconstructedRoute!==u.originalUrl&&(u._reconstructedRoute=u.originalUrl?dn.stripUrlQueryAndFragment(u.originalUrl):u.originalUrl);let _=c.__sentry_transaction;if(_&&_.metadata.source!=="custom"){let E=u._reconstructedRoute||"/";_.setName(...dn.extractPathForTransaction(u,{path:!0,method:!0,customRoute:E}))}}return i.call(this,o,a,u,c,l)}}function Kj(t){let e=yc([t,"access",o=>o.route,"optionalAccess",o=>o.path]),r=dn.isRegExp(e),n=Array.isArray(e);if(!e)return{isRegex:r,isArray:n,numExtraSegments:0};let i=n?Math.max(Hj(e)-dn.getNumberOfUrlSegments(t.path||""),0):0;return{layerRoutePath:zj(n,e),isRegex:r,isArray:n,numExtraSegments:i}}function Hj(t){return t.reduce((e,r)=>e+dn.getNumberOfUrlSegments(r.toString()),0)}function zj(t,e){return t?e.map(r=>r.toString()).join(","):e&&e.toString()}Zy.Express=gd});var AT=D(eb=>{var{_optionalChain:ha}=ht();Object.defineProperty(eb,"__esModule",{value:!0});var ma=z(),Wj=Es(),yd=class t{static __initStatic(){this.id="Postgres"}constructor(e={}){this.name=t.id,this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||ma.loadModule("pg")}setupOnce(e,r){if(Wj.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ma.logger.log("Postgres Integration is skipped because of instrumenter configuration.");return}let n=this.loadDependency();if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ma.logger.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!ha([n,"access",s=>s.native,"optionalAccess",s=>s.Client])){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ma.logger.error("Postgres Integration was unable to access 'pg-native' bindings.");return}let{Client:i}=this._usePgNative?n.native:n;ma.fill(i.prototype,"query",function(s){return function(o,a,u){let l=r().getScope().getSpan(),p={"db.system":"postgresql"};try{this.database&&(p["db.name"]=this.database),this.host&&(p["server.address"]=this.host),this.port&&(p["server.port"]=this.port),this.user&&(p["db.user"]=this.user)}catch{}let d=ha([l,"optionalAccess",h=>h.startChild,"call",h=>h({description:typeof o=="string"?o:o.text,op:"db",origin:"auto.db.postgres",data:p})]);if(typeof u=="function")return s.call(this,o,a,function(h,m){ha([d,"optionalAccess",g=>g.finish,"call",g=>g()]),u(h,m)});if(typeof a=="function")return s.call(this,o,function(h,m){ha([d,"optionalAccess",g=>g.finish,"call",g=>g()]),a(h,m)});let f=typeof a<"u"?s.call(this,o,a):s.call(this,o);return ma.isThenable(f)?f.then(h=>(ha([d,"optionalAccess",m=>m.finish,"call",m=>m()]),h)):(ha([d,"optionalAccess",h=>h.finish,"call",h=>h()]),f)}})}};yd.__initStatic();eb.Postgres=yd});var PT=D(tb=>{var{_optionalChain:Yj}=ht();Object.defineProperty(tb,"__esModule",{value:!0});var bc=z(),Jj=Es(),bd=class t{static __initStatic(){this.id="Mysql"}constructor(){this.name=t.id}loadDependency(){return this._module=this._module||bc.loadModule("mysql/lib/Connection.js")}setupOnce(e,r){if(Jj.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bc.logger.log("Mysql Integration is skipped because of instrumenter configuration.");return}let n=this.loadDependency();if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bc.logger.error("Mysql Integration was unable to require `mysql` package.");return}let i;try{n.prototype.connect=new Proxy(n.prototype.connect,{apply(a,u,c){return i||(i=u.config),a.apply(u,c)}})}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bc.logger.error("Mysql Integration was unable to instrument `mysql` config.")}function s(){return i?{"server.address":i.host,"server.port":i.port,"db.user":i.user}:{}}function o(a){if(!a)return;let u=s();Object.keys(u).forEach(c=>{a.setData(c,u[c])}),a.finish()}bc.fill(n,"createQuery",function(a){return function(u,c,l){let d=r().getScope().getSpan(),f=Yj([d,"optionalAccess",h=>h.startChild,"call",h=>h({description:typeof u=="string"?u:u.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);return typeof l=="function"?a.call(this,u,c,function(h,m,g){o(f),l(h,m,g)}):typeof c=="function"?a.call(this,u,function(h,m,g){o(f),c(h,m,g)}):a.call(this,u,c,function(){o(f)})}})}};bd.__initStatic();tb.Mysql=bd});var IT=D(rb=>{var{_optionalChain:ao}=ht();Object.defineProperty(rb,"__esModule",{value:!0});var Ec=z(),Xj=Es(),Qj=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Zj={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function eq(t){return t&&typeof t=="object"&&t.once&&typeof t.once=="function"}var Ed=class t{static __initStatic(){this.id="Mongo"}constructor(e={}){this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:Qj,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){let e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||Ec.loadModule(e)}setupOnce(e,r){if(Xj.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ec.logger.log("Mongo Integration is skipped because of instrumenter configuration.");return}let n=this.loadDependency();if(!n){let i=this._useMongoose?"mongoose":"mongodb";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ec.logger.error(`Mongo Integration was unable to require \`${i}\` package.`);return}this._instrumentOperations(n.Collection,this._operations,r)}_instrumentOperations(e,r,n){r.forEach(i=>this._patchOperation(e,i,n))}_patchOperation(e,r,n){if(!(r in e.prototype))return;let i=this._getSpanContextFromOperationArguments.bind(this);Ec.fill(e.prototype,r,function(s){return function(...o){let a=o[o.length-1],c=n().getScope().getSpan();if(typeof a!="function"||r==="mapReduce"&&o.length===2){let p=ao([c,"optionalAccess",f=>f.startChild,"call",f=>f(i(this,r,o))]),d=s.call(this,...o);if(Ec.isThenable(d))return d.then(f=>(ao([p,"optionalAccess",h=>h.finish,"call",h=>h()]),f));if(eq(d)){let f=d;try{f.once("close",()=>{ao([p,"optionalAccess",h=>h.finish,"call",h=>h()])})}catch{ao([p,"optionalAccess",m=>m.finish,"call",m=>m()])}return f}else return ao([p,"optionalAccess",f=>f.finish,"call",f=>f()]),d}let l=ao([c,"optionalAccess",p=>p.startChild,"call",p=>p(i(this,r,o.slice(0,-1)))]);return s.call(this,...o.slice(0,-1),function(p,d){ao([l,"optionalAccess",f=>f.finish,"call",f=>f()]),a(p,d)})}})}_getSpanContextFromOperationArguments(e,r,n){let i={"db.system":"mongodb","db.name":e.dbName,"db.operation":r,"db.mongodb.collection":e.collectionName},s={op:"db",origin:"auto.db.mongo",description:r,data:i},o=Zj[r],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!o||!a)return s;try{if(r==="mapReduce"){let[u,c]=n;i[o[0]]=typeof u=="string"?u:u.name||"<anonymous>",i[o[1]]=typeof c=="string"?c:c.name||"<anonymous>"}else for(let u=0;u<o.length;u++)i[`db.mongodb.${o[u]}`]=JSON.stringify(n[u])}catch{}return s}};Ed.__initStatic();rb.Mongo=Ed});var OT=D(nb=>{Object.defineProperty(nb,"__esModule",{value:!0});var NT=ot(),FT=z(),tq=Es();function rq(t){return!!t&&!!t.$use}var Dd=class t{static __initStatic(){this.id="Prisma"}constructor(e={}){if(this.name=t.id,rq(e.client)&&!e.client._sentryInstrumented){FT.addNonEnumerableProperty(e.client,"_sentryInstrumented",!0);let r={};try{let n=e.client._engineConfig;if(n){let{activeProvider:i,clientVersion:s}=n;i&&(r["db.system"]=i),s&&(r["db.prisma.version"]=s)}}catch{}e.client.$use((n,i)=>{if(tq.shouldDisableAutoInstrumentation(NT.getCurrentHub))return i(n);let s=n.action,o=n.model;return NT.trace({name:o?`${o} ${s}`:s,op:"db.sql.prisma",origin:"auto.db.prisma",data:{...r,"db.operation":s}},()=>i(n))})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&FT.logger.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",e.client)}setupOnce(){}};Dd.__initStatic();nb.Prisma=Dd});var kT=D(ib=>{var{_optionalChain:ga}=ht();Object.defineProperty(ib,"__esModule",{value:!0});var Dc=z(),nq=Es(),xd=class t{static __initStatic(){this.id="GraphQL"}constructor(){this.name=t.id}loadDependency(){return this._module=this._module||Dc.loadModule("graphql/execution/execute.js")}setupOnce(e,r){if(nq.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dc.logger.log("GraphQL Integration is skipped because of instrumenter configuration.");return}let n=this.loadDependency();if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dc.logger.error("GraphQL Integration was unable to require graphql/execution package.");return}Dc.fill(n,"execute",function(i){return function(...s){let o=r().getScope(),a=o.getSpan(),u=ga([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);ga([o,"optionalAccess",l=>l.setSpan,"call",l=>l(u)]);let c=i.call(this,...s);return Dc.isThenable(c)?c.then(l=>(ga([u,"optionalAccess",p=>p.finish,"call",p=>p()]),ga([o,"optionalAccess",p=>p.setSpan,"call",p=>p(a)]),l)):(ga([u,"optionalAccess",l=>l.finish,"call",l=>l()]),ga([o,"optionalAccess",l=>l.setSpan,"call",l=>l(a)]),c)}})}};xd.__initStatic();ib.GraphQL=xd});var MT=D(ob=>{var{_optionalChain:sb}=ht();Object.defineProperty(ob,"__esModule",{value:!0});var Qt=z(),iq=Es(),Sd=class t{static __initStatic(){this.id="Apollo"}constructor(e={useNestjs:!1}){this.name=t.id,this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||Qt.loadModule("@nestjs/graphql"):this._module=this._module||Qt.loadModule("apollo-server-core"),this._module}setupOnce(e,r){if(iq.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Qt.logger.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){let n=this.loadDependency();if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Qt.logger.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}Qt.fill(n.GraphQLFactory.prototype,"mergeWithSchema",function(i){return function(...s){return Qt.fill(this.resolversExplorerService,"explore",function(o){return function(){let a=Qt.arrayify(o.call(this));return RT(a,r)}}),i.call(this,...s)}})}else{let n=this.loadDependency();if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Qt.logger.error("Apollo Integration was unable to require apollo-server-core package.");return}Qt.fill(n.ApolloServerBase.prototype,"constructSchema",function(i){return function(){if(!this.config.resolvers)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this.config.schema?(Qt.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),Qt.logger.warn()):this.config.modules&&Qt.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),Qt.logger.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),i.call(this);let s=Qt.arrayify(this.config.resolvers);return this.config.resolvers=RT(s,r),i.call(this)}})}}};Sd.__initStatic();function RT(t,e){return t.map(r=>(Object.keys(r).forEach(n=>{Object.keys(r[n]).forEach(i=>{typeof r[n][i]=="function"&&sq(r,n,i,e)})}),r))}function sq(t,e,r,n){Qt.fill(t[e],r,function(i){return function(...s){let a=n().getScope().getSpan(),u=sb([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:`${e}.${r}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),c=i.call(this,...s);return Qt.isThenable(c)?c.then(l=>(sb([u,"optionalAccess",p=>p.finish,"call",p=>p()]),l)):(sb([u,"optionalAccess",l=>l.finish,"call",l=>l()]),c)}})}ob.Apollo=Sd});var LT=D((ab,Ds)=>{Object.defineProperty(ab,"__esModule",{value:!0});var uo=z(),oq=[()=>{let t=uo.dynamicRequire(Ds,"./apollo");return new t.Apollo},()=>{let t=uo.dynamicRequire(Ds,"./apollo");return new t.Apollo({useNestjs:!0})},()=>{let t=uo.dynamicRequire(Ds,"./graphql");return new t.GraphQL},()=>{let t=uo.dynamicRequire(Ds,"./mongo");return new t.Mongo},()=>{let t=uo.dynamicRequire(Ds,"./mongo");return new t.Mongo({mongoose:!0})},()=>{let t=uo.dynamicRequire(Ds,"./mysql");return new t.Mysql},()=>{let t=uo.dynamicRequire(Ds,"./postgres");return new t.Postgres}];ab.lazyLoadedNodePerformanceMonitoringIntegrations=oq});var wi=D(ub=>{Object.defineProperty(ub,"__esModule",{value:!0});var aq=z(),uq=aq.GLOBAL_OBJ;ub.WINDOW=uq});var $T=D(cb=>{Object.defineProperty(cb,"__esModule",{value:!0});var cq=ot(),BT=z(),_d=wi();function lq(){_d.WINDOW&&_d.WINDOW.document?_d.WINDOW.document.addEventListener("visibilitychange",()=>{let t=cq.getActiveTransaction();if(_d.WINDOW.document.hidden&&t){let e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&BT.logger.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&BT.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}cb.registerBackgroundTabDetection=lq});var Cd=D(lb=>{Object.defineProperty(lb,"__esModule",{value:!0});var pq=(t,e,r)=>{let n,i;return s=>{e.value>=0&&(s||r)&&(i=e.value-(n||0),(i||n===void 0)&&(n=e.value,e.delta=i,t(e)))}};lb.bindReporter=pq});var UT=D(pb=>{Object.defineProperty(pb,"__esModule",{value:!0});var dq=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;pb.generateUniqueID=dq});var fb=D(db=>{Object.defineProperty(db,"__esModule",{value:!0});var xc=wi(),fq=()=>{let t=xc.WINDOW.performance.timing,e=xc.WINDOW.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let n in t)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(t[n]-t.navigationStart,0));return r},hq=()=>xc.WINDOW.__WEB_VITALS_POLYFILL__?xc.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||fq()):xc.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];db.getNavigationEntry=hq});var mb=D(hb=>{Object.defineProperty(hb,"__esModule",{value:!0});var mq=fb(),gq=()=>{let t=mq.getNavigationEntry();return t&&t.activationStart||0};hb.getActivationStart=gq});var vd=D(gb=>{Object.defineProperty(gb,"__esModule",{value:!0});var yq=wi(),bq=UT(),Eq=mb(),Dq=fb(),xq=(t,e)=>{let r=Dq.getNavigationEntry(),n="navigate";return r&&(yq.WINDOW.document.prerendering||Eq.getActivationStart()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:bq.generateUniqueID(),navigationType:n}};gb.initMetric=xq});var Sc=D(yb=>{Object.defineProperty(yb,"__esModule",{value:!0});var Sq=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{e(i.getEntries())});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};yb.observe=Sq});var _c=D(bb=>{Object.defineProperty(bb,"__esModule",{value:!0});var _q=wi(),Cq=(t,e)=>{let r=n=>{(n.type==="pagehide"||_q.WINDOW.document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};bb.onHidden=Cq});var jT=D(Eb=>{Object.defineProperty(Eb,"__esModule",{value:!0});var vq=Cd(),Tq=vd(),wq=Sc(),Aq=_c(),Pq=t=>{let e=Tq.initMetric("CLS",0),r,n=0,i=[],s=a=>{a.forEach(u=>{if(!u.hadRecentInput){let c=i[0],l=i[i.length-1];n&&i.length!==0&&u.startTime-l.startTime<1e3&&u.startTime-c.startTime<5e3?(n+=u.value,i.push(u)):(n=u.value,i=[u]),n>e.value&&(e.value=n,e.entries=i,r&&r())}})},o=wq.observe("layout-shift",s);if(o){r=vq.bindReporter(t,e);let a=()=>{s(o.takeRecords()),r(!0)};return Aq.onHidden(a),a}};Eb.onCLS=Pq});var wd=D(Db=>{Object.defineProperty(Db,"__esModule",{value:!0});var qT=wi(),Iq=_c(),Td=-1,Nq=()=>qT.WINDOW.document.visibilityState==="hidden"&&!qT.WINDOW.document.prerendering?0:1/0,Fq=()=>{Iq.onHidden(({timeStamp:t})=>{Td=t},!0)},Oq=()=>(Td<0&&(Td=Nq(),Fq()),{get firstHiddenTime(){return Td}});Db.getVisibilityWatcher=Oq});var GT=D(xb=>{Object.defineProperty(xb,"__esModule",{value:!0});var kq=Cd(),Rq=wd(),Mq=vd(),Lq=Sc(),Bq=_c(),$q=t=>{let e=Rq.getVisibilityWatcher(),r=Mq.initMetric("FID"),n,i=a=>{a.startTime<e.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),n(!0))},s=a=>{a.forEach(i)},o=Lq.observe("first-input",s);n=kq.bindReporter(t,r),o&&Bq.onHidden(()=>{s(o.takeRecords()),o.disconnect()},!0)};xb.onFID=$q});var KT=D(Sb=>{Object.defineProperty(Sb,"__esModule",{value:!0});var Uq=Cd(),jq=mb(),qq=wd(),Gq=vd(),Vq=Sc(),Kq=_c(),VT={},Hq=t=>{let e=qq.getVisibilityWatcher(),r=Gq.initMetric("LCP"),n,i=o=>{let a=o[o.length-1];if(a){let u=Math.max(a.startTime-jq.getActivationStart(),0);u<e.firstHiddenTime&&(r.value=u,r.entries=[a],n())}},s=Vq.observe("largest-contentful-paint",i);if(s){n=Uq.bindReporter(t,r);let o=()=>{VT[r.id]||(i(s.takeRecords()),s.disconnect(),VT[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),Kq.onHidden(o,!0),o}};Sb.onLCP=Hq});var HT=D(Ad=>{Object.defineProperty(Ad,"__esModule",{value:!0});function zq(t){return typeof t=="number"&&isFinite(t)}function Wq(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}Ad._startChild=Wq;Ad.isMeasurementValue=zq});var ZT=D(xs=>{Object.defineProperty(xs,"__esModule",{value:!0});var WT=ot(),_t=z(),co=wi(),Yq=jT(),Jq=GT(),Xq=KT(),Qq=wd(),YT=Sc(),Ai=HT();function Ct(t){return t/1e3}function JT(){return co.WINDOW&&co.WINDOW.addEventListener&&co.WINDOW.performance}var zT=0,pt={},Mn,Cc;function Zq(){let t=JT();if(t&&_t.browserPerformanceTimeOrigin){t.mark&&co.WINDOW.performance.mark("sentry-tracing-init"),i5();let e=r5(),r=n5();return()=>{e&&e(),r&&r()}}return()=>{}}function e5(){let t=e=>{for(let r of e){let n=WT.getActiveTransaction();if(!n)return;let i=Ct(_t.browserPerformanceTimeOrigin+r.startTime),s=Ct(r.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+s})}};YT.observe("longtask",t)}function t5(){let t=e=>{for(let r of e){let n=WT.getActiveTransaction();if(!n)return;if(r.name==="click"){let i=Ct(_t.browserPerformanceTimeOrigin+r.startTime),s=Ct(r.duration);n.startChild({description:_t.htmlTreeAsString(r.target),op:`ui.interaction.${r.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+s})}}};YT.observe("event",t,{durationThreshold:0})}function r5(){return Yq.onCLS(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding CLS"),pt.cls={value:t.value,unit:""},Cc=e)})}function n5(){return Xq.onLCP(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding LCP"),pt.lcp={value:t.value,unit:"millisecond"},Mn=e)})}function i5(){Jq.onFID(t=>{let e=t.entries.pop();if(!e)return;let r=Ct(_t.browserPerformanceTimeOrigin),n=Ct(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding FID"),pt.fid={value:t.value,unit:"millisecond"},pt["mark.fid"]={value:r+n,unit:"second"}})}function s5(t){let e=JT();if(!e||!co.WINDOW.performance.getEntries||!_t.browserPerformanceTimeOrigin)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Tracing] Adding & adjusting spans using Performance API");let r=Ct(_t.browserPerformanceTimeOrigin),n=e.getEntries(),i,s;if(n.slice(zT).forEach(o=>{let a=Ct(o.startTime),u=Ct(o.duration);if(!(t.op==="navigation"&&r+a<t.startTimestamp))switch(o.entryType){case"navigation":{o5(t,o,r),i=r+Ct(o.responseStart),s=r+Ct(o.requestStart);break}case"mark":case"paint":case"measure":{XT(t,o,a,u,r);let c=Qq.getVisibilityWatcher(),l=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding FP"),pt.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding FCP"),pt.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{let c=o.name.replace(co.WINDOW.location.origin,"");QT(t,o,c,a,u,r);break}}}),zT=Math.max(n.length-1,0),u5(t),t.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding TTFB"),pt.ttfb={value:(i-t.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(pt["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!pt[a]||r>=t.startTimestamp)return;let u=pt[a].value,c=r+Ct(u),l=Math.abs((c-t.startTimestamp)*1e3),p=l-u;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log(`[Measurements] Normalized ${a} from ${u} to ${l} (${p})`),pt[a].value=l});let o=pt["mark.fid"];o&&pt.fid&&(Ai._startChild(t,{description:"first input delay",endTimestamp:o.value+Ct(pt.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete pt["mark.fid"]),"fcp"in pt||delete pt.cls,Object.keys(pt).forEach(a=>{t.setMeasurement(a,pt[a].value,pt[a].unit)}),c5(t)}Mn=void 0,Cc=void 0,pt={}}function XT(t,e,r,n,i){let s=i+r,o=s+n;return Ai._startChild(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function o5(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Pd(t,e,n,r)}),Pd(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),Pd(t,e,"fetch",r,"cache","domainLookupStart"),Pd(t,e,"domainLookup",r,"DNS"),a5(t,e,r)}function Pd(t,e,r,n,i,s){let o=s?e[s]:e[`${r}End`],a=e[`${r}Start`];!a||!o||Ai._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:i||r,startTimestamp:n+Ct(a),endTimestamp:n+Ct(o)})}function a5(t,e,r){Ai._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Ct(e.requestStart),endTimestamp:r+Ct(e.responseEnd)}),Ai._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Ct(e.responseStart),endTimestamp:r+Ct(e.responseEnd)})}function QT(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let o={};"transferSize"in e&&(o["http.response_transfer_size"]=e.transferSize),"encodedBodySize"in e&&(o["http.response_content_length"]=e.encodedBodySize),"decodedBodySize"in e&&(o["http.decoded_response_content_length"]=e.decodedBodySize),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);let a=s+n,u=a+i;Ai._startChild(t,{description:r,endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function u5(t){let e=co.WINDOW.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Ai.isMeasurementValue(r.rtt)&&(pt["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Ai.isMeasurementValue(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Ai.isMeasurementValue(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function c5(t){Mn&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding LCP Data"),Mn.element&&t.setTag("lcp.element",_t.htmlTreeAsString(Mn.element)),Mn.id&&t.setTag("lcp.id",Mn.id),Mn.url&&t.setTag("lcp.url",Mn.url.trim().slice(0,200)),t.setTag("lcp.size",Mn.size)),Cc&&Cc.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_t.logger.log("[Measurements] Adding CLS Data"),Cc.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,_t.htmlTreeAsString(e.node))))}xs._addMeasureSpans=XT;xs._addResourceSpans=QT;xs.addPerformanceEntries=s5;xs.startTrackingInteractions=t5;xs.startTrackingLongTasks=e5;xs.startTrackingWebVitals=Zq});var Cb=D(Bn=>{Object.defineProperty(Bn,"__esModule",{value:!0});var ya=ot(),Zt=z(),Id=["localhost",/^\/(?!\/)/],_b={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Id,tracePropagationTargets:Id};function l5(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:n,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:_b.traceFetch,traceXHR:_b.traceXHR,...t},a=typeof s=="function"?s:l=>!0,u=l=>nw(l,n||i),c={};e&&Zt.addInstrumentationHandler("fetch",l=>{let p=iw(l,a,u,c);o&&p&&ew(p)}),r&&Zt.addInstrumentationHandler("xhr",l=>{let p=ow(l,a,u,c);o&&p&&ew(p)})}function p5(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function ew(t){let e=t.data.url,r=new PerformanceObserver(n=>{n.getEntries().forEach(s=>{p5(s)&&s.name.endsWith(e)&&(d5(s).forEach(a=>t.setData(...a)),r.disconnect())})});r.observe({entryTypes:["resource"]})}function rw(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function Ln(t=0){return((Zt.browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function d5(t){let{name:e,version:r}=rw(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),Zt.browserPerformanceTimeOrigin?[...n,["http.request.redirect_start",Ln(t.redirectStart)],["http.request.fetch_start",Ln(t.fetchStart)],["http.request.domain_lookup_start",Ln(t.domainLookupStart)],["http.request.domain_lookup_end",Ln(t.domainLookupEnd)],["http.request.connect_start",Ln(t.connectStart)],["http.request.secure_connection_start",Ln(t.secureConnectionStart)],["http.request.connection_end",Ln(t.connectEnd)],["http.request.request_start",Ln(t.requestStart)],["http.request.response_start",Ln(t.responseStart)],["http.request.response_end",Ln(t.responseEnd)]]:n}function nw(t,e){return Zt.stringMatchesSomePattern(t,e||Id)}function iw(t,e,r,n){if(!ya.hasTracingEnabled()||!t.fetchData)return;let i=e(t.fetchData.url);if(t.endTimestamp&&i){let d=t.fetchData.__span;if(!d)return;let f=n[d];if(f){if(t.response){f.setHttpStatus(t.response.status);let h=t.response&&t.response.headers&&t.response.headers.get("content-length"),m=parseInt(h);m>0&&f.setData("http.response_content_length",m)}else t.error&&f.setStatus("internal_error");f.finish(),delete n[d]}return}let s=ya.getCurrentHub(),o=s.getScope(),a=s.getClient(),u=o.getSpan(),{method:c,url:l}=t.fetchData,p=i&&u?u.startChild({data:{url:l,type:"fetch","http.method":c},description:`${c} ${l}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(p&&(t.fetchData.__span=p.spanId,n[p.spanId]=p),r(t.fetchData.url)&&a){let d=t.args[0];t.args[1]=t.args[1]||{};let f=t.args[1];f.headers=sw(d,a,o,f,p)}return p}function sw(t,e,r,n,i){let s=i||r.getSpan(),o=s&&s.transaction,{traceId:a,sampled:u,dsc:c}=r.getPropagationContext(),l=s?s.toTraceparent():Zt.generateSentryTraceHeader(a,void 0,u),p=o?o.getDynamicSamplingContext():c||ya.getDynamicSamplingContextFromClient(a,e,r),d=Zt.dynamicSamplingContextToSentryBaggageHeader(p),f=typeof Request<"u"&&Zt.isInstanceOf(t,Request)?t.headers:n.headers;if(f)if(typeof Headers<"u"&&Zt.isInstanceOf(f,Headers)){let h=new Headers(f);return h.append("sentry-trace",l),d&&h.append(Zt.BAGGAGE_HEADER_NAME,d),h}else if(Array.isArray(f)){let h=[...f,["sentry-trace",l]];return d&&h.push([Zt.BAGGAGE_HEADER_NAME,d]),h}else{let h="baggage"in f?f.baggage:void 0,m=[];return Array.isArray(h)?m.push(...h):h&&m.push(h),d&&m.push(d),{...f,"sentry-trace":l,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":l,baggage:d}}function ow(t,e,r,n){let i=t.xhr,s=i&&i[Zt.SENTRY_XHR_DATA_KEY];if(!ya.hasTracingEnabled()||i&&i.__sentry_own_request__||!i||!s)return;let o=e(s.url);if(t.endTimestamp&&o){let p=i.__sentry_xhr_span_id__;if(!p)return;let d=n[p];d&&(d.setHttpStatus(s.status_code),d.finish(),delete n[p]);return}let a=ya.getCurrentHub(),u=a.getScope(),c=u.getSpan(),l=o&&c?c.startChild({data:{...s.data,type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(l&&(i.__sentry_xhr_span_id__=l.spanId,n[i.__sentry_xhr_span_id__]=l),i.setRequestHeader&&r(s.url))if(l){let p=l&&l.transaction,d=p&&p.getDynamicSamplingContext(),f=Zt.dynamicSamplingContextToSentryBaggageHeader(d);tw(i,l.toTraceparent(),f)}else{let p=a.getClient(),{traceId:d,sampled:f,dsc:h}=u.getPropagationContext(),m=Zt.generateSentryTraceHeader(d,void 0,f),g=h||(p?ya.getDynamicSamplingContextFromClient(d,p,u):void 0),y=Zt.dynamicSamplingContextToSentryBaggageHeader(g);tw(i,m,y)}return l}function tw(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader(Zt.BAGGAGE_HEADER_NAME,r)}catch{}}Bn.DEFAULT_TRACE_PROPAGATION_TARGETS=Id;Bn.addTracingHeadersToFetchRequest=sw;Bn.defaultRequestInstrumentationOptions=_b;Bn.extractNetworkProtocol=rw;Bn.fetchCallback=iw;Bn.instrumentOutgoingRequests=l5;Bn.shouldAttachHeaders=nw;Bn.xhrCallback=ow});var aw=D(vb=>{Object.defineProperty(vb,"__esModule",{value:!0});var vc=z(),Tc=wi();function f5(t,e=!0,r=!0){if(!Tc.WINDOW||!Tc.WINDOW.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vc.logger.warn("Could not initialize routing instrumentation due to invalid location");return}let n=Tc.WINDOW.location.href,i;e&&(i=t({name:Tc.WINDOW.location.pathname,startTimestamp:vc.browserPerformanceTimeOrigin?vc.browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&vc.addInstrumentationHandler("history",({to:s,from:o})=>{if(o===void 0&&n&&n.indexOf(s)!==-1){n=void 0;return}o!==s&&(n=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vc.logger.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:Tc.WINDOW.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}vb.instrumentRoutingWithDefaults=f5});var pw=D(Ac=>{Object.defineProperty(Ac,"__esModule",{value:!0});var wc=ot(),Pi=z(),h5=$T(),Nd=ZT(),cw=Cb(),m5=aw(),uw=wi(),lw="BrowserTracing",g5={...wc.TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:m5.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...cw.defaultRequestInstrumentationOptions},Tb=class{constructor(e){this.name=lw,this._hasSetTracePropagationTargets=!1,wc.addTracingExtensions(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...g5,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Nd.startTrackingWebVitals(),this.options.enableLongTask&&Nd.startTrackingLongTasks(),this.options._experiments.enableInteractions&&Nd.startTrackingInteractions()}setupOnce(e,r){this._getCurrentHub=r;let i=r().getClient(),s=i&&i.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:u,markBackgroundTransactions:c,traceFetch:l,traceXHR:p,shouldCreateSpanForRequest:d,enableHTTPTimings:f,_experiments:h}=this.options,m=s&&s.tracePropagationTargets,g=m||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&m&&Pi.logger.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(y=>{let b=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(b,y,r),b},u,a),c&&h5.registerBackgroundTabDetection(),h.enableInteractions&&this._registerInteractionListener(),cw.instrumentOutgoingRequests({traceFetch:l,traceXHR:p,tracePropagationTargets:g,shouldCreateSpanForRequest:d,enableHTTPTimings:f})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a=e.op==="pageload",u=a?wb("sentry-trace"):"",c=a?wb("baggage"):"",{traceparentData:l,dynamicSamplingContext:p,propagationContext:d}=Pi.tracingContextFromHeaders(u,c),f={...e,...l,metadata:{...e.metadata,dynamicSamplingContext:l&&!p?{}:p},trimEnd:!0},h=typeof n=="function"?n(f):f,m=h===void 0?{...f,sampled:!1}:h;m.metadata=m.name!==f.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,m.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.log(`[Tracing] Starting ${m.op} transaction on scope`);let{location:g}=uw.WINDOW,y=wc.startIdleTransaction(r,m,i,s,!0,{location:g},o),b=r.getScope();return a&&l?b.setPropagationContext(d):b.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback(_=>{this._collectWebVitals(),Nd.addPerformanceEntries(_)}),y}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:n,finalTimeout:i,heartbeatInterval:s}=this.options,o="ui.action.click",a=wc.getActiveTransaction();if(a&&a.op&&["navigation","pageload"].includes(a.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}let u=this._getCurrentHub(),{location:c}=uw.WINDOW,l={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=wc.startIdleTransaction(u,l,n,i,!0,{location:c},s)};["click"].forEach(n=>{addEventListener(n,r,{once:!1,capture:!0})})}};function wb(t){let e=Pi.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}Ac.BROWSER_TRACING_INTEGRATION_ID=lw;Ac.BrowserTracing=Tb;Ac.getMetaContent=wb});var fw=D((Ab,Pc)=>{Object.defineProperty(Ab,"__esModule",{value:!0});var dw=ot(),ba=z();function y5(){let t=dw.getMainCarrier();if(!t.__SENTRY__)return;let e={mongodb(){let n=ba.dynamicRequire(Pc,"./node/integrations/mongo");return new n.Mongo},mongoose(){let n=ba.dynamicRequire(Pc,"./node/integrations/mongo");return new n.Mongo},mysql(){let n=ba.dynamicRequire(Pc,"./node/integrations/mysql");return new n.Mysql},pg(){let n=ba.dynamicRequire(Pc,"./node/integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(n=>!!ba.loadModule(n)).map(n=>{try{return e[n]()}catch{return}}).filter(n=>n);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function b5(){dw.addTracingExtensions(),ba.isNodeEnv()&&y5()}Ab.addExtensionMethods=b5});var Ib=D(Ke=>{Object.defineProperty(Ke,"__esModule",{value:!0});var Ii=ot(),hw=z(),E5=wT(),D5=AT(),x5=PT(),S5=IT(),_5=OT(),C5=kT(),v5=MT(),T5=LT(),mw=pw(),Pb=Cb(),w5=fw();Ke.IdleTransaction=Ii.IdleTransaction;Ke.Span=Ii.Span;Ke.SpanStatus=Ii.SpanStatus;Ke.Transaction=Ii.Transaction;Ke.extractTraceparentData=Ii.extractTraceparentData;Ke.getActiveTransaction=Ii.getActiveTransaction;Ke.hasTracingEnabled=Ii.hasTracingEnabled;Ke.spanStatusfromHttpCode=Ii.spanStatusfromHttpCode;Ke.startIdleTransaction=Ii.startIdleTransaction;Ke.TRACEPARENT_REGEXP=hw.TRACEPARENT_REGEXP;Ke.stripUrlQueryAndFragment=hw.stripUrlQueryAndFragment;Ke.Express=E5.Express;Ke.Postgres=D5.Postgres;Ke.Mysql=x5.Mysql;Ke.Mongo=S5.Mongo;Ke.Prisma=_5.Prisma;Ke.GraphQL=C5.GraphQL;Ke.Apollo=v5.Apollo;Ke.lazyLoadedNodePerformanceMonitoringIntegrations=T5.lazyLoadedNodePerformanceMonitoringIntegrations;Ke.BROWSER_TRACING_INTEGRATION_ID=mw.BROWSER_TRACING_INTEGRATION_ID;Ke.BrowserTracing=mw.BrowserTracing;Ke.addTracingHeadersToFetchRequest=Pb.addTracingHeadersToFetchRequest;Ke.defaultRequestInstrumentationOptions=Pb.defaultRequestInstrumentationOptions;Ke.instrumentOutgoingRequests=Pb.instrumentOutgoingRequests;Ke.addExtensionMethods=w5.addExtensionMethods});var gw=D(Nb=>{Object.defineProperty(Nb,"__esModule",{value:!0});var A5=Ib(),P5=z();function I5(){let t=A5.lazyLoadedNodePerformanceMonitoringIntegrations.map(e=>{try{return e()}catch{return}}).filter(e=>!!e);return t.length===0&&P5.logger.warn("Performance monitoring integrations could not be automatically loaded."),t.filter(e=>!!e.loadDependency())}Nb.autoDiscoverNodePerformanceMonitoringIntegrations=I5});var Ob=D(Da=>{Object.defineProperty(Da,"__esModule",{value:!0});var N5=ot(),Ea=z();function Fb(t,e){return t(e.stack||"",1)}function yw(t,e){let r={type:e.name||e.constructor.name,value:e.message},n=Fb(t,e);return n.length&&(r.stacktrace={frames:n}),r}function F5(t,e,r){let n=e,s=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"};if(!Ea.isError(e)){if(Ea.isPlainObject(e)){let a=`Non-Error exception captured with keys: ${Ea.extractExceptionKeysForMessage(e)}`,u=N5.getCurrentHub(),c=u.getClient(),l=c&&c.getOptions().normalizeDepth;u.configureScope(p=>{p.setExtra("__serialized__",Ea.normalizeToSize(e,l))}),n=r&&r.syntheticException||new Error(a),n.message=a}else n=r&&r.syntheticException||new Error(e),n.message=e;s.synthetic=!0}let o={exception:{values:[yw(t,n)]}};return Ea.addExceptionTypeValue(o,void 0,void 0),Ea.addExceptionMechanism(o,s),{...o,event_id:r&&r.event_id}}function O5(t,e,r="info",n,i){let s={event_id:n&&n.event_id,level:r,message:e};if(i&&n&&n.syntheticException){let o=Fb(t,n.syntheticException);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]})}return s}Da.eventFromMessage=O5;Da.eventFromUnknownInput=F5;Da.exceptionFromError=yw;Da.parseStackFrames=Fb});var Mb=D(Rb=>{var{_optionalChain:Fd}=ht();Object.defineProperty(Rb,"__esModule",{value:!0});var lo=ot(),po=z(),k5=require("os"),R5=require("util"),bw=Ob(),kb=class extends lo.BaseClient{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:lo.SDK_VERSION}],version:lo.SDK_VERSION},e.transportOptions={textEncoder:new R5.TextEncoder,...e.transportOptions},lo.addTracingExtensions(),super(e)}captureException(e,r,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n){let i=n.getRequestSession();i&&i.status==="ok"&&(i.status="errored")}return super.captureException(e,r,n)}captureEvent(e,r,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n&&(e.type||"exception")==="exception"&&e.exception&&e.exception.values&&e.exception.values.length>0){let o=n.getRequestSession();o&&o.status==="ok"&&(o.status="errored")}return super.captureEvent(e,r,n)}close(e){return Fd([this,"access",r=>r._sessionFlusher,"optionalAccess",r=>r.close,"call",r=>r()]),super.close(e)}initSessionFlusher(){let{release:e,environment:r}=this._options;e?this._sessionFlusher=new lo.SessionFlusher(this,{release:e,environment:r}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&po.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}eventFromException(e,r){return po.resolvedSyncPromise(bw.eventFromUnknownInput(this._options.stackParser,e,r))}eventFromMessage(e,r="info",n){return po.resolvedSyncPromise(bw.eventFromMessage(this._options.stackParser,e,r,n,this._options.attachStacktrace))}captureCheckIn(e,r,n){let i=e.status!=="in_progress"&&e.checkInId?e.checkInId:po.uuid4();if(!this._isEnabled())return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&po.logger.warn("SDK not enabled, will not capture checkin."),i;let s=this.getOptions(),{release:o,environment:a,tunnel:u}=s,c={check_in_id:i,monitor_slug:e.monitorSlug,status:e.status,release:o,environment:a};e.status!=="in_progress"&&(c.duration=e.duration),r&&(c.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let[l,p]=this._getTraceInfoFromScope(n);p&&(c.contexts={trace:p});let d=lo.createCheckInEnvelope(c,l,this.getSdkMetadata(),u,this.getDsn());return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&po.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(d),i}_prepareEvent(e,r,n){return e.platform=e.platform||"node",e.contexts={...e.contexts,runtime:Fd([e,"access",i=>i.contexts,"optionalAccess",i=>i.runtime])||{name:"node",version:global.process.version}},e.server_name=e.server_name||this.getOptions().serverName||global.process.env.SENTRY_NAME||k5.hostname(),super._prepareEvent(e,r,n)}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&po.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let r=e.getSpan();if(r)return[Fd([r,"optionalAccess",u=>u.transaction,"optionalAccess",u=>u.getDynamicSamplingContext,"call",u=>u()]),Fd([r,"optionalAccess",u=>u.getTraceContext,"call",u=>u()])];let{traceId:n,spanId:i,parentSpanId:s,dsc:o}=e.getPropagationContext(),a={trace_id:n,span_id:i,parent_span_id:s};return o?[o,a]:[lo.getDynamicSamplingContextFromClient(n,this,e),a]}};Rb.NodeClient=kb});var Dw=D((_ue,Ew)=>{var xa=1e3,Sa=xa*60,_a=Sa*60,fo=_a*24,M5=fo*7,L5=fo*365.25;Ew.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return B5(t);if(r==="number"&&isFinite(t))return e.long?U5(t):$5(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function B5(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*L5;case"weeks":case"week":case"w":return r*M5;case"days":case"day":case"d":return r*fo;case"hours":case"hour":case"hrs":case"hr":case"h":return r*_a;case"minutes":case"minute":case"mins":case"min":case"m":return r*Sa;case"seconds":case"second":case"secs":case"sec":case"s":return r*xa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function $5(t){var e=Math.abs(t);return e>=fo?Math.round(t/fo)+"d":e>=_a?Math.round(t/_a)+"h":e>=Sa?Math.round(t/Sa)+"m":e>=xa?Math.round(t/xa)+"s":t+"ms"}function U5(t){var e=Math.abs(t);return e>=fo?Od(t,e,fo,"day"):e>=_a?Od(t,e,_a,"hour"):e>=Sa?Od(t,e,Sa,"minute"):e>=xa?Od(t,e,xa,"second"):t+" ms"}function Od(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Lb=D((Cue,xw)=>{function j5(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Dw(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,d=null,f,h;function m(...g){if(!m.enabled)return;let y=m,b=Number(new Date),_=b-(p||b);y.diff=_,y.prev=p,y.curr=b,p=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(S,T)=>{if(S==="%%")return"%";E++;let w=r.formatters[T];if(typeof w=="function"){let k=g[E];S=w.call(y,k),g.splice(E,1),E--}return S}),r.formatArgs.call(y,g),(y.log||r.log).apply(y,g)}return m.namespace=l,m.useColors=r.useColors(),m.color=r.selectColor(l),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,h=r.enabled(l)),h),set:g=>{d=g}}),typeof r.init=="function"&&r.init(m),m}function n(l,p){let d=r(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(let d of p)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(l,p){let d=0,f=0,h=-1,m=0;for(;d<l.length;)if(f<p.length&&(p[f]===l[d]||p[f]==="*"))p[f]==="*"?(h=f,m=d,f++):(d++,f++);else if(h!==-1)f=h+1,m++,d=m;else return!1;for(;f<p.length&&p[f]==="*";)f++;return f===p.length}function o(){let l=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),l}function a(l){for(let p of r.skips)if(s(l,p))return!1;for(let p of r.names)if(s(l,p))return!0;return!1}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}xw.exports=j5});var Sw=D((Fr,kd)=>{Fr.formatArgs=G5;Fr.save=V5;Fr.load=K5;Fr.useColors=q5;Fr.storage=H5();Fr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function q5(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function G5(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+kd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Fr.log=console.debug||console.log||(()=>{});function V5(t){try{t?Fr.storage.setItem("debug",t):Fr.storage.removeItem("debug")}catch{}}function K5(){let t;try{t=Fr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function H5(){try{return localStorage}catch{}}kd.exports=Lb()(Fr);var{formatters:z5}=kd.exports;z5.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Cw=D((vue,_w)=>{"use strict";_w.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var ww=D((Tue,Tw)=>{"use strict";var W5=require("os"),vw=require("tty"),Jr=Cw(),{env:Nt}=process,Rd;Jr("no-color")||Jr("no-colors")||Jr("color=false")||Jr("color=never")?Rd=0:(Jr("color")||Jr("colors")||Jr("color=true")||Jr("color=always"))&&(Rd=1);function Y5(){if("FORCE_COLOR"in Nt)return Nt.FORCE_COLOR==="true"?1:Nt.FORCE_COLOR==="false"?0:Nt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Nt.FORCE_COLOR,10),3)}function J5(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function X5(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=Y5();n!==void 0&&(Rd=n);let i=r?Rd:n;if(i===0)return 0;if(r){if(Jr("color=16m")||Jr("color=full")||Jr("color=truecolor"))return 3;if(Jr("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let s=i||0;if(Nt.TERM==="dumb")return s;if(process.platform==="win32"){let o=W5.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Nt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in Nt)||Nt.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Nt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Nt.TEAMCITY_VERSION)?1:0;if(Nt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Nt){let o=Number.parseInt((Nt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Nt.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Nt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Nt.TERM)||"COLORTERM"in Nt?1:s}function Bb(t,e={}){let r=X5(t,{streamIsTTY:t&&t.isTTY,...e});return J5(r)}Tw.exports={supportsColor:Bb,stdout:Bb({isTTY:vw.isatty(1)}),stderr:Bb({isTTY:vw.isatty(2)})}});var Pw=D((Ft,Ld)=>{var Q5=require("tty"),Md=require("util");Ft.init=s7;Ft.log=r7;Ft.formatArgs=e7;Ft.save=n7;Ft.load=i7;Ft.useColors=Z5;Ft.destroy=Md.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ft.colors=[6,2,3,4,5,1];try{let t=ww();t&&(t.stderr||t).level>=2&&(Ft.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ft.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Z5(){return"colors"in Ft.inspectOpts?!!Ft.inspectOpts.colors:Q5.isatty(process.stderr.fd)}function e7(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Ld.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=t7()+e+" "+t[0]}function t7(){return Ft.inspectOpts.hideDate?"":new Date().toISOString()+" "}function r7(...t){return process.stderr.write(Md.formatWithOptions(Ft.inspectOpts,...t)+`
`)}function n7(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function i7(){return process.env.DEBUG}function s7(t){t.inspectOpts={};let e=Object.keys(Ft.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Ft.inspectOpts[e[r]]}Ld.exports=Lb()(Ft);var{formatters:Aw}=Ld.exports;Aw.o=function(t){return this.inspectOpts.colors=this.useColors,Md.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Aw.O=function(t){return this.inspectOpts.colors=this.useColors,Md.inspect(t,this.inspectOpts)}});var Bd=D((wue,$b)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$b.exports=Sw():$b.exports=Pw()});var Iw=D(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});function o7(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(s,o)=>{s?i(s):n(o)})})}}Ub.default=o7});var Ow=D((qb,Fw)=>{"use strict";var Nw=qb&&qb.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a7=require("events"),u7=Nw(Bd()),c7=Nw(Iw()),Ic=u7.default("agent-base");function l7(t){return!!t&&typeof t.addRequest=="function"}function jb(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function $d(t,e){return new $d.Agent(t,e)}(function(t){class e extends a7.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:jb()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:jb()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=jb()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let o=!1,a=null,u=s.timeout||this.timeout,c=f=>{n._hadError||(n.emit("error",f),n._hadError=!0)},l=()=>{a=null,o=!0;let f=new Error(`A "socket" was not created for HTTP request before ${u}ms`);f.code="ETIMEOUT",c(f)},p=f=>{o||(a!==null&&(clearTimeout(a),a=null),c(f))},d=f=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),l7(f)){Ic("Callback returned another Agent instance %o",f.constructor.name),f.addRequest(n,s);return}if(f){f.once("free",()=>{this.freeSocket(f,s)}),n.onSocket(f);return}let h=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);c(h)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Ic("Converting legacy callback function to promise"),this.promisifiedCallback=c7.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(a=setTimeout(l,u)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{Ic("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(d,p)}catch(f){Promise.reject(f).catch(p)}}freeSocket(n,i){Ic("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){Ic("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})($d||($d={}));Fw.exports=$d});var kw=D(Fc=>{"use strict";var p7=Fc&&Fc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fc,"__esModule",{value:!0});var d7=p7(Bd()),Nc=d7.default("https-proxy-agent:parse-proxy-response");function f7(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let p=t.read();p?l(p):t.once("readable",s)}function o(){t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",a),t.removeListener("readable",s)}function a(p){Nc("onclose had error %o",p)}function u(){Nc("onend")}function c(p){o(),Nc("onerror %o",p),r(p)}function l(p){i.push(p),n+=p.length;let d=Buffer.concat(i,n);if(d.indexOf(`\r
\r
`)===-1){Nc("have not received end of HTTP headers yet..."),s();return}let h=d.toString("ascii",0,d.indexOf(`\r
`)),m=+h.split(" ")[1];Nc("got proxy server response: %o",h),e({statusCode:m,buffered:d})}t.on("error",c),t.on("close",a),t.on("end",u),s()})}Fc.default=f7});var Lw=D(ho=>{"use strict";var h7=ho&&ho.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Ca=ho&&ho.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});var Rw=Ca(require("net")),Mw=Ca(require("tls")),m7=Ca(require("url")),g7=Ca(require("assert")),y7=Ca(Bd()),b7=Ow(),E7=Ca(kw()),Oc=y7.default("https-proxy-agent:agent"),Gb=class extends b7.Agent{constructor(e){let r;if(typeof e=="string"?r=m7.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Oc("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||S7(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return h7(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(Oc("Creating `tls.Socket`: %o",n),s=Mw.default.connect(n)):(Oc("Creating `net.Socket`: %o",n),s=Rw.default.connect(n));let o=Object.assign({},n.headers),u=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:c,port:l,secureEndpoint:p}=r;x7(l,p)||(c+=`:${l}`),o.Host=c,o.Connection="close";for(let g of Object.keys(o))u+=`${g}: ${o[g]}\r
`;let d=E7.default(s);s.write(`${u}\r
`);let{statusCode:f,buffered:h}=yield d;if(f===200){if(e.once("socket",D7),r.secureEndpoint){Oc("Upgrading socket connection to TLS");let g=r.servername||r.host;return Mw.default.connect(Object.assign(Object.assign({},_7(r,"host","hostname","path","port")),{socket:s,servername:g}))}return s}s.destroy();let m=new Rw.default.Socket({writable:!1});return m.readable=!0,e.once("socket",g=>{Oc("replaying proxy buffer for failed request"),g7.default(g.listenerCount("data")>0),g.push(h),g.push(null)}),m})}};ho.default=Gb;function D7(t){t.resume()}function x7(t,e){return!!(!e&&t===80||e&&t===443)}function S7(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function _7(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var $w=D((Hb,Bw)=>{"use strict";var C7=Hb&&Hb.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Vb=C7(Lw());function Kb(t){return new Vb.default(t)}(function(t){t.HttpsProxyAgent=Vb.default,t.prototype=Vb.default.prototype})(Kb||(Kb={}));Bw.exports=Kb});var Yb=D(Wb=>{var{_nullishCoalesce:zb}=ht();Object.defineProperty(Wb,"__esModule",{value:!0});var Uw=ot(),v7=require("http"),T7=require("https"),w7=$w(),A7=require("stream"),jw=require("url"),P7=require("zlib"),I7=1024*32;function N7(t){return new A7.Readable({read(){this.push(t),this.push(null)}})}function F7(t){let e;try{e=new jw.URL(t.url)}catch{return console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used."),Uw.createTransport(t,()=>Promise.resolve({}))}let r=e.protocol==="https:",n=O7(e,t.proxy||(r?process.env.https_proxy:void 0)||process.env.http_proxy),i=r?T7:v7,s=t.keepAlive===void 0?!1:t.keepAlive,o=n?new w7.HttpsProxyAgent(n):new i.Agent({keepAlive:s,maxSockets:30,timeout:2e3}),a=k7(t,zb(t.httpModule,()=>i),o);return Uw.createTransport(t,a)}function O7(t,e){let{no_proxy:r}=process.env;if(!(r&&r.split(",").some(i=>t.host.endsWith(i)||t.hostname.endsWith(i))))return e}function k7(t,e,r){let{hostname:n,pathname:i,port:s,protocol:o,search:a}=new jw.URL(t.url);return function(c){return new Promise((l,p)=>{let d=N7(c.body),f={...t.headers};c.body.length>I7&&(f["content-encoding"]="gzip",d=d.pipe(P7.createGzip()));let h=e.request({method:"POST",agent:r,headers:f,hostname:n,path:`${i}${a}`,port:s,protocol:o,ca:t.caCerts},m=>{m.on("data",()=>{}),m.on("end",()=>{}),m.setEncoding("utf8");let g=zb(m.headers["retry-after"],()=>null),y=zb(m.headers["x-sentry-rate-limits"],()=>null);l({statusCode:m.statusCode,headers:{"retry-after":g,"x-sentry-rate-limits":Array.isArray(y)?y[0]:y}})});h.on("error",p),d.pipe(h)})}}Wb.makeNodeTransport=F7});var va=D(Jb=>{Object.defineProperty(Jb,"__esModule",{value:!0});var R7=z(),M7=R7.parseSemver(process.versions.node);Jb.NODE_VERSION=M7});var Vw=D(Xb=>{var{_optionalChain:L7}=ht();Object.defineProperty(Xb,"__esModule",{value:!0});var mo=ot(),qw=require("domain");function Gw(){return qw.active}function B7(){let t=Gw();if(t)return mo.ensureHubOnCarrier(t),mo.getHubFromCarrier(t)}function $7(t){let e={};return mo.ensureHubOnCarrier(e,t),mo.getHubFromCarrier(e)}function U7(t,e){let r=Gw();if(r&&L7([e,"optionalAccess",o=>o.reuseExisting]))return t();let n=qw.create(),i=r?mo.getHubFromCarrier(r):void 0,s=$7(i);return mo.setHubOnCarrier(n,s),n.bind(()=>t())()}function j7(){mo.setAsyncContextStrategy({getCurrentHub:B7,runWithAsyncContext:U7})}Xb.setDomainAsyncContextStrategy=j7});var Kw=D(Zb=>{var{_optionalChain:q7}=ht();Object.defineProperty(Zb,"__esModule",{value:!0});var Qb=ot(),G7=require("async_hooks"),Ud;function V7(){Ud||(Ud=new G7.AsyncLocalStorage);function t(){return Ud.getStore()}function e(n){let i={};return Qb.ensureHubOnCarrier(i,n),Qb.getHubFromCarrier(i)}function r(n,i){let s=t();if(s&&q7([i,"optionalAccess",a=>a.reuseExisting]))return n();let o=e(s);return Ud.run(o,()=>n())}Qb.setAsyncContextStrategy({getCurrentHub:t,runWithAsyncContext:r})}Zb.setHooksAsyncContextStrategy=V7});var zw=D(eE=>{Object.defineProperty(eE,"__esModule",{value:!0});var Hw=va(),K7=Vw(),H7=Kw();function z7(){Hw.NODE_VERSION.major&&Hw.NODE_VERSION.major>=14?H7.setHooksAsyncContextStrategy():K7.setDomainAsyncContextStrategy()}eE.setNodeAsyncContextStrategy=z7});var rE=D(tE=>{Object.defineProperty(tE,"__esModule",{value:!0});var W7=ot(),Ww=z(),Y7=require("util"),jd=class t{constructor(){t.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=t.id}setupOnce(){Ww.addInstrumentationHandler("console",({args:e,level:r})=>{let n=W7.getCurrentHub();n.getIntegration(t)&&n.addBreadcrumb({category:"console",level:Ww.severityLevelFromString(r),message:Y7.format.apply(void 0,e)},{input:[...e],level:r})})}};jd.__initStatic();tE.Console=jd});var kc=D(qd=>{(function(t,e){let r=typeof qd=="object"?qd:typeof t=="object"?t:{};e(r),typeof define=="function"&&define.amd&&define("lru",r)})(qd,function(t){let e=Symbol("newer"),r=Symbol("older");function n(u,c){typeof u!="number"&&(c=u,u=0),this.size=0,this.limit=u,this.oldest=this.newest=void 0,this._keymap=new Map,c&&(this.assign(c),u<1&&(this.limit=this.size))}t.LRUMap=n;function i(u,c){this.key=u,this.value=c,this[e]=void 0,this[r]=void 0}n.prototype._markEntryAsUsed=function(u){u!==this.newest&&(u[e]&&(u===this.oldest&&(this.oldest=u[e]),u[e][r]=u[r]),u[r]&&(u[r][e]=u[e]),u[e]=void 0,u[r]=this.newest,this.newest&&(this.newest[e]=u),this.newest=u)},n.prototype.assign=function(u){let c,l=this.limit||Number.MAX_VALUE;this._keymap.clear();let p=u[Symbol.iterator]();for(let d=p.next();!d.done;d=p.next()){let f=new i(d.value[0],d.value[1]);if(this._keymap.set(f.key,f),c?(c[e]=f,f[r]=c):this.oldest=f,c=f,l--==0)throw new Error("overflow")}this.newest=c,this.size=this._keymap.size},n.prototype.get=function(u){var c=this._keymap.get(u);if(c)return this._markEntryAsUsed(c),c.value},n.prototype.set=function(u,c){var l=this._keymap.get(u);return l?(l.value=c,this._markEntryAsUsed(l),this):(this._keymap.set(u,l=new i(u,c)),this.newest?(this.newest[e]=l,l[r]=this.newest):this.oldest=l,this.newest=l,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var u=this.oldest;if(u)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),u[e]=u[r]=void 0,this._keymap.delete(u.key),--this.size,[u.key,u.value]},n.prototype.find=function(u){let c=this._keymap.get(u);return c?c.value:void 0},n.prototype.has=function(u){return this._keymap.has(u)},n.prototype.delete=function(u){var c=this._keymap.get(u);if(c)return this._keymap.delete(c.key),c[e]&&c[r]?(c[r][e]=c[e],c[e][r]=c[r]):c[e]?(c[e][r]=void 0,this.oldest=c[e]):c[r]?(c[r][e]=void 0,this.newest=c[r]):this.oldest=this.newest=void 0,this.size--,c.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(u){this.entry=u}s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:[u.key,u.value]}):{done:!0,value:void 0}};function o(u){this.entry=u}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.key}):{done:!0,value:void 0}};function a(u){this.entry=u}a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new o(this.oldest)},n.prototype.values=function(){return new a(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(u,c){typeof c!="object"&&(c=this);let l=this.oldest;for(;l;)u.call(c,l.value,l.key,this),l=l[e]},n.prototype.toJSON=function(){for(var u=new Array(this.size),c=0,l=this.oldest;l;)u[c++]={key:l.key,value:l.value},l=l[e];return u},n.prototype.toString=function(){for(var u="",c=this.oldest;c;)u+=String(c.key)+":"+c.value,c=c[e],c&&(u+=" < ");return u}})});var iE=D(Ss=>{var{_optionalChain:fn}=ht();Object.defineProperty(Ss,"__esModule",{value:!0});var J7=ot(),Yw=require("url"),Jw=va();function X7(t){let e=fn([J7.getCurrentHub,"call",r=>r(),"access",r=>r.getClient,"call",r=>r(),"optionalAccess",r=>r.getDsn,"call",r=>r()]);return e?t.includes(e.host):!1}function Q7(t){let e=t.protocol||"",r=t.hostname||t.host||"",n=!t.port||t.port===80||t.port===443?"":`:${t.port}`,i=t.path?t.path:"/";return`${e}//${r}${n}${i}`}function Xw(t){let e=t.protocol||"",r=t.hostname||t.host||"",n=!t.port||t.port===80||t.port===443?"":`:${t.port}`,i=t.pathname||"/",s=t.auth?Z7(t.auth):"";return`${e}//${s}${r}${n}${i}`}function Z7(t){let[e,r]=t.split(":");return`${e?"[Filtered]":""}:${r?"[Filtered]":""}@`}function eG(t,e,r){if(!t)return t;let[n,i]=t.split(" ");return e.host&&!e.protocol&&(e.protocol=fn([r,"optionalAccess",s=>s.agent,"optionalAccess",s=>s.protocol]),i=Xw(e)),fn([i,"optionalAccess",s=>s.startsWith,"call",s=>s("///")])&&(i=i.slice(2)),`${n} ${i}`}function nE(t){let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}function tG(t,e){let r,n;return typeof e[e.length-1]=="function"&&(r=e.pop()),typeof e[0]=="string"?n=nE(new Yw.URL(e[0])):e[0]instanceof Yw.URL?n=nE(e[0]):n=e[0],e.length===2&&(n={...n,...e[1]}),n.protocol===void 0&&(Jw.NODE_VERSION.major&&Jw.NODE_VERSION.major>8?n.protocol=fn([fn([t,"optionalAccess",i=>i.globalAgent]),"optionalAccess",i=>i.protocol])||fn([n.agent,"optionalAccess",i=>i.protocol])||fn([n._defaultAgent,"optionalAccess",i=>i.protocol]):n.protocol=fn([n.agent,"optionalAccess",i=>i.protocol])||fn([n._defaultAgent,"optionalAccess",i=>i.protocol])||fn([fn([t,"optionalAccess",i=>i.globalAgent]),"optionalAccess",i=>i.protocol])),r?[n,r]:[n]}Ss.cleanSpanDescription=eG;Ss.extractRawUrl=Q7;Ss.extractUrl=Xw;Ss.isSentryRequest=X7;Ss.normalizeRequestArgs=tG;Ss.urlToOptions=nE});var oE=D(sE=>{var{_optionalChain:go}=ht();Object.defineProperty(sE,"__esModule",{value:!0});var Gd=ot(),$n=z(),Qw=kc(),Zw=va(),Ta=iE(),Rc=class t{static __initStatic(){this.id="Http"}__init(){this.name=t.id}constructor(e={}){t.prototype.__init.call(this),this._breadcrumbs=typeof e.breadcrumbs>"u"?!0:e.breadcrumbs,this._tracing=e.tracing?e.tracing===!0?{}:e.tracing:void 0}setupOnce(e,r){if(!this._breadcrumbs&&!this._tracing)return;let n=go([r,"call",u=>u(),"access",u=>u.getClient,"call",u=>u(),"optionalAccess",u=>u.getOptions,"call",u=>u()]);if(n&&n.instrumenter!=="sentry"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$n.logger.log("HTTP Integration is skipped because of instrumenter configuration.");return}let i=go([this,"access",u=>u._tracing,"optionalAccess",u=>u.shouldCreateSpanForRequest])||go([n,"optionalAccess",u=>u.shouldCreateSpanForRequest]),s=go([n,"optionalAccess",u=>u.tracePropagationTargets])||go([this,"access",u=>u._tracing,"optionalAccess",u=>u.tracePropagationTargets]),o=require("http"),a=eA(o,this._breadcrumbs,i,s);if($n.fill(o,"get",a),$n.fill(o,"request",a),Zw.NODE_VERSION.major&&Zw.NODE_VERSION.major>8){let u=require("https"),c=eA(u,this._breadcrumbs,i,s);$n.fill(u,"get",c),$n.fill(u,"request",c)}}};Rc.__initStatic();function eA(t,e,r,n){let i=new Qw.LRUMap(100),s=new Qw.LRUMap(100),o=c=>{if(r===void 0)return!0;let l=i.get(c);if(l!==void 0)return l;let p=r(c);return i.set(c,p),p},a=c=>{if(n===void 0)return!0;let l=s.get(c);if(l!==void 0)return l;let p=$n.stringMatchesSomePattern(c,n);return s.set(c,p),p};function u(c,l,p,d){Gd.getCurrentHub().getIntegration(Rc)&&Gd.getCurrentHub().addBreadcrumb({category:"http",data:{status_code:d&&d.statusCode,...l},type:"http"},{event:c,request:p,response:d})}return function(l){return function(...d){let f=Ta.normalizeRequestArgs(t,d),h=f[0],m=Ta.extractRawUrl(h),g=Ta.extractUrl(h);if(Ta.isSentryRequest(g))return l.apply(t,f);let y=Gd.getCurrentHub(),b=y.getScope(),_=b.getSpan(),E=rG(g,h),x=o(m)?go([_,"optionalAccess",S=>S.startChild,"call",S=>S({op:"http.client",origin:"auto.http.node.http",description:`${E["http.method"]} ${E.url}`,data:E})]):void 0;if(a(m))if(x){let S=x.toTraceparent(),T=go([x,"optionalAccess",w=>w.transaction,"optionalAccess",w=>w.getDynamicSamplingContext,"call",w=>w()]);tA(h,g,S,T)}else{let S=y.getClient(),{traceId:T,sampled:w,dsc:k}=b.getPropagationContext(),R=$n.generateSentryTraceHeader(T,void 0,w),U=k||(S?Gd.getDynamicSamplingContextFromClient(T,S,b):void 0);tA(h,g,R,U)}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$n.logger.log(`[Tracing] Not adding sentry-trace header to outgoing request (${g}) due to mismatching tracePropagationTargets option.`);return l.apply(t,f).once("response",function(S){let T=this;e&&u("response",E,T,S),x&&(S.statusCode&&x.setHttpStatus(S.statusCode),x.description=Ta.cleanSpanDescription(x.description,h,T),x.finish())}).once("error",function(){let S=this;e&&u("error",E,S),x&&(x.setHttpStatus(500),x.description=Ta.cleanSpanDescription(x.description,h,S),x.finish())})}}}function tA(t,e,r,n){if((t.headers||{})["sentry-trace"])return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$n.logger.log(`[Tracing] Adding sentry-trace header ${r} to outgoing request to "${e}": `);let s=$n.dynamicSamplingContextToSentryBaggageHeader(n),o=s&&s.length>0?nG(t,s):void 0;t.headers={...t.headers,"sentry-trace":r,...o&&{baggage:o}}}function rG(t,e){let r=e.method||"GET",n={url:t,"http.method":r};return e.hash&&(n["http.fragment"]=e.hash.substring(1)),e.search&&(n["http.query"]=e.search.substring(1)),n}function nG(t,e){if(!t.headers||!t.headers.baggage)return e;if(e){if(Array.isArray(t.headers.baggage))return[...t.headers.baggage,e]}else return t.headers.baggage;return[t.headers.baggage,e]}sE.Http=Rc});var cE=D(uE=>{Object.defineProperty(uE,"__esModule",{value:!0});var iG=ot(),aE=z(),sG=2e3;function oG(t){console.error(t);let e=iG.getCurrentHub().getClient();e===void 0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&aE.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));let r=e.getOptions(),n=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||sG;e.close(n).then(i=>{i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&aE.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},i=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&aE.logger.error(i)})}uE.logAndExitProcess=oG});var pE=D(lE=>{Object.defineProperty(lE,"__esModule",{value:!0});var rA=ot(),aG=z(),nA=cE(),Vd=class t{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=t.id}__init2(){this.handler=this._makeErrorHandler()}constructor(e={}){t.prototype.__init.call(this),t.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...e}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let r=!1,n=!1,i=!1,s;return o=>{let a=nA.logAndExitProcess,u=rA.getCurrentHub().getClient();this._options.onFatalError?a=this._options.onFatalError:u&&u.getOptions().onFatalError&&(a=u.getOptions().onFatalError);let l=global.process.listeners("uncaughtException").reduce((d,f)=>f.name==="domainUncaughtExceptionClear"||f.tag&&f.tag==="sentry_tracingErrorCallback"||f===this.handler?d:d+1,0)===0,p=this._options.exitEvenIfOtherHandlersAreRegistered||l;if(r)p&&(i?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&aG.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),nA.logAndExitProcess(o)):n||(n=!0,setTimeout(()=>{i||(i=!0,a(s,o))},2e3)));else{let d=rA.getCurrentHub();s=o,r=!0,d.getIntegration(t)?d.withScope(f=>{f.setLevel("fatal"),d.captureException(o,{originalException:o,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!i&&p&&(i=!0,a(o))}):!i&&p&&(i=!0,a(o))}}}};Vd.__initStatic();lE.OnUncaughtException=Vd});var fE=D(dE=>{Object.defineProperty(dE,"__esModule",{value:!0});var uG=ot(),iA=z(),cG=cE(),Kd=class t{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=t.id}constructor(e={mode:"warn"}){this._options=e,t.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(e,r){let n=uG.getCurrentHub();n.getIntegration(t)&&n.withScope(i=>{i.setExtra("unhandledPromiseRejection",!0),n.captureException(e,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)}_handleRejection(e){let r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?iA.consoleSandbox(()=>{console.warn(r),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(iA.consoleSandbox(()=>{console.warn(r)}),cG.logAndExitProcess(e))}};Kd.__initStatic();dE.OnUnhandledRejection=Kd});var mE=D(hE=>{Object.defineProperty(hE,"__esModule",{value:!0});var lG=z(),pG=Ob(),dG="cause",fG=5,Hd=class t{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=t.id}constructor(e={}){t.prototype.__init.call(this),this._key=e.key||dG,this._limit=e.limit||fG}setupOnce(){}preprocessEvent(e,r,n){let i=n.getOptions();lG.applyAggregateErrorsToEvent(pG.exceptionFromError,i.stackParser,i.maxValueLength,this._key,this._limit,e,r)}};Hd.__initStatic();hE.LinkedErrors=Hd});var bE=D(yE=>{Object.defineProperty(yE,"__esModule",{value:!0});var sA=require("fs"),oA=require("path"),gE;function hG(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function mG(){let t=require.main&&require.main.paths||[],e=hG(),r={},n={};return e.forEach(i=>{let s=i,o=()=>{let a=s;if(s=oA.dirname(a),!s||a===s||n[a])return;if(t.indexOf(s)<0)return o();let u=oA.join(a,"package.json");if(n[a]=!0,!sA.existsSync(u))return o();try{let c=JSON.parse(sA.readFileSync(u,"utf8"));r[c.name]=c.version}catch{}};o()}),r}var zd=class t{constructor(){t.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=t.id}setupOnce(e,r){e(n=>r().getIntegration(t)?{...n,modules:{...n.modules,...this._getModules()}}:n)}_getModules(){return gE||(gE=mG()),gE}};zd.__initStatic();yE.Modules=zd});var xE=D(DE=>{var{_optionalChain:EE}=ht();Object.defineProperty(DE,"__esModule",{value:!0});var gG=z(),yG=require("fs"),bG=kc(),Wd=new bG.LRUMap(100),EG=7;function DG(t){return new Promise((e,r)=>{yG.readFile(t,"utf8",(n,i)=>{n?r(n):e(i)})})}var Yd=class t{static __initStatic(){this.id="ContextLines"}__init(){this.name=t.id}constructor(e={}){this._options=e,t.prototype.__init.call(this)}get _contextLines(){return this._options.frameContextLines!==void 0?this._options.frameContextLines:EG}setupOnce(e,r){e(n=>r().getIntegration(t)?this.addSourceContext(n):n)}async addSourceContext(e){let r={},n=[];if(this._contextLines>0&&EE([e,"access",i=>i.exception,"optionalAccess",i=>i.values])){for(let i of e.exception.values)if(EE([i,"access",s=>s.stacktrace,"optionalAccess",s=>s.frames]))for(let s=i.stacktrace.frames.length-1;s>=0;s--){let o=i.stacktrace.frames[s];o.filename&&!r[o.filename]&&!Wd.get(o.filename)&&(n.push(xG(o.filename)),r[o.filename]=1)}}if(n.length>0&&await Promise.all(n),this._contextLines>0&&EE([e,"access",i=>i.exception,"optionalAccess",i=>i.values]))for(let i of e.exception.values)i.stacktrace&&i.stacktrace.frames&&await this.addSourceContextToFrames(i.stacktrace.frames);return e}addSourceContextToFrames(e){for(let r of e)if(r.filename&&r.context_line===void 0){let n=Wd.get(r.filename);if(n)try{gG.addContextToFrame(n,r,this._contextLines)}catch{}}}};Yd.__initStatic();async function xG(t){let e=Wd.get(t);if(e===null)return null;if(e!==void 0)return e;let r=null;try{r=(await DG(t)).split(`
`)}catch{}return Wd.set(t,r),r}DE.ContextLines=Yd});var SE=D(wa=>{var{_optionalChain:yo}=ht();Object.defineProperty(wa,"__esModule",{value:!0});var SG=require("child_process"),uA=require("fs"),Xr=require("os"),_G=require("path"),cA=require("util"),lA=cA.promisify(uA.readFile),pA=cA.promisify(uA.readdir),Jd=class t{static __initStatic(){this.id="Context"}__init(){this.name=t.id}constructor(e={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0}){this._options=e,t.prototype.__init.call(this)}setupOnce(e){e(r=>this.addContext(r))}async addContext(e){this._cachedContext===void 0&&(this._cachedContext=this._getContexts());let r=this._updateContext(await this._cachedContext);return e.contexts={...e.contexts,app:{...r.app,...yo([e,"access",n=>n.contexts,"optionalAccess",n=>n.app])},os:{...r.os,...yo([e,"access",n=>n.contexts,"optionalAccess",n=>n.os])},device:{...r.device,...yo([e,"access",n=>n.contexts,"optionalAccess",n=>n.device])},culture:{...r.culture,...yo([e,"access",n=>n.contexts,"optionalAccess",n=>n.culture])},cloud_resource:{...r.cloud_resource,...yo([e,"access",n=>n.contexts,"optionalAccess",n=>n.cloud_resource])}},e}_updateContext(e){return yo([e,"optionalAccess",r=>r.app,"optionalAccess",r=>r.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),yo([e,"optionalAccess",r=>r.device,"optionalAccess",r=>r.free_memory])&&(e.device.free_memory=Xr.freemem()),e}async _getContexts(){let e={};if(this._options.os&&(e.os=await CG()),this._options.app&&(e.app=TG()),this._options.device&&(e.device=dA(this._options.device)),this._options.culture){let r=vG();r&&(e.culture=r)}return this._options.cloudResource&&(e.cloud_resource=FG()),e}};Jd.__initStatic();async function CG(){let t=Xr.platform();switch(t){case"darwin":return IG();case"linux":return NG();default:return{name:wG[t]||t,version:Xr.release()}}}function vG(){try{if(typeof process.versions.icu!="string")return;let t=new Date(9e8);if(new Intl.DateTimeFormat("es",{month:"long"}).format(t)==="enero"){let r=Intl.DateTimeFormat().resolvedOptions();return{locale:r.locale,timezone:r.timeZone}}}catch{}}function TG(){let t=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1e3).toISOString(),app_memory:t}}function dA(t){let e={},r;try{r=Xr.uptime&&Xr.uptime()}catch{}if(typeof r=="number"&&(e.boot_time=new Date(Date.now()-r*1e3).toISOString()),e.arch=Xr.arch(),(t===!0||t.memory)&&(e.memory_size=Xr.totalmem(),e.free_memory=Xr.freemem()),t===!0||t.cpu){let n=Xr.cpus();if(n&&n.length){let i=n[0];e.processor_count=n.length,e.cpu_description=i.model,e.processor_frequency=i.speed}}return e}var wG={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},AG=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],PG={alpine:t=>t,arch:t=>Un(/distrib_release=(.*)/,t),centos:t=>Un(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>Un(/release (..)/,t),mint:t=>Un(/distrib_release=(.*)/,t),red:t=>Un(/release ([^ ]+)/,t),suse:t=>Un(/VERSION = (.*)\n/,t),ubuntu:t=>Un(/distrib_release=(.*)/,t)};function Un(t,e){let r=t.exec(e);return r?r[1]:void 0}async function IG(){let t={kernel_version:Xr.release(),name:"Mac OS X",version:`10.${Number(Xr.release().split(".")[0])-4}`};try{let e=await new Promise((r,n)=>{SG.execFile("/usr/bin/sw_vers",(i,s)=>{if(i){n(i);return}r(s)})});t.name=Un(/^ProductName:\s+(.*)$/m,e),t.version=Un(/^ProductVersion:\s+(.*)$/m,e),t.build=Un(/^BuildVersion:\s+(.*)$/m,e)}catch{}return t}function aA(t){return t.split(" ")[0].toLowerCase()}async function NG(){let t={kernel_version:Xr.release(),name:"Linux"};try{let e=await pA("/etc"),r=AG.find(a=>e.includes(a.name));if(!r)return t;let n=_G.join("/etc",r.name),i=(await lA(n,{encoding:"utf-8"})).toLowerCase(),{distros:s}=r;t.name=s.find(a=>i.indexOf(aA(a))>=0)||s[0];let o=aA(t.name);t.version=PG[o](i)}catch{}return t}function FG(){return process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0}wa.Context=Jd;wa.getDeviceContext=dA;wa.readDirAsync=pA;wa.readFileAsync=lA});var fA=D(_E=>{"use strict";_E.parse=RG;_E.serialize=MG;var OG=decodeURIComponent,kG=encodeURIComponent,Xd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function RG(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(";"),s=n.decode||OG,o=0;o<i.length;o++){var a=i[o],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(r[c]==null){var l=a.substring(u+1,a.length).trim();l[0]==='"'&&(l=l.slice(1,-1)),r[c]=LG(l,s)}}}return r}function MG(t,e,r){var n=r||{},i=n.encode||kG;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Xd.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!Xd.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!Xd.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!Xd.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function LG(t,e){try{return e(t)}catch{return t}}});var Mc=D(Aa=>{var{_optionalChain:BG}=ht();Object.defineProperty(Aa,"__esModule",{value:!0});var Qd=z(),$G=fA(),UG=require("url"),jG={ip:!1,request:!0,transaction:!0,user:!0},qG=["cookies","data","headers","method","query_string","url"],hA=["id","username","email"];function CE(t,e={}){let r=t.method&&t.method.toUpperCase(),n="",i="url";e.customRoute||t.route?(n=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,i="route"):(t.originalUrl||t.url)&&(n=Qd.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let s="";return e.method&&r&&(s+=r),e.method&&e.path&&(s+=" "),e.path&&n&&(s+=n),[s,i]}function GG(t,e){switch(e){case"path":return CE(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:return CE(t,{path:!0,method:!0})[0]}}function VG(t,e){let r={};return(Array.isArray(e)?e:hA).forEach(i=>{t&&i in t&&(r[i]=t[i])}),r}function vE(t,e){let{include:r=qG}=e||{},n={},i=t.headers||{},s=t.method,o=t.hostname||t.host||i.host||"<no host>",a=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",u=t.originalUrl||t.url||"",c=u.startsWith(a)?u:`${a}://${o}${u}`;return r.forEach(l=>{switch(l){case"headers":{n.headers=i,r.includes("cookies")||delete n.headers.cookie;break}case"method":{n.method=s;break}case"url":{n.url=c;break}case"cookies":{n.cookies=t.cookies||i.cookie&&$G.parse(i.cookie)||{};break}case"query_string":{n.query_string=HG(t);break}case"data":{if(s==="GET"||s==="HEAD")break;t.body!==void 0&&(n.data=Qd.isString(t.body)?t.body:JSON.stringify(Qd.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,l)&&(n[l]=t[l])}}),n}function KG(t,e,r){let n={...jG,...BG([r,"optionalAccess",i=>i.include])};if(n.request){let i=Array.isArray(n.request)?vE(e,{include:n.request}):vE(e);t.request={...t.request,...i}}if(n.user){let i=e.user&&Qd.isPlainObject(e.user)?VG(e.user,n.user):{};Object.keys(i).length&&(t.user={...t.user,...i})}if(n.ip){let i=e.ip||e.socket&&e.socket.remoteAddress;i&&(t.user={...t.user,ip_address:i})}return n.transaction&&!t.transaction&&(t.transaction=GG(e,n.transaction)),t}function HG(t){let e=t.originalUrl||t.url||"";if(e)return e.startsWith("/")&&(e=`http://dogs.are.great${e}`),t.query||typeof URL!==void 0&&new URL(e).search.replace("?","")||UG.parse(e).query||void 0}Aa.DEFAULT_USER_INCLUDES=hA;Aa.addRequestDataToEvent=KG;Aa.extractPathForTransaction=CE;Aa.extractRequestData=vE});var AE=D(wE=>{Object.defineProperty(wE,"__esModule",{value:!0});var zG=z(),WG=Mc(),TE={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},Zd=class t{static __initStatic(){this.id="RequestData"}__init(){this.name=t.id}constructor(e={}){t.prototype.__init.call(this),this._addRequestData=WG.addRequestDataToEvent,this._options={...TE,...e,include:{method:!0,...TE.include,...e.include,user:e.include&&typeof e.include.user=="boolean"?e.include.user:{...TE.include.user,...(e.include||{}).user}}}}setupOnce(e,r){let{transactionNamingScheme:n}=this._options;e(i=>{let s=r(),o=s.getIntegration(t),{sdkProcessingMetadata:a={}}=i,u=a.request;if(!o||!u)return i;let c=a.requestDataOptionsFromExpressHandler||a.requestDataOptionsFromGCPWrapper||YG(this._options),l=this._addRequestData(i,u,c);if(i.type==="transaction"||n==="handler")return l;let d=u._sentryTransaction;if(d){let f=JG(s)==="sentry.javascript.nextjs"?d.name.startsWith("/api"):n!=="path",[h]=zG.extractPathForTransaction(u,{path:!0,method:f,customRoute:d.name});l.transaction=h}return l})}};Zd.__initStatic();function YG(t){let{transactionNamingScheme:e,include:{ip:r,user:n,...i}}=t,s=[];for(let[a,u]of Object.entries(i))u&&s.push(a);let o;if(n===void 0)o=!0;else if(typeof n=="boolean")o=n;else{let a=[];for(let[u,c]of Object.entries(n))c&&a.push(u);o=a}return{include:{ip:r,user:o,request:s.length!==0?s:void 0,transaction:e}}}function JG(t){try{return t.getClient().getOptions()._metadata.sdk.name}catch{return}}wE.RequestData=Zd});var NE=D(tf=>{var{_optionalChain:bt}=ht();Object.defineProperty(tf,"__esModule",{value:!0});var XG=z(),QG=kc(),ZG=va();function IE(t){let e=[],r=!1;function n(o){e=[],!r&&(r=!0,t(o))}e.push(n);function i(o){e.push(o)}function s(o){let a=e.pop()||n;try{a(o)}catch{n(o)}}return{add:i,next:s}}var PE=class{constructor(){let{Session:e}=require("inspector");this._session=new e}configureAndConnect(e,r){this._session.connect(),this._session.on("Debugger.paused",n=>{e(n,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:r?"all":"uncaught"})}getLocalVariables(e,r){this._getProperties(e,n=>{let{add:i,next:s}=IE(r);for(let o of n)if(bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.objectId])&&bt([o,"optionalAccess",a=>a.value,"access",a=>a.className])==="Array"){let a=o.value.objectId;i(u=>this._unrollArray(a,o.name,u,s))}else if(bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.objectId])&&bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.className])==="Object"){let a=o.value.objectId;i(u=>this._unrollObject(a,o.name,u,s))}else(bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.value])||bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.description]))&&i(a=>this._unrollOther(o,a,s));s({})})}_getProperties(e,r){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},(n,i)=>{r(n?[]:i.result)})}_unrollArray(e,r,n,i){this._getProperties(e,s=>{n[r]=s.filter(o=>o.name!=="length"&&!isNaN(parseInt(o.name,10))).sort((o,a)=>parseInt(o.name,10)-parseInt(a.name,10)).map(o=>bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.value])),i(n)})}_unrollObject(e,r,n,i){this._getProperties(e,s=>{n[r]=s.map(o=>[o.name,bt([o,"optionalAccess",a=>a.value,"optionalAccess",a=>a.value])]).reduce((o,[a,u])=>(o[a]=u,o),{}),i(n)})}_unrollOther(e,r,n){bt([e,"optionalAccess",i=>i.value,"optionalAccess",i=>i.value])?r[e.name]=e.value.value:bt([e,"optionalAccess",i=>i.value,"optionalAccess",i=>i.description])&&bt([e,"optionalAccess",i=>i.value,"optionalAccess",i=>i.type])!=="function"&&(r[e.name]=`<${e.value.description}>`),n(r)}};function eV(){try{return new PE}catch{return}}function mA(t){return t!==void 0&&["","?","<anonymous>"].includes(t)}function tV(t,e){return t===e||mA(t)&&mA(e)}function gA(t){if(t!==void 0)return t.slice(-10).reduce((e,r)=>`${e},${r.function},${r.lineno},${r.colno}`,"")}function rV(t,e){if(e!==void 0)return gA(t(e,1))}var ef=class t{static __initStatic(){this.id="LocalVariables"}__init(){this.name=t.id}__init2(){this._cachedFrames=new QG.LRUMap(20)}constructor(e={},r=eV()){this._options=e,this._session=r,t.prototype.__init.call(this),t.prototype.__init2.call(this)}setupOnce(e,r){this._setup(e,bt([r,"call",n=>n(),"access",n=>n.getClient,"call",n=>n(),"optionalAccess",n=>n.getOptions,"call",n=>n()]))}_setup(e,r){if(this._session&&bt([r,"optionalAccess",n=>n.includeLocalVariables])){if((ZG.NODE_VERSION.major||0)<18){XG.logger.log("The `LocalVariables` integration is only supported on Node >= v18.");return}this._session.configureAndConnect((i,s)=>this._handlePaused(r.stackParser,i,s),!!this._options.captureAllExceptions),e(async i=>this._addLocalVariables(i))}}_handlePaused(e,{params:{reason:r,data:n,callFrames:i}},s){if(r!=="exception"&&r!=="promiseRejection"){s();return}let o=rV(e,bt([n,"optionalAccess",c=>c.description]));if(o==null){s();return}let{add:a,next:u}=IE(c=>{this._cachedFrames.set(o,c),s()});for(let c=0;c<Math.min(i.length,5);c++){let{scopeChain:l,functionName:p,this:d}=i[c],f=l.find(m=>m.type==="local"),h=d.className==="global"||!d.className?p:`${d.className}.${p}`;if(bt([f,"optionalAccess",m=>m.object,"access",m=>m.objectId])===void 0)a(m=>{m[c]={function:h},u(m)});else{let m=f.object.objectId;a(g=>bt([this,"access",y=>y._session,"optionalAccess",y=>y.getLocalVariables,"call",y=>y(m,b=>{g[c]={function:h,vars:b},u(g)})]))}}u([])}_addLocalVariables(e){for(let r of bt([e,"optionalAccess",n=>n.exception,"optionalAccess",n=>n.values])||[])this._addLocalVariablesToException(r);return e}_addLocalVariablesToException(e){let r=gA(bt([e,"optionalAccess",s=>s.stacktrace,"optionalAccess",s=>s.frames]));if(r===void 0)return;let n=this._cachedFrames.delete(r);if(n===void 0)return;let i=bt([e,"access",s=>s.stacktrace,"optionalAccess",s=>s.frames,"optionalAccess",s=>s.length])||0;for(let s=0;s<i;s++){let o=i-s-1;if(!bt([e,"optionalAccess",a=>a.stacktrace,"optionalAccess",a=>a.frames,"optionalAccess",a=>a[o]])||!n[s])break;n[s].vars===void 0||e.stacktrace.frames[o].in_app===!1||!tV(e.stacktrace.frames[o].function,n[s].function)||(e.stacktrace.frames[o].vars=n[s].vars)}}};ef.__initStatic();tf.LocalVariables=ef;tf.createCallbackList=IE});var OE=D((Ni,xA)=>{var{_optionalChain:DA}=ht();Object.defineProperty(Ni,"__esModule",{value:!0});var rf=ot(),bo=z(),yA=kc(),bA=va(),FE=iE();Ni.ChannelName=void 0;(function(t){let e="undici:request:create";t.RequestCreate=e;let r="undici:request:headers";t.RequestEnd=r;let n="undici:request:error";t.RequestError=n})(Ni.ChannelName||(Ni.ChannelName={}));var nf=class t{static __initStatic(){this.id="Undici"}__init(){this.name=t.id}__init2(){this._createSpanUrlMap=new yA.LRUMap(100)}__init3(){this._headersUrlMap=new yA.LRUMap(100)}constructor(e={}){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this._options={breadcrumbs:e.breadcrumbs===void 0?!0:e.breadcrumbs,shouldCreateSpanForRequest:e.shouldCreateSpanForRequest}}setupOnce(e){if(bA.NODE_VERSION.major&&bA.NODE_VERSION.major<16)return;let r;try{r=bo.dynamicRequire(xA,"diagnostics_channel")}catch{}!r||!r.subscribe||(r.subscribe(Ni.ChannelName.RequestCreate,this._onRequestCreate),r.subscribe(Ni.ChannelName.RequestEnd,this._onRequestEnd),r.subscribe(Ni.ChannelName.RequestError,this._onRequestError))}_shouldCreateSpan(e){if(this._options.shouldCreateSpanForRequest===void 0)return!0;let r=this._createSpanUrlMap.get(e);if(r!==void 0)return r;let n=this._options.shouldCreateSpanForRequest(e);return this._createSpanUrlMap.set(e,n),n}__init4(){this._onRequestCreate=e=>{let r=rf.getCurrentHub();if(!r.getIntegration(t))return;let{request:n}=e,i=n.origin?n.origin.toString()+n.path:n.path;if(FE.isSentryRequest(i)||n.__sentry_span__!==void 0)return;let s=r.getClient();if(!s)return;let o=s.getOptions(),a=r.getScope(),u=a.getSpan(),c=this._shouldCreateSpan(i)?nV(u,n,i):void 0;if(c&&(n.__sentry_span__=c),(p=>{if(o.tracePropagationTargets===void 0)return!0;let d=this._headersUrlMap.get(p);if(d!==void 0)return d;let f=bo.stringMatchesSomePattern(p,o.tracePropagationTargets);return this._headersUrlMap.set(p,f),f})(i))if(c){let p=DA([c,"optionalAccess",f=>f.transaction,"optionalAccess",f=>f.getDynamicSamplingContext,"call",f=>f()]),d=bo.dynamicSamplingContextToSentryBaggageHeader(p);EA(n,c.toTraceparent(),d)}else{let{traceId:p,sampled:d,dsc:f}=a.getPropagationContext(),h=bo.generateSentryTraceHeader(p,void 0,d),m=f||rf.getDynamicSamplingContextFromClient(p,s,a),g=bo.dynamicSamplingContextToSentryBaggageHeader(m);EA(n,h,g)}}}__init5(){this._onRequestEnd=e=>{let r=rf.getCurrentHub();if(!r.getIntegration(t))return;let{request:n,response:i}=e,s=n.origin?n.origin.toString()+n.path:n.path;if(FE.isSentryRequest(s))return;let o=n.__sentry_span__;o&&(o.setHttpStatus(i.statusCode),o.finish()),this._options.breadcrumbs&&r.addBreadcrumb({category:"http",data:{method:n.method,status_code:i.statusCode,url:s},type:"http"},{event:"response",request:n,response:i})}}__init6(){this._onRequestError=e=>{let r=rf.getCurrentHub();if(!r.getIntegration(t))return;let{request:n}=e,i=n.origin?n.origin.toString()+n.path:n.path;if(FE.isSentryRequest(i))return;let s=n.__sentry_span__;s&&(s.setStatus("internal_error"),s.finish()),this._options.breadcrumbs&&r.addBreadcrumb({category:"http",data:{method:n.method,url:i},level:"error",type:"http"},{event:"error",request:n})}}};nf.__initStatic();function EA(t,e,r){t.__sentry_has_headers__||(t.addHeader("sentry-trace",e),r&&t.addHeader("baggage",r),t.__sentry_has_headers__=!0)}function nV(t,e,r){let n=bo.parseUrl(r),i=e.method||"GET",s={"http.method":i};return n.search&&(s["http.query"]=n.search),n.hash&&(s["http.fragment"]=n.hash),DA([t,"optionalAccess",o=>o.startChild,"call",o=>o({op:"http.client",origin:"auto.http.node.undici",description:`${i} ${bo.getSanitizedUrlString(n)}`,data:s})])}Ni.Undici=nf});var RE=D(kE=>{Object.defineProperty(kE,"__esModule",{value:!0});var SA=require("path"),iV=SA.sep==="\\";function sV(t){return t.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function oV(t,e=iV){if(!t)return;let r=e?sV(t):t,{root:n,dir:i,base:s,ext:o}=SA.posix.parse(r),u=`${require&&require.main&&require.main.filename&&i||global.process.cwd()}/`,c=s;o===".js"&&(c=c.slice(0,c.length-3)),!n&&!i&&(i=".");let l=i.lastIndexOf("/node_modules/");if(l>-1)return`${i.slice(l+14).replace(/\//g,".")}:${c}`;if(l=`${i}/`.lastIndexOf(u,0),l===0){let p=i.slice(u.length).replace(/\//g,".");return p&&(p+=":"),p+=c,p}return c}kE.getModuleFromFilename=oV});var ME=D(xo=>{var{_optionalChain:aV}=ht();Object.defineProperty(xo,"__esModule",{value:!0});var Eo=ot(),Do=z(),uV=zw(),cV=Mb(),lV=rE(),pV=oE(),dV=pE(),fV=fE(),hV=mE(),mV=bE(),gV=xE(),yV=SE(),bV=AE(),EV=NE(),DV=OE(),xV=RE(),SV=Yb(),_A=[new Eo.Integrations.InboundFilters,new Eo.Integrations.FunctionToString,new lV.Console,new pV.Http,new DV.Undici,new dV.OnUncaughtException,new fV.OnUnhandledRejection,new gV.ContextLines,new EV.LocalVariables,new yV.Context,new mV.Modules,new bV.RequestData,new hV.LinkedErrors];function _V(t={}){let e=Eo.getMainCarrier();uV.setNodeAsyncContextStrategy();let r=aV([e,"access",s=>s.__SENTRY__,"optionalAccess",s=>s.integrations])||[];t.defaultIntegrations=t.defaultIntegrations===!1?[]:[...Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:_A,...r],t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN);let n=process.env.SENTRY_TRACES_SAMPLE_RATE;if(t.tracesSampleRate===void 0&&n){let s=parseFloat(n);isFinite(s)&&(t.tracesSampleRate=s)}if(t.release===void 0){let s=CA();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&t.dsn!==void 0&&(t.autoSessionTracking=!0),t.instrumenter===void 0&&(t.instrumenter="sentry");let i={...t,stackParser:Do.stackParserFromStackParserOptions(t.stackParser||vA),integrations:Eo.getIntegrationsToSetup(t),transport:t.transport||SV.makeNodeTransport};Eo.initAndBind(t.clientClass||cV.NodeClient,i),t.autoSessionTracking&&vV(),TV()}function CV(t){if(t===void 0)return!1;let e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}function CA(t){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:Do.GLOBAL_OBJ.SENTRY_RELEASE&&Do.GLOBAL_OBJ.SENTRY_RELEASE.id?Do.GLOBAL_OBJ.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}var vA=Do.createStackParser(Do.nodeStackLineParser(xV.getModuleFromFilename));function vV(){let t=Eo.getCurrentHub();t.startSession(),process.on("beforeExit",()=>{let e=t.getScope().getSession();e&&!["exited","crashed"].includes(e.status)&&t.endSession()})}function TV(){let t=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(t)){let e=process.env.SENTRY_TRACE,r=process.env.SENTRY_BAGGAGE,{propagationContext:n}=Do.tracingContextFromHeaders(e,r);Eo.getCurrentHub().getScope().setPropagationContext(n)}}xo.defaultIntegrations=_A;xo.defaultStackParser=vA;xo.getSentryRelease=CA;xo.init=_V;xo.isAutoSessionTrackingEnabled=CV});var TA=D(BE=>{Object.defineProperty(BE,"__esModule",{value:!0});var sf=require("fs"),LE=require("path");function wV(t){let e=LE.resolve(t);if(!sf.existsSync(e))throw new Error(`Cannot read contents of ${e}. Directory does not exist.`);if(!sf.statSync(e).isDirectory())throw new Error(`Cannot read contents of ${e}, because it is not a directory.`);let r=n=>sf.readdirSync(n).reduce((i,s)=>{let o=LE.join(n,s);return sf.statSync(o).isDirectory()?i.concat(r(o)):(i.push(o),i)},[]);return r(e).map(n=>LE.relative(e,n))}BE.deepReadDirSync=wV});var AA=D(of=>{Object.defineProperty(of,"__esModule",{value:!0});var wA=Mc();function AV(t,e){return wA.extractRequestData(t,{include:e})}function PV(t,e,r={}){return wA.addRequestDataToEvent(t,e,{include:r})}of.extractRequestData=AV;of.parseRequest=PV});var IA=D(Cs=>{var{_optionalChain:Pa}=ht();Object.defineProperty(Cs,"__esModule",{value:!0});var hn=ot(),_s=z(),IV=Mc(),af=ME(),PA=AA();function NV(){return function(e,r,n){let i=hn.getCurrentHub(),s=Pa([i,"access",h=>h.getClient,"call",h=>h(),"optionalAccess",h=>h.getOptions,"call",h=>h()]);if(!s||s.instrumenter!=="sentry"||Pa([e,"access",h=>h.method,"optionalAccess",h=>h.toUpperCase,"call",h=>h()])==="OPTIONS"||Pa([e,"access",h=>h.method,"optionalAccess",h=>h.toUpperCase,"call",h=>h()])==="HEAD")return n();let o=e.headers&&_s.isString(e.headers["sentry-trace"])?e.headers["sentry-trace"]:void 0,a=Pa([e,"access",h=>h.headers,"optionalAccess",h=>h.baggage]),{traceparentData:u,dynamicSamplingContext:c,propagationContext:l}=_s.tracingContextFromHeaders(o,a);if(i.getScope().setPropagationContext(l),!hn.hasTracingEnabled(s))return n();let[p,d]=_s.extractPathForTransaction(e,{path:!0,method:!0}),f=hn.startTransaction({name:p,op:"http.server",origin:"auto.http.node.tracingHandler",...u,metadata:{dynamicSamplingContext:u&&!c?{}:c,request:e,source:d}},{request:IV.extractRequestData(e)});i.configureScope(h=>{h.setSpan(f)}),r.__sentry_transaction=f,r.once("finish",()=>{setImmediate(()=>{_s.addRequestDataToTransaction(f,e),f.setHttpStatus(r.statusCode),f.finish()})}),n()}}function FV(t={}){let e;if("include"in t)e={include:t.include};else{let{ip:r,request:n,transaction:i,user:s}=t;(r||n||i||s)&&(e={include:_s.dropUndefinedKeys({ip:r,request:n,transaction:i,user:s})})}return e}function OV(t){let e=FV(t),r=hn.getCurrentHub(),n=r.getClient();if(n&&af.isAutoSessionTrackingEnabled(n)){n.initSessionFlusher();let i=r.getScope();i.getSession()&&i.setSession()}return function(s,o,a){if(t&&t.flushTimeout&&t.flushTimeout>0){let u=o.end;o.end=function(c,l,p){hn.flush(t.flushTimeout).then(()=>{u.call(this,c,l,p)}).then(null,d=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_s.logger.error(d),u.call(this,c,l,p)})}}hn.runWithAsyncContext(()=>{let u=hn.getCurrentHub();u.configureScope(c=>{c.setSDKProcessingMetadata({request:s,requestDataOptionsFromExpressHandler:e});let l=u.getClient();af.isAutoSessionTrackingEnabled(l)&&u.getScope().setRequestSession({status:"ok"})}),o.once("finish",()=>{let c=u.getClient();af.isAutoSessionTrackingEnabled(c)&&setImmediate(()=>{c&&c._captureRequestSession&&c._captureRequestSession()})}),a()})}}function kV(t){let e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}function RV(t){return kV(t)>=500}function MV(t){return function(r,n,i,s){if((t&&t.shouldHandleError||RV)(r)){hn.withScope(a=>{a.setSDKProcessingMetadata({request:n});let u=i.__sentry_transaction;u&&a.getSpan()===void 0&&a.setSpan(u);let c=hn.getCurrentHub().getClient();if(c&&af.isAutoSessionTrackingEnabled(c)&&c._sessionFlusher!==void 0){let d=a.getRequestSession();d&&d.status!==void 0&&(d.status="crashed")}a.addEventProcessor(p=>(_s.addExceptionMechanism(p,{type:"middleware",handled:!1}),p));let l=hn.captureException(r);i.sentry=l,s(r)});return}s(r)}}function LV(t={}){return function({path:e,type:r,next:n,rawInput:i}){let s=hn.getCurrentHub(),o=Pa([s,"access",u=>u.getClient,"call",u=>u(),"optionalAccess",u=>u.getOptions,"call",u=>u()]),a=s.getScope().getTransaction();if(a){a.setName(`trpc/${e}`,"route"),a.op="rpc.server";let u={procedure_type:r};(t.attachRpcInput!==void 0?t.attachRpcInput:Pa([o,"optionalAccess",c=>c.sendDefaultPii]))&&(u.input=_s.normalize(i)),a.setContext("trpc",u)}return n()}}Cs.extractRequestData=PA.extractRequestData;Cs.parseRequest=PA.parseRequest;Cs.errorHandler=MV;Cs.requestHandler=OV;Cs.tracingHandler=NV;Cs.trpcMiddleware=LV});var NA=D(Or=>{Object.defineProperty(Or,"__esModule",{value:!0});var BV=rE(),$V=oE(),UV=pE(),jV=fE(),qV=mE(),GV=bE(),VV=xE(),KV=SE(),HV=AE(),zV=NE(),WV=OE();Or.Console=BV.Console;Or.Http=$V.Http;Or.OnUncaughtException=UV.OnUncaughtException;Or.OnUnhandledRejection=jV.OnUnhandledRejection;Or.LinkedErrors=qV.LinkedErrors;Or.Modules=GV.Modules;Or.ContextLines=VV.ContextLines;Or.Context=KV.Context;Or.RequestData=HV.RequestData;Or.LocalVariables=zV.LocalVariables;Or.Undici=WV.Undici});var FA=D(Fi=>{Object.defineProperty(Fi,"__esModule",{value:!0});var So=Ib();Fi.Apollo=So.Apollo;Fi.Express=So.Express;Fi.GraphQL=So.GraphQL;Fi.Mongo=So.Mongo;Fi.Mysql=So.Mysql;Fi.Postgres=So.Postgres;Fi.Prisma=So.Prisma});var Oi=D(te=>{Object.defineProperty(te,"__esModule",{value:!0});var ye=ot(),YV=gw(),JV=Mb(),XV=Yb(),uf=ME(),$E=Mc(),QV=TA(),ZV=RE(),eK=IA(),tK=NA(),rK=FA(),nK={...ye.Integrations,...tK,...rK};te.Hub=ye.Hub;te.SDK_VERSION=ye.SDK_VERSION;te.Scope=ye.Scope;te.addBreadcrumb=ye.addBreadcrumb;te.addGlobalEventProcessor=ye.addGlobalEventProcessor;te.captureCheckIn=ye.captureCheckIn;te.captureEvent=ye.captureEvent;te.captureException=ye.captureException;te.captureMessage=ye.captureMessage;te.close=ye.close;te.configureScope=ye.configureScope;te.createTransport=ye.createTransport;te.extractTraceparentData=ye.extractTraceparentData;te.flush=ye.flush;te.getActiveSpan=ye.getActiveSpan;te.getActiveTransaction=ye.getActiveTransaction;te.getCurrentHub=ye.getCurrentHub;te.getHubFromCarrier=ye.getHubFromCarrier;te.lastEventId=ye.lastEventId;te.makeMain=ye.makeMain;te.runWithAsyncContext=ye.runWithAsyncContext;te.setContext=ye.setContext;te.setExtra=ye.setExtra;te.setExtras=ye.setExtras;te.setMeasurement=ye.setMeasurement;te.setTag=ye.setTag;te.setTags=ye.setTags;te.setUser=ye.setUser;te.spanStatusfromHttpCode=ye.spanStatusfromHttpCode;te.startActiveSpan=ye.startActiveSpan;te.startInactiveSpan=ye.startInactiveSpan;te.startSpan=ye.startSpan;te.startSpanManual=ye.startSpanManual;te.startTransaction=ye.startTransaction;te.trace=ye.trace;te.withScope=ye.withScope;te.autoDiscoverNodePerformanceMonitoringIntegrations=YV.autoDiscoverNodePerformanceMonitoringIntegrations;te.NodeClient=JV.NodeClient;te.makeNodeTransport=XV.makeNodeTransport;te.defaultIntegrations=uf.defaultIntegrations;te.defaultStackParser=uf.defaultStackParser;te.getSentryRelease=uf.getSentryRelease;te.init=uf.init;te.DEFAULT_USER_INCLUDES=$E.DEFAULT_USER_INCLUDES;te.addRequestDataToEvent=$E.addRequestDataToEvent;te.extractRequestData=$E.extractRequestData;te.deepReadDirSync=QV.deepReadDirSync;te.getModuleFromFilename=ZV.getModuleFromFilename;te.Handlers=eK;te.Integrations=nK});var UE=D((oce,kA)=>{"use strict";kA.exports=function(){if(process.env.npm_config_user_agent)return sK(process.env.npm_config_user_agent)};function sK(t){let e=t.split(" ")[0],r=e.lastIndexOf("/"),n=e.substring(0,r);return{name:n==="npminstall"?"cnpm":n,version:e.substring(r+1)}}});var oI=D((Ufe,Df)=>{Df.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;Df.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;Df.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var cD=D((jfe,aI)=>{var uD=oI();aI.exports={isSpaceSeparator(t){return typeof t=="string"&&uD.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||uD.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||uD.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}}});var dI=D((qfe,pI)=>{var kt=cD(),pD,lr,Mi,Sf,Ps,bn,Rt,hD,Qc;pI.exports=function(e,r){pD=String(e),lr="start",Mi=[],Sf=0,Ps=1,bn=0,Rt=void 0,hD=void 0,Qc=void 0;do Rt=Sz(),vz[lr]();while(Rt.type!=="eof");return typeof r=="function"?dD({"":Qc},"",r):Qc};function dD(t,e,r){let n=t[e];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let i=0;i<n.length;i++){let s=String(i),o=dD(n,s,r);o===void 0?delete n[s]:Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(let i in n){let s=dD(n,i,r);s===void 0?delete n[i]:Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return r.call(t,e,n)}var le,ae,Xc,Ri,De;function Sz(){for(le="default",ae="",Xc=!1,Ri=1;;){De=Li();let t=cI[le]();if(t)return t}}function Li(){if(pD[Sf])return String.fromCodePoint(pD.codePointAt(Sf))}function O(){let t=Li();return t===`
`?(Ps++,bn=0):t?bn+=t.length:bn++,t&&(Sf+=t.length),t}var cI={default(){switch(De){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":O();return;case"/":O(),le="comment";return;case void 0:return O(),Qe("eof")}if(kt.isSpaceSeparator(De)){O();return}return cI[lr]()},comment(){switch(De){case"*":O(),le="multiLineComment";return;case"/":O(),le="singleLineComment";return}throw Ze(O())},multiLineComment(){switch(De){case"*":O(),le="multiLineCommentAsterisk";return;case void 0:throw Ze(O())}O()},multiLineCommentAsterisk(){switch(De){case"*":O();return;case"/":O(),le="default";return;case void 0:throw Ze(O())}O(),le="multiLineComment"},singleLineComment(){switch(De){case`
`:case"\r":case"\u2028":case"\u2029":O(),le="default";return;case void 0:return O(),Qe("eof")}O()},value(){switch(De){case"{":case"[":return Qe("punctuator",O());case"n":return O(),Po("ull"),Qe("null",null);case"t":return O(),Po("rue"),Qe("boolean",!0);case"f":return O(),Po("alse"),Qe("boolean",!1);case"-":case"+":O()==="-"&&(Ri=-1),le="sign";return;case".":ae=O(),le="decimalPointLeading";return;case"0":ae=O(),le="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ae=O(),le="decimalInteger";return;case"I":return O(),Po("nfinity"),Qe("numeric",1/0);case"N":return O(),Po("aN"),Qe("numeric",NaN);case'"':case"'":Xc=O()==='"',ae="",le="string";return}throw Ze(O())},identifierNameStartEscape(){if(De!=="u")throw Ze(O());O();let t=fD();switch(t){case"$":case"_":break;default:if(!kt.isIdStartChar(t))throw uI();break}ae+=t,le="identifierName"},identifierName(){switch(De){case"$":case"_":case"\u200C":case"\u200D":ae+=O();return;case"\\":O(),le="identifierNameEscape";return}if(kt.isIdContinueChar(De)){ae+=O();return}return Qe("identifier",ae)},identifierNameEscape(){if(De!=="u")throw Ze(O());O();let t=fD();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!kt.isIdContinueChar(t))throw uI();break}ae+=t,le="identifierName"},sign(){switch(De){case".":ae=O(),le="decimalPointLeading";return;case"0":ae=O(),le="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ae=O(),le="decimalInteger";return;case"I":return O(),Po("nfinity"),Qe("numeric",Ri*(1/0));case"N":return O(),Po("aN"),Qe("numeric",NaN)}throw Ze(O())},zero(){switch(De){case".":ae+=O(),le="decimalPoint";return;case"e":case"E":ae+=O(),le="decimalExponent";return;case"x":case"X":ae+=O(),le="hexadecimal";return}return Qe("numeric",Ri*0)},decimalInteger(){switch(De){case".":ae+=O(),le="decimalPoint";return;case"e":case"E":ae+=O(),le="decimalExponent";return}if(kt.isDigit(De)){ae+=O();return}return Qe("numeric",Ri*Number(ae))},decimalPointLeading(){if(kt.isDigit(De)){ae+=O(),le="decimalFraction";return}throw Ze(O())},decimalPoint(){switch(De){case"e":case"E":ae+=O(),le="decimalExponent";return}if(kt.isDigit(De)){ae+=O(),le="decimalFraction";return}return Qe("numeric",Ri*Number(ae))},decimalFraction(){switch(De){case"e":case"E":ae+=O(),le="decimalExponent";return}if(kt.isDigit(De)){ae+=O();return}return Qe("numeric",Ri*Number(ae))},decimalExponent(){switch(De){case"+":case"-":ae+=O(),le="decimalExponentSign";return}if(kt.isDigit(De)){ae+=O(),le="decimalExponentInteger";return}throw Ze(O())},decimalExponentSign(){if(kt.isDigit(De)){ae+=O(),le="decimalExponentInteger";return}throw Ze(O())},decimalExponentInteger(){if(kt.isDigit(De)){ae+=O();return}return Qe("numeric",Ri*Number(ae))},hexadecimal(){if(kt.isHexDigit(De)){ae+=O(),le="hexadecimalInteger";return}throw Ze(O())},hexadecimalInteger(){if(kt.isHexDigit(De)){ae+=O();return}return Qe("numeric",Ri*Number(ae))},string(){switch(De){case"\\":O(),ae+=_z();return;case'"':if(Xc)return O(),Qe("string",ae);ae+=O();return;case"'":if(!Xc)return O(),Qe("string",ae);ae+=O();return;case`
`:case"\r":throw Ze(O());case"\u2028":case"\u2029":Tz(De);break;case void 0:throw Ze(O())}ae+=O()},start(){switch(De){case"{":case"[":return Qe("punctuator",O())}le="value"},beforePropertyName(){switch(De){case"$":case"_":ae=O(),le="identifierName";return;case"\\":O(),le="identifierNameStartEscape";return;case"}":return Qe("punctuator",O());case'"':case"'":Xc=O()==='"',le="string";return}if(kt.isIdStartChar(De)){ae+=O(),le="identifierName";return}throw Ze(O())},afterPropertyName(){if(De===":")return Qe("punctuator",O());throw Ze(O())},beforePropertyValue(){le="value"},afterPropertyValue(){switch(De){case",":case"}":return Qe("punctuator",O())}throw Ze(O())},beforeArrayValue(){if(De==="]")return Qe("punctuator",O());le="value"},afterArrayValue(){switch(De){case",":case"]":return Qe("punctuator",O())}throw Ze(O())},end(){throw Ze(O())}};function Qe(t,e){return{type:t,value:e,line:Ps,column:bn}}function Po(t){for(let e of t){if(Li()!==e)throw Ze(O());O()}}function _z(){switch(Li()){case"b":return O(),"\b";case"f":return O(),"\f";case"n":return O(),`
`;case"r":return O(),"\r";case"t":return O(),"	";case"v":return O(),"\v";case"0":if(O(),kt.isDigit(Li()))throw Ze(O());return"\0";case"x":return O(),Cz();case"u":return O(),fD();case`
`:case"\u2028":case"\u2029":return O(),"";case"\r":return O(),Li()===`
`&&O(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Ze(O());case void 0:throw Ze(O())}return O()}function Cz(){let t="",e=Li();if(!kt.isHexDigit(e)||(t+=O(),e=Li(),!kt.isHexDigit(e)))throw Ze(O());return t+=O(),String.fromCodePoint(parseInt(t,16))}function fD(){let t="",e=4;for(;e-- >0;){let r=Li();if(!kt.isHexDigit(r))throw Ze(O());t+=O()}return String.fromCodePoint(parseInt(t,16))}var vz={start(){if(Rt.type==="eof")throw Io();lD()},beforePropertyName(){switch(Rt.type){case"identifier":case"string":hD=Rt.value,lr="afterPropertyName";return;case"punctuator":xf();return;case"eof":throw Io()}},afterPropertyName(){if(Rt.type==="eof")throw Io();lr="beforePropertyValue"},beforePropertyValue(){if(Rt.type==="eof")throw Io();lD()},beforeArrayValue(){if(Rt.type==="eof")throw Io();if(Rt.type==="punctuator"&&Rt.value==="]"){xf();return}lD()},afterPropertyValue(){if(Rt.type==="eof")throw Io();switch(Rt.value){case",":lr="beforePropertyName";return;case"}":xf()}},afterArrayValue(){if(Rt.type==="eof")throw Io();switch(Rt.value){case",":lr="beforeArrayValue";return;case"]":xf()}},end(){}};function lD(){let t;switch(Rt.type){case"punctuator":switch(Rt.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=Rt.value;break}if(Qc===void 0)Qc=t;else{let e=Mi[Mi.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,hD,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Mi.push(t),Array.isArray(t)?lr="beforeArrayValue":lr="beforePropertyName";else{let e=Mi[Mi.length-1];e==null?lr="end":Array.isArray(e)?lr="afterArrayValue":lr="afterPropertyValue"}}function xf(){Mi.pop();let t=Mi[Mi.length-1];t==null?lr="end":Array.isArray(t)?lr="afterArrayValue":lr="afterPropertyValue"}function Ze(t){return _f(t===void 0?`JSON5: invalid end of input at ${Ps}:${bn}`:`JSON5: invalid character '${lI(t)}' at ${Ps}:${bn}`)}function Io(){return _f(`JSON5: invalid end of input at ${Ps}:${bn}`)}function uI(){return bn-=5,_f(`JSON5: invalid identifier character at ${Ps}:${bn}`)}function Tz(t){console.warn(`JSON5: '${lI(t)}' in strings is not valid ECMAScript; consider escaping`)}function lI(t){let e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){let r=t.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return t}function _f(t){let e=new SyntaxError(t);return e.lineNumber=Ps,e.columnNumber=bn,e}});var hI=D((Gfe,fI)=>{var mD=cD();fI.exports=function(e,r,n){let i=[],s="",o,a,u="",c;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(n=r.space,c=r.quote,r=r.replacer),typeof r=="function")a=r;else if(Array.isArray(r)){o=[];for(let m of r){let g;typeof m=="string"?g=m:(typeof m=="number"||m instanceof String||m instanceof Number)&&(g=String(m)),g!==void 0&&o.indexOf(g)<0&&o.push(g)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),typeof n=="number"?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):typeof n=="string"&&(u=n.substr(0,10)),l("",{"":e});function l(m,g){let y=g[m];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(m):typeof y.toJSON=="function"&&(y=y.toJSON(m))),a&&(y=a.call(g,m,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return p(y,!1);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?h(y):d(y)}function p(m){let g={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},b="";for(let E=0;E<m.length;E++){let x=m[E];switch(x){case"'":case'"':g[x]++,b+=x;continue;case"\0":if(mD.isDigit(m[E+1])){b+="\\x00";continue}}if(y[x]){b+=y[x];continue}if(x<" "){let S=x.charCodeAt(0).toString(16);b+="\\x"+("00"+S).substring(S.length);continue}b+=x}let _=c||Object.keys(g).reduce((E,x)=>g[E]<g[x]?E:x);return b=b.replace(new RegExp(_,"g"),y[_]),_+b+_}function d(m){if(i.indexOf(m)>=0)throw TypeError("Converting circular structure to JSON5");i.push(m);let g=s;s=s+u;let y=o||Object.keys(m),b=[];for(let E of y){let x=l(E,m);if(x!==void 0){let S=f(E)+":";u!==""&&(S+=" "),S+=x,b.push(S)}}let _;if(b.length===0)_="{}";else{let E;if(u==="")E=b.join(","),_="{"+E+"}";else{let x=`,
`+s;E=b.join(x),_=`{
`+s+E+`,
`+g+"}"}}return i.pop(),s=g,_}function f(m){if(m.length===0)return p(m,!0);let g=String.fromCodePoint(m.codePointAt(0));if(!mD.isIdStartChar(g))return p(m,!0);for(let y=g.length;y<m.length;y++)if(!mD.isIdContinueChar(String.fromCodePoint(m.codePointAt(y))))return p(m,!0);return m}function h(m){if(i.indexOf(m)>=0)throw TypeError("Converting circular structure to JSON5");i.push(m);let g=s;s=s+u;let y=[];for(let _=0;_<m.length;_++){let E=l(String(_),m);y.push(E!==void 0?E:"null")}let b;if(y.length===0)b="[]";else if(u==="")b="["+y.join(",")+"]";else{let _=`,
`+s,E=y.join(_);b=`[
`+s+E+`,
`+g+"]"}return i.pop(),s=g,b}}});var gI=D((Vfe,mI)=>{var wz=dI(),Az=hI(),Pz={parse:wz,stringify:Az};mI.exports=Pz});var yD=D(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});function vI(t){return Object.prototype.toString.call(t)}vf.getType=vI;function Uz(t){throw new TypeError("unsupported data type: "+vI(t))}vf.throwUnknownDataType=Uz});var SD=D($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var Bi="";for(let t=0;t<10;t++){let e=String.fromCharCode(48+t);Bi+=e}for(let t=0;t<26;t++){let e=String.fromCharCode(65+t);Bi+=e}for(let t=0;t<26;t++){let e=String.fromCharCode(97+t);Bi+=e}var ja=Bi.length,ED={};for(let t=0;t<ja;t++){let e=Bi[t];ED[e]=t}function DD(t){let e=0,r=1;for(let n=t.length-1;n>=0;n--){let i=t[n],s=ED[i];s*=r,e+=s,r*=ja}return e}$i.s_to_int=DD;function TI(t){let e=BigInt(0),r=BigInt(1),n=BigInt(ja);for(let i=t.length-1;i>=0;i--){let s=t[i],o=BigInt(ED[s]);o*=r,e+=o,r*=n}return e}$i.s_to_big_int=TI;function xD(t){if(t===0)return Bi[0];let e=[];for(;t!==0;){let r=t%ja,n=Bi[r];e.push(n),t-=r,t/=ja}return e.reverse().join("")}$i.int_to_s=xD;function wI(t){let e=BigInt(0),r=BigInt(ja);if(t===e)return Bi[0];let n=[];for(;t!==e;){let i=t%r,s=Bi[Number(i)];n.push(s),t-=i,t/=r}return n.reverse().join("")}$i.big_int_to_s=wI;function wf(t){return t.split("").reverse().join("")}function AI(t){if(t<0)return"-"+AI(-t);let[e,r]=t.toString().split(".");if(!r)return xD(t);let n;r&&([r,n]=r.split("e")),e=Tf(e),r=wf(r),r=Tf(r);let i=e+"."+r;if(n){switch(i+=".",n[0]){case"+":n=n.slice(1);break;case"-":i+="-",n=n.slice(1);break}n=wf(n),n=Tf(n),i+=n}return i}$i.num_to_s=AI;function Tf(t){let e=+t;return e.toString()===t?xD(e):":"+wI(BigInt(t))}$i.int_str_to_s=Tf;function bD(t){return t[0]===":"?TI(t.substring(1)).toString():DD(t).toString()}function PI(t){if(t[0]==="-")return-PI(t.substr(1));let[e,r,n]=t.split(".");if(!r)return DD(e);e=bD(e),r=bD(r),r=wf(r);let i=e+"."+r;if(n){i+="e";let s=!1;n[0]==="-"&&(s=!0,n=n.slice(1)),n=bD(n),n=wf(n),i+=s?-n:+n}return+i}$i.s_to_num=PI});var CD=D(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var _D=SD();function jz(t){return"n|"+_D.num_to_s(t)}Ui.encodeNum=jz;function qz(t){return t=t.replace("n|",""),_D.s_to_num(t)}Ui.decodeNum=qz;function Gz(t){return typeof t=="number"?t:_D.s_to_int(t)}Ui.decodeKey=Gz;function Vz(t){return t?"b|T":"b|F"}Ui.encodeBool=Vz;function Kz(t){switch(t){case"b|T":return!0;case"b|F":return!1}return!!t}Ui.decodeBool=Kz;function Hz(t){switch(t[0]+t[1]){case"b|":case"o|":case"n|":case"a|":case"s|":t="s|"+t}return t}Ui.encodeStr=Hz;function zz(t){return t[0]+t[1]==="s|"?t.substr(2):t}Ui.decodeStr=zz});var II=D(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});vD.config={sort_key:!1}});var wD=D(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var Wz=II(),Yz=yD(),TD=CD(),Jz=SD();function Xz(t){return t.store.toArray()}Fo.memToValues=Xz;function NI(){let t=[];return{forEach(e){for(let r=0;r<t.length;r++)if(e(t[r])==="break")return},add(e){t.push(e)},toArray(){return t}}}Fo.makeInMemoryStore=NI;function FI(){let t=Object.create(null),e=Object.create(null);return{getValue(r){return t[r]},getSchema(r){return e[r]},forEachValue(r){for(let[n,i]of Object.entries(t))if(r(n,i)==="break")return},forEachSchema(r){for(let[n,i]of Object.entries(e))if(r(n,i)==="break")return},setValue(r,n){t[r]=n},setSchema(r,n){e[r]=n},hasValue(r){return r in t},hasSchema(r){return r in e}}}Fo.makeInMemoryCache=FI;function Qz(){return{store:NI(),cache:FI(),keyCount:0}}Fo.makeInMemoryMemory=Qz;function No(t,e){if(t.cache.hasValue(e))return t.cache.getValue(e);let r=t.keyCount++,n=Jz.num_to_s(r);return t.store.add(e),t.cache.setValue(e,n),n}function Zz(t,e){Wz.config.sort_key&&e.sort();let r=e.join(",");if(t.cache.hasSchema(r))return t.cache.getSchema(r);let n=Zc(t,e,void 0);return t.cache.setSchema(r,n),n}function Zc(t,e,r){if(e===null)return"";switch(typeof e){case"undefined":if(Array.isArray(r))return Zc(t,null,r);break;case"object":if(e===null)return No(t,null);if(Array.isArray(e)){let n="a";for(let i=0;i<e.length;i++){let s=e[i],o=s===null?"_":Zc(t,s,e);n+="|"+o}return n==="a"&&(n="a|"),No(t,n)}else{let n=Object.keys(e);if(n.length===0)return No(t,"o|");let i="o",s=Zz(t,n);i+="|"+s;for(let o of n){let a=e[o],u=Zc(t,a,e);i+="|"+u}return No(t,i)}case"boolean":return No(t,TD.encodeBool(e));case"number":return No(t,TD.encodeNum(e));case"string":return No(t,TD.encodeStr(e))}return Yz.throwUnknownDataType(e)}Fo.addValue=Zc});var PD=D(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var eW=yD(),Af=CD(),AD=wD();function tW(t){let e=AD.makeInMemoryMemory(),r=AD.addValue(e,t,void 0);return[AD.memToValues(e),r]}tl.compress=tW;function rW(t,e){if(e==="o|")return{};let r={},n=e.split("|"),i=n[1],s=el(t,i),o=n.length;o-2===1&&!Array.isArray(s)&&(s=[s]);for(let a=2;a<o;a++){let u=s[a-2],c=n[a];c=el(t,c),r[u]=c}return r}function nW(t,e){if(e==="a|")return[];let r=e.split("|"),n=r.length-1,i=new Array(n);for(let s=0;s<n;s++){let o=r[s+1];o=el(t,o),i[s]=o}return i}function el(t,e){if(e===""||e==="_")return null;let r=Af.decodeKey(e),n=t[r];if(n===null)return n;switch(typeof n){case"undefined":return n;case"number":return n;case"string":switch(n[0]+n[1]){case"b|":return Af.decodeBool(n);case"o|":return rW(t,n);case"n|":return Af.decodeNum(n);case"a|":return nW(t,n);default:return Af.decodeStr(n)}}return eW.throwUnknownDataType(n)}tl.decode=el;function iW(t){let[e,r]=t;return el(e,r)}tl.decompress=iW});var kI=D(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});function sW(t){for(let e in t)t[e]===void 0&&delete t[e]}Pf.trimUndefined=sW;function oW(t){OI(t,new Set)}Pf.trimUndefinedRecursively=oW;function OI(t,e){e.add(t);for(let r in t)if(t[r]===void 0)delete t[r];else{let n=t[r];n&&typeof n=="object"&&!e.has(n)&&OI(n,e)}}});var LI=D(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var RI=PD();Is.compress=RI.compress;Is.decompress=RI.decompress;var aW=PD();Is.decode=aW.decode;var uW=wD();Is.addValue=uW.addValue;var MI=kI();Is.trimUndefined=MI.trimUndefined;Is.trimUndefinedRecursively=MI.trimUndefinedRecursively});var at=D((Qme,qI)=>{"use strict";var{FORCE_COLOR:pW,NODE_DISABLE_COLORS:dW,TERM:fW}=process.env,je={enabled:!dW&&fW!=="dumb"&&pW!=="0",reset:Ye(0,0),bold:Ye(1,22),dim:Ye(2,22),italic:Ye(3,23),underline:Ye(4,24),inverse:Ye(7,27),hidden:Ye(8,28),strikethrough:Ye(9,29),black:Ye(30,39),red:Ye(31,39),green:Ye(32,39),yellow:Ye(33,39),blue:Ye(34,39),magenta:Ye(35,39),cyan:Ye(36,39),white:Ye(37,39),gray:Ye(90,39),grey:Ye(90,39),bgBlack:Ye(40,49),bgRed:Ye(41,49),bgGreen:Ye(42,49),bgYellow:Ye(43,49),bgBlue:Ye(44,49),bgMagenta:Ye(45,49),bgCyan:Ye(46,49),bgWhite:Ye(47,49)};function jI(t,e){let r=0,n,i="",s="";for(;r<t.length;r++)n=t[r],i+=n.open,s+=n.close,e.includes(n.close)&&(e=e.replace(n.rgx,n.close+n.open));return i+e+s}function hW(t,e){let r={has:t,keys:e};return r.reset=je.reset.bind(r),r.bold=je.bold.bind(r),r.dim=je.dim.bind(r),r.italic=je.italic.bind(r),r.underline=je.underline.bind(r),r.inverse=je.inverse.bind(r),r.hidden=je.hidden.bind(r),r.strikethrough=je.strikethrough.bind(r),r.black=je.black.bind(r),r.red=je.red.bind(r),r.green=je.green.bind(r),r.yellow=je.yellow.bind(r),r.blue=je.blue.bind(r),r.magenta=je.magenta.bind(r),r.cyan=je.cyan.bind(r),r.white=je.white.bind(r),r.gray=je.gray.bind(r),r.grey=je.grey.bind(r),r.bgBlack=je.bgBlack.bind(r),r.bgRed=je.bgRed.bind(r),r.bgGreen=je.bgGreen.bind(r),r.bgYellow=je.bgYellow.bind(r),r.bgBlue=je.bgBlue.bind(r),r.bgMagenta=je.bgMagenta.bind(r),r.bgCyan=je.bgCyan.bind(r),r.bgWhite=je.bgWhite.bind(r),r}function Ye(t,e){let r={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(n){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),n===void 0?this:je.enabled?jI(this.keys,n+""):n+""):n===void 0?hW([t],[r]):je.enabled?jI([r],n+""):n+""}}qI.exports=je});var VI=D((Zme,GI)=>{"use strict";GI.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Nf=D((ege,KI)=>{"use strict";KI.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var JI=D((tge,YI)=>{"use strict";function mW(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gW(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function gW(t,e){if(t){if(typeof t=="string")return HI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yW=Nf(),WI=He(),zI=WI.erase,bW=WI.cursor,EW=t=>[...yW(t)].length;YI.exports=function(t,e){if(!e)return zI.line+bW.to(0);let r=0,n=t.split(/\r?\n/);var i=mW(n),s;try{for(i.s();!(s=i.n()).done;){let o=s.value;r+=1+Math.floor(Math.max(EW(o)-1,0)/e)}}catch(o){i.e(o)}finally{i.f()}return zI.lines(r)}});var ID=D((rge,XI)=>{"use strict";var rl={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},DW={arrowUp:rl.arrowUp,arrowDown:rl.arrowDown,arrowLeft:rl.arrowLeft,arrowRight:rl.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},xW=process.platform==="win32"?DW:rl;XI.exports=xW});var ZI=D((nge,QI)=>{"use strict";var qa=at(),Oo=ID(),ND=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),SW=t=>ND[t]||ND.default,nl=Object.freeze({aborted:qa.red(Oo.cross),done:qa.green(Oo.tick),exited:qa.yellow(Oo.cross),default:qa.cyan("?")}),_W=(t,e,r)=>e?nl.aborted:r?nl.exited:t?nl.done:nl.default,CW=t=>qa.gray(t?Oo.ellipsis:Oo.pointerSmall),vW=(t,e)=>qa.gray(t?e?Oo.pointerSmall:"+":Oo.line);QI.exports={styles:ND,render:SW,symbols:nl,symbol:_W,delimiter:CW,item:vW}});var tN=D((ige,eN)=>{"use strict";var TW=Nf();eN.exports=function(t,e){let r=String(TW(t)||"").split(/\r?\n/);return e?r.map(n=>Math.ceil(n.length/e)).reduce((n,i)=>n+i):r.length}});var nN=D((sge,rN)=>{"use strict";rN.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",n=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((s,o)=>(o.length+r.length>=n||s[s.length-1].length+o.length+1<n?s[s.length-1]+=` ${o}`:s.push(`${r}${o}`),s),[r]).join(`
`)).join(`
`)}});var sN=D((oge,iN)=>{"use strict";iN.exports=(t,e,r)=>{r=r||e;let n=Math.min(e-r,t-Math.floor(r/2));n<0&&(n=0);let i=Math.min(n+r,e);return{startIndex:n,endIndex:i}}});var Dn=D((age,oN)=>{"use strict";oN.exports={action:VI(),clear:JI(),style:ZI(),strip:Nf(),figures:ID(),lines:tN(),wrap:nN(),entriesToDisplay:sN()}});var ji=D((uge,cN)=>{"use strict";var aN=require("readline"),wW=Dn(),AW=wW.action,PW=require("events"),uN=He(),IW=uN.beep,NW=uN.cursor,FW=at(),FD=class extends PW{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=aN.createInterface({input:this.in,escapeCodeTimeout:50});aN.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(s,o)=>{let a=AW(o,n);a===!1?this._&&this._(s,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(NW.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(IW)}render(){this.onRender(FW),this.firstRender&&(this.firstRender=!1)}};cN.exports=FD});var hN=D((cge,fN)=>{"use strict";function lN(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function pN(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){lN(s,n,i,o,a,"next",u)}function a(u){lN(s,n,i,o,a,"throw",u)}o(void 0)})}}var Ff=at(),OW=ji(),dN=He(),kW=dN.erase,il=dN.cursor,Of=Dn(),OD=Of.style,kD=Of.clear,RW=Of.lines,MW=Of.figures,RD=class extends OW{constructor(e={}){super(e),this.transform=OD.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=kD("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Ff.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return pN(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return pN(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let n=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${n}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:n.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(il.down(RW(this.outputError,this.out.columns)-1)+kD(this.outputError,this.out.columns)),this.out.write(kD(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[OD.symbol(this.done,this.aborted),Ff.bold(this.msg),OD.delimiter(this.done),this.red?Ff.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":MW.pointerSmall} ${Ff.red().italic(r)}`,"")),this.out.write(kW.line+il.to(0)+this.outputText+il.save+this.outputError+il.restore+il.move(this.cursorOffset,0)))}};fN.exports=RD});var bN=D((lge,yN)=>{"use strict";var qi=at(),LW=ji(),sl=Dn(),mN=sl.style,gN=sl.clear,kf=sl.figures,BW=sl.wrap,$W=sl.entriesToDisplay,UW=He(),jW=UW.cursor,MD=class extends LW{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,n)=>(typeof r=="string"&&(r={title:r,value:n}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?n:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=gN("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(jW.hide):this.out.write(gN(this.outputText,this.out.columns)),super.render();let e=$W(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,n=e.endIndex;if(this.outputText=[mN.symbol(this.done,this.aborted),qi.bold(this.msg),mN.delimiter(!1),this.done?this.selection.title:this.selection.disabled?qi.yellow(this.warn):qi.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=r;i<n;i++){let s,o,a="",u=this.choices[i];i===r&&r>0?o=kf.arrowUp:i===n-1&&n<this.choices.length?o=kf.arrowDown:o=" ",u.disabled?(s=this.cursor===i?qi.gray().underline(u.title):qi.strikethrough().gray(u.title),o=(this.cursor===i?qi.bold().gray(kf.pointer)+" ":"  ")+o):(s=this.cursor===i?qi.cyan().underline(u.title):u.title,o=(this.cursor===i?qi.cyan(kf.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(a=` - ${u.description}`,(o.length+s.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a=`
`+BW(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${qi.gray(a)}
`}}this.out.write(this.outputText)}};yN.exports=MD});var CN=D((pge,_N)=>{"use strict";var Rf=at(),qW=ji(),xN=Dn(),EN=xN.style,GW=xN.clear,SN=He(),DN=SN.cursor,VW=SN.erase,LD=class extends qW{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(DN.hide):this.out.write(GW(this.outputText,this.out.columns)),super.render(),this.outputText=[EN.symbol(this.done,this.aborted),Rf.bold(this.msg),EN.delimiter(this.done),this.value?this.inactive:Rf.cyan().underline(this.inactive),Rf.gray("/"),this.value?Rf.cyan().underline(this.active):this.active].join(" "),this.out.write(VW.line+DN.to(0)+this.outputText))}};_N.exports=LD});var ti=D((dge,vN)=>{"use strict";var BD=class t{constructor({token:e,date:r,parts:n,locales:i}){this.token=e,this.date=r||new Date,this.parts=n||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,n)=>n>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((n,i)=>i>r&&n instanceof t)}toString(){return String(this.date)}};vN.exports=BD});var wN=D((fge,TN)=>{"use strict";var KW=ti(),$D=class extends KW{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};TN.exports=$D});var PN=D((hge,AN)=>{"use strict";var HW=ti(),zW=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),UD=class extends HW{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+zW(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};AN.exports=UD});var NN=D((mge,IN)=>{"use strict";var WW=ti(),jD=class extends WW{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};IN.exports=jD});var ON=D((gge,FN)=>{"use strict";var YW=ti(),qD=class extends YW{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};FN.exports=qD});var RN=D((yge,kN)=>{"use strict";var JW=ti(),GD=class extends JW{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};kN.exports=GD});var LN=D((bge,MN)=>{"use strict";var XW=ti(),VD=class extends XW{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};MN.exports=VD});var $N=D((Ege,BN)=>{"use strict";var QW=ti(),KD=class extends QW{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};BN.exports=KD});var jN=D((Dge,UN)=>{"use strict";var ZW=ti(),HD=class extends ZW{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};UN.exports=HD});var GN=D((xge,qN)=>{"use strict";qN.exports={DatePart:ti(),Meridiem:wN(),Day:PN(),Hours:NN(),Milliseconds:ON(),Minutes:RN(),Month:LN(),Seconds:$N(),Year:jN()}});var ZN=D((Sge,QN)=>{"use strict";function VN(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function KN(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){VN(s,n,i,o,a,"next",u)}function a(u){VN(s,n,i,o,a,"throw",u)}o(void 0)})}}var zD=at(),eY=ji(),YD=Dn(),HN=YD.style,zN=YD.clear,tY=YD.figures,XN=He(),rY=XN.erase,WN=XN.cursor,Gi=GN(),YN=Gi.DatePart,nY=Gi.Meridiem,iY=Gi.Day,sY=Gi.Hours,oY=Gi.Milliseconds,aY=Gi.Minutes,uY=Gi.Month,cY=Gi.Seconds,lY=Gi.Year,pY=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,JN={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new iY(t),3:t=>new uY(t),4:t=>new lY(t),5:t=>new nY(t),6:t=>new sY(t),7:t=>new aY(t),8:t=>new cY(t),9:t=>new oY(t)},dY={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},WD=class extends eY{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(dY,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=zN("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=pY.exec(e);){let i=r.shift(),s=r.findIndex(o=>o!=null);this.parts.push(s in JN?JN[s]({token:r[s]||i,date:this.date,parts:this.parts,locales:this.locales}):r[s]||i)}let n=this.parts.reduce((i,s)=>(typeof s=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=s:i.push(s),i),[]);this.parts.splice(0),this.parts.push(...n),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof YN)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return KN(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return KN(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof YN)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(WN.hide):this.out.write(zN(this.outputText,this.out.columns)),super.render(),this.outputText=[HN.symbol(this.done,this.aborted),zD.bold(this.msg),HN.delimiter(!1),this.parts.reduce((e,r,n)=>e.concat(n===this.cursor&&!this.done?zD.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":tY.pointerSmall} ${zD.red().italic(r)}`,"")),this.out.write(rY.line+WN.to(0)+this.outputText))}};QN.exports=WD});var o1=D((_ge,s1)=>{"use strict";function e1(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function t1(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){e1(s,n,i,o,a,"next",u)}function a(u){e1(s,n,i,o,a,"throw",u)}o(void 0)})}}var Mf=at(),fY=ji(),i1=He(),Lf=i1.cursor,hY=i1.erase,Bf=Dn(),JD=Bf.style,mY=Bf.figures,r1=Bf.clear,gY=Bf.lines,yY=/[0-9]/,XD=t=>t!==void 0,n1=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},QD=class extends fY{constructor(e={}){super(e),this.transform=JD.render(e.style),this.msg=e.message,this.initial=XD(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=XD(e.min)?e.min:-1/0,this.max=XD(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Mf.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${n1(e,this.round)}`),this._value=n1(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||yY.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return t1(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return t1(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let r=e.value;e.value=r!==""?r:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let n=Date.now();if(n-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=n,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Lf.down(gY(this.outputError,this.out.columns)-1)+r1(this.outputError,this.out.columns)),this.out.write(r1(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[JD.symbol(this.done,this.aborted),Mf.bold(this.msg),JD.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Mf[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":mY.pointerSmall} ${Mf.red().italic(r)}`,"")),this.out.write(hY.line+Lf.to(0)+this.outputText+Lf.save+this.outputError+Lf.restore))}};s1.exports=QD});var ex=D((Cge,c1)=>{"use strict";var ri=at(),bY=He(),EY=bY.cursor,DY=ji(),ol=Dn(),a1=ol.clear,Fs=ol.figures,u1=ol.style,xY=ol.wrap,SY=ol.entriesToDisplay,ZD=class extends DY{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,n)=>(typeof r=="string"&&(r={title:r,value:n}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?n:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=a1("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Fs.arrowUp}/${Fs.arrowDown}: Highlight option
    ${Fs.arrowLeft}/${Fs.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,n,i){let s=(r.selected?ri.green(Fs.radioOn):Fs.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===n?ri.gray().underline(r.title):ri.strikethrough().gray(r.title):(o=e===n?ri.cyan().underline(r.title):r.title,e===n&&r.description&&(a=` - ${r.description}`,(s.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+xY(r.description,{margin:s.length,width:this.out.columns})))),s+o+ri.gray(a||"")}paginateOptions(e){if(e.length===0)return ri.red("No matches for this query.");let r=SY(this.cursor,e.length,this.optionsPerPage),n=r.startIndex,i=r.endIndex,s,o=[];for(let a=n;a<i;a++)a===n&&n>0?s=Fs.arrowUp:a===i-1&&i<e.length?s=Fs.arrowDown:s=" ",o.push(this.renderOption(this.cursor,e[a],a,s));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[ri.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(ri.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(EY.hide),super.render();let e=[u1.symbol(this.done,this.aborted),ri.bold(this.msg),u1.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ri.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=a1(e,this.out.columns)}};c1.exports=ZD});var g1=D((vge,m1)=>{"use strict";function l1(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function _Y(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){l1(s,n,i,o,a,"next",u)}function a(u){l1(s,n,i,o,a,"throw",u)}o(void 0)})}}var al=at(),CY=ji(),h1=He(),vY=h1.erase,p1=h1.cursor,ul=Dn(),tx=ul.style,d1=ul.clear,rx=ul.figures,TY=ul.wrap,wY=ul.entriesToDisplay,f1=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),AY=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),PY=(t,e)=>{let r=t.findIndex(n=>n.value===e||n.title===e);return r>-1?r:void 0},nx=class extends CY{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:PY(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=tx.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=d1("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=f1(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var r=this;return _Y(function*(){let n=r.completing=r.suggest(r.input,r.choices),i=yield n;if(r.completing!==n)return;r.suggestions=i.map((o,a,u)=>({title:AY(u,a),value:f1(u,a),description:o.description})),r.completing=!1;let s=Math.max(i.length-1,0);r.moveSelect(Math.min(s,r.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let n=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${n}${e}${i}`,this.cursor=n.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,n,i){let s,o=n?rx.arrowUp:i?rx.arrowDown:" ",a=r?al.cyan().underline(e.title):e.title;return o=(r?al.cyan(rx.pointer)+" ":"  ")+o,e.description&&(s=` - ${e.description}`,(o.length+a.length+s.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(s=`
`+TY(e.description,{margin:3,width:this.out.columns}))),o+" "+a+al.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(p1.hide):this.out.write(d1(this.outputText,this.out.columns)),super.render();let e=wY(this.select,this.choices.length,this.limit),r=e.startIndex,n=e.endIndex;if(this.outputText=[tx.symbol(this.done,this.aborted,this.exited),al.bold(this.msg),tx.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(r,n).map((s,o)=>this.renderOption(s,this.select===o+r,o===0&&r>0,o+r===n-1&&n<this.choices.length)).join(`
`);this.outputText+=`
`+(i||al.gray(this.fallback.title))}this.out.write(vY.line+p1.to(0)+this.outputText)}};m1.exports=nx});var D1=D((Tge,E1)=>{"use strict";var Vi=at(),IY=He(),NY=IY.cursor,FY=ex(),sx=Dn(),y1=sx.clear,b1=sx.style,Ga=sx.figures,ix=class extends FY{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=y1("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(n=>this.inputValue?!!(typeof n.title=="string"&&n.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof n.value=="string"&&n.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(n=>n===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ga.arrowUp}/${Ga.arrowDown}: Highlight option
    ${Ga.arrowLeft}/${Ga.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Vi.gray("Enter something to filter")}
`}renderOption(e,r,n){let i;return r.disabled?i=e===n?Vi.gray().underline(r.title):Vi.strikethrough().gray(r.title):i=e===n?Vi.cyan().underline(r.title):r.title,(r.selected?Vi.green(Ga.radioOn):Ga.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[Vi.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(Vi.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(NY.hide),super.render();let e=[b1.symbol(this.done,this.aborted),Vi.bold(this.msg),b1.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Vi.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=y1(e,this.out.columns)}};E1.exports=ix});var w1=D((wge,T1)=>{"use strict";var x1=at(),OY=ji(),C1=Dn(),S1=C1.style,kY=C1.clear,v1=He(),RY=v1.erase,_1=v1.cursor,ox=class extends OY{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(_1.hide):this.out.write(kY(this.outputText,this.out.columns)),super.render(),this.outputText=[S1.symbol(this.done,this.aborted),x1.bold(this.msg),S1.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:x1.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(RY.line+_1.to(0)+this.outputText))}};T1.exports=ox});var P1=D((Age,A1)=>{"use strict";A1.exports={TextPrompt:hN(),SelectPrompt:bN(),TogglePrompt:CN(),DatePrompt:ZN(),NumberPrompt:o1(),MultiselectPrompt:ex(),AutocompletePrompt:g1(),AutocompleteMultiselectPrompt:D1(),ConfirmPrompt:w1()}});var N1=D(I1=>{"use strict";var Sr=I1,MY=P1(),$f=t=>t;function ni(t,e,r={}){return new Promise((n,i)=>{let s=new MY[t](e),o=r.onAbort||$f,a=r.onSubmit||$f,u=r.onExit||$f;s.on("state",e.onState||$f),s.on("submit",c=>n(a(c))),s.on("exit",c=>n(u(c))),s.on("abort",c=>i(o(c)))})}Sr.text=t=>ni("TextPrompt",t);Sr.password=t=>(t.style="password",Sr.text(t));Sr.invisible=t=>(t.style="invisible",Sr.text(t));Sr.number=t=>ni("NumberPrompt",t);Sr.date=t=>ni("DatePrompt",t);Sr.confirm=t=>ni("ConfirmPrompt",t);Sr.list=t=>{let e=t.separator||",";return ni("TextPrompt",t,{onSubmit:r=>r.split(e).map(n=>n.trim())})};Sr.toggle=t=>ni("TogglePrompt",t);Sr.select=t=>ni("SelectPrompt",t);Sr.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(n=>n.selected).map(n=>n.value);return ni("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};Sr.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(n=>n.selected).map(n=>n.value);return ni("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var LY=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));Sr.autocomplete=t=>(t.suggest=t.suggest||LY,t.choices=[].concat(t.choices||[]),ni("AutocompletePrompt",t))});var $1=D((Ige,B1)=>{"use strict";function F1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(r),!0).forEach(function(n){BY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=UY(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function UY(t,e){if(t){if(typeof t=="string")return k1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R1(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function M1(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){R1(s,n,i,o,a,"next",u)}function a(u){R1(s,n,i,o,a,"throw",u)}o(void 0)})}}var ax=N1(),jY=["suggest","format","onState","validate","onRender","type"],L1=()=>{};function Os(){return ux.apply(this,arguments)}function ux(){return ux=M1(function*(t=[],{onSubmit:e=L1,onCancel:r=L1}={}){let n={},i=Os._override||{};t=[].concat(t);let s,o,a,u,c,l,p=function(){var g=M1(function*(y,b,_=!1){if(!(!_&&y.validate&&y.validate(b)!==!0))return y.format?yield y.format(b,n):b});return function(b,_){return g.apply(this,arguments)}}();var d=$Y(t),f;try{for(d.s();!(f=d.n()).done;){o=f.value;var h=o;if(u=h.name,c=h.type,typeof c=="function"&&(c=yield c(s,O1({},n),o),o.type=c),!!c){for(let g in o){if(jY.includes(g))continue;let y=o[g];o[g]=typeof y=="function"?yield y(s,O1({},n),l):y}if(l=o,typeof o.message!="string")throw new Error("prompt message is required");var m=o;if(u=m.name,c=m.type,ax[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(i[o.name]!==void 0&&(s=yield p(o,i[o.name]),s!==void 0)){n[u]=s;continue}try{s=Os._injected?qY(Os._injected,o.initial):yield ax[c](o),n[u]=s=yield p(o,s,!0),a=yield e(o,s,n)}catch{a=!(yield r(o,n))}if(a)return n}}}catch(g){d.e(g)}finally{d.f()}return n}),ux.apply(this,arguments)}function qY(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function GY(t){Os._injected=(Os._injected||[]).concat(t)}function VY(t){Os._override=Object.assign({},t)}B1.exports=Object.assign(Os,{prompt:Os,prompts:ax,inject:GY,override:VY})});var j1=D((Nge,U1)=>{"use strict";U1.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Uf=D((Fge,q1)=>{"use strict";q1.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var K1=D((Oge,V1)=>{"use strict";var KY=Uf(),{erase:G1,cursor:HY}=He(),zY=t=>[...KY(t)].length;V1.exports=function(t,e){if(!e)return G1.line+HY.to(0);let r=0,n=t.split(/\r?\n/);for(let i of n)r+=1+Math.floor(Math.max(zY(i)-1,0)/e);return G1.lines(r)}});var cx=D((kge,H1)=>{"use strict";var cl={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},WY={arrowUp:cl.arrowUp,arrowDown:cl.arrowDown,arrowLeft:cl.arrowLeft,arrowRight:cl.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},YY=process.platform==="win32"?WY:cl;H1.exports=YY});var W1=D((Rge,z1)=>{"use strict";var Va=at(),ko=cx(),lx=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),JY=t=>lx[t]||lx.default,ll=Object.freeze({aborted:Va.red(ko.cross),done:Va.green(ko.tick),exited:Va.yellow(ko.cross),default:Va.cyan("?")}),XY=(t,e,r)=>e?ll.aborted:r?ll.exited:t?ll.done:ll.default,QY=t=>Va.gray(t?ko.ellipsis:ko.pointerSmall),ZY=(t,e)=>Va.gray(t?e?ko.pointerSmall:"+":ko.line);z1.exports={styles:lx,render:JY,symbols:ll,symbol:XY,delimiter:QY,item:ZY}});var J1=D((Mge,Y1)=>{"use strict";var eJ=Uf();Y1.exports=function(t,e){let r=String(eJ(t)||"").split(/\r?\n/);return e?r.map(n=>Math.ceil(n.length/e)).reduce((n,i)=>n+i):r.length}});var Q1=D((Lge,X1)=>{"use strict";X1.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",n=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((s,o)=>(o.length+r.length>=n||s[s.length-1].length+o.length+1<n?s[s.length-1]+=` ${o}`:s.push(`${r}${o}`),s),[r]).join(`
`)).join(`
`)}});var eF=D((Bge,Z1)=>{"use strict";Z1.exports=(t,e,r)=>{r=r||e;let n=Math.min(e-r,t-Math.floor(r/2));n<0&&(n=0);let i=Math.min(n+r,e);return{startIndex:n,endIndex:i}}});var xn=D(($ge,tF)=>{"use strict";tF.exports={action:j1(),clear:K1(),style:W1(),strip:Uf(),figures:cx(),lines:J1(),wrap:Q1(),entriesToDisplay:eF()}});var Ki=D((Uge,nF)=>{"use strict";var rF=require("readline"),{action:tJ}=xn(),rJ=require("events"),{beep:nJ,cursor:iJ}=He(),sJ=at(),px=class extends rJ{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=rF.createInterface({input:this.in,escapeCodeTimeout:50});rF.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(s,o)=>{let a=tJ(o,n);a===!1?this._&&this._(s,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(iJ.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(nJ)}render(){this.onRender(sJ),this.firstRender&&(this.firstRender=!1)}};nF.exports=px});var sF=D((jge,iF)=>{var jf=at(),oJ=Ki(),{erase:aJ,cursor:pl}=He(),{style:dx,clear:fx,lines:uJ,figures:cJ}=xn(),hx=class extends oJ{constructor(e={}){super(e),this.transform=dx.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=fx("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=jf.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let n=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${n}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:n.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(pl.down(uJ(this.outputError,this.out.columns)-1)+fx(this.outputError,this.out.columns)),this.out.write(fx(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[dx.symbol(this.done,this.aborted),jf.bold(this.msg),dx.delimiter(this.done),this.red?jf.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":cJ.pointerSmall} ${jf.red().italic(r)}`,"")),this.out.write(aJ.line+pl.to(0)+this.outputText+pl.save+this.outputError+pl.restore+pl.move(this.cursorOffset,0)))}};iF.exports=hx});var cF=D((qge,uF)=>{"use strict";var Hi=at(),lJ=Ki(),{style:oF,clear:aF,figures:qf,wrap:pJ,entriesToDisplay:dJ}=xn(),{cursor:fJ}=He(),mx=class extends lJ{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,n)=>(typeof r=="string"&&(r={title:r,value:n}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?n:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=aF("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(fJ.hide):this.out.write(aF(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=dJ(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[oF.symbol(this.done,this.aborted),Hi.bold(this.msg),oF.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Hi.yellow(this.warn):Hi.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let n=e;n<r;n++){let i,s,o="",a=this.choices[n];n===e&&e>0?s=qf.arrowUp:n===r-1&&r<this.choices.length?s=qf.arrowDown:s=" ",a.disabled?(i=this.cursor===n?Hi.gray().underline(a.title):Hi.strikethrough().gray(a.title),s=(this.cursor===n?Hi.bold().gray(qf.pointer)+" ":"  ")+s):(i=this.cursor===n?Hi.cyan().underline(a.title):a.title,s=(this.cursor===n?Hi.cyan(qf.pointer)+" ":"  ")+s,a.description&&this.cursor===n&&(o=` - ${a.description}`,(s.length+i.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+pJ(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${i}${Hi.gray(o)}
`}}this.out.write(this.outputText)}};uF.exports=mx});var fF=D((Gge,dF)=>{var Gf=at(),hJ=Ki(),{style:lF,clear:mJ}=xn(),{cursor:pF,erase:gJ}=He(),gx=class extends hJ{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(pF.hide):this.out.write(mJ(this.outputText,this.out.columns)),super.render(),this.outputText=[lF.symbol(this.done,this.aborted),Gf.bold(this.msg),lF.delimiter(this.done),this.value?this.inactive:Gf.cyan().underline(this.inactive),Gf.gray("/"),this.value?Gf.cyan().underline(this.active):this.active].join(" "),this.out.write(gJ.line+pF.to(0)+this.outputText))}};dF.exports=gx});var ii=D((Vge,hF)=>{"use strict";var yx=class t{constructor({token:e,date:r,parts:n,locales:i}){this.token=e,this.date=r||new Date,this.parts=n||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,n)=>n>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((n,i)=>i>r&&n instanceof t)}toString(){return String(this.date)}};hF.exports=yx});var gF=D((Kge,mF)=>{"use strict";var yJ=ii(),bx=class extends yJ{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};mF.exports=bx});var bF=D((Hge,yF)=>{"use strict";var bJ=ii(),EJ=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Ex=class extends bJ{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+EJ(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};yF.exports=Ex});var DF=D((zge,EF)=>{"use strict";var DJ=ii(),Dx=class extends DJ{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};EF.exports=Dx});var SF=D((Wge,xF)=>{"use strict";var xJ=ii(),xx=class extends xJ{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};xF.exports=xx});var CF=D((Yge,_F)=>{"use strict";var SJ=ii(),Sx=class extends SJ{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};_F.exports=Sx});var TF=D((Jge,vF)=>{"use strict";var _J=ii(),_x=class extends _J{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};vF.exports=_x});var AF=D((Xge,wF)=>{"use strict";var CJ=ii(),Cx=class extends CJ{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};wF.exports=Cx});var IF=D((Qge,PF)=>{"use strict";var vJ=ii(),vx=class extends vJ{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};PF.exports=vx});var FF=D((Zge,NF)=>{"use strict";NF.exports={DatePart:ii(),Meridiem:gF(),Day:bF(),Hours:DF(),Milliseconds:SF(),Minutes:CF(),Month:TF(),Seconds:AF(),Year:IF()}});var $F=D((eye,BF)=>{"use strict";var Tx=at(),TJ=Ki(),{style:OF,clear:kF,figures:wJ}=xn(),{erase:AJ,cursor:RF}=He(),{DatePart:MF,Meridiem:PJ,Day:IJ,Hours:NJ,Milliseconds:FJ,Minutes:OJ,Month:kJ,Seconds:RJ,Year:MJ}=FF(),LJ=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,LF={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new IJ(t),3:t=>new kJ(t),4:t=>new MJ(t),5:t=>new PJ(t),6:t=>new NJ(t),7:t=>new OJ(t),8:t=>new RJ(t),9:t=>new FJ(t)},BJ={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},wx=class extends TJ{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(BJ,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=kF("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=LJ.exec(e);){let i=r.shift(),s=r.findIndex(o=>o!=null);this.parts.push(s in LF?LF[s]({token:r[s]||i,date:this.date,parts:this.parts,locales:this.locales}):r[s]||i)}let n=this.parts.reduce((i,s)=>(typeof s=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=s:i.push(s),i),[]);this.parts.splice(0),this.parts.push(...n),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof MF)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof MF)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(RF.hide):this.out.write(kF(this.outputText,this.out.columns)),super.render(),this.outputText=[OF.symbol(this.done,this.aborted),Tx.bold(this.msg),OF.delimiter(!1),this.parts.reduce((e,r,n)=>e.concat(n===this.cursor&&!this.done?Tx.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":wJ.pointerSmall} ${Tx.red().italic(r)}`,"")),this.out.write(AJ.line+RF.to(0)+this.outputText))}};BF.exports=wx});var GF=D((tye,qF)=>{var Vf=at(),$J=Ki(),{cursor:Kf,erase:UJ}=He(),{style:Ax,figures:jJ,clear:UF,lines:qJ}=xn(),GJ=/[0-9]/,Px=t=>t!==void 0,jF=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},Ix=class extends $J{constructor(e={}){super(e),this.transform=Ax.render(e.style),this.msg=e.message,this.initial=Px(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Px(e.min)?e.min:-1/0,this.max=Px(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Vf.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${jF(e,this.round)}`),this._value=jF(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||GJ.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let n=Date.now();if(n-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=n,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Kf.down(qJ(this.outputError,this.out.columns)-1)+UF(this.outputError,this.out.columns)),this.out.write(UF(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ax.symbol(this.done,this.aborted),Vf.bold(this.msg),Ax.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Vf[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,n)=>e+`
${n?" ":jJ.pointerSmall} ${Vf.red().italic(r)}`,"")),this.out.write(UJ.line+Kf.to(0)+this.outputText+Kf.save+this.outputError+Kf.restore))}};qF.exports=Ix});var Fx=D((rye,HF)=>{"use strict";var si=at(),{cursor:VJ}=He(),KJ=Ki(),{clear:VF,figures:ks,style:KF,wrap:HJ,entriesToDisplay:zJ}=xn(),Nx=class extends KJ{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,n)=>(typeof r=="string"&&(r={title:r,value:n}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?n:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=VF("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ks.arrowUp}/${ks.arrowDown}: Highlight option
    ${ks.arrowLeft}/${ks.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,n,i){let s=(r.selected?si.green(ks.radioOn):ks.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===n?si.gray().underline(r.title):si.strikethrough().gray(r.title):(o=e===n?si.cyan().underline(r.title):r.title,e===n&&r.description&&(a=` - ${r.description}`,(s.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+HJ(r.description,{margin:s.length,width:this.out.columns})))),s+o+si.gray(a||"")}paginateOptions(e){if(e.length===0)return si.red("No matches for this query.");let{startIndex:r,endIndex:n}=zJ(this.cursor,e.length,this.optionsPerPage),i,s=[];for(let o=r;o<n;o++)o===r&&r>0?i=ks.arrowUp:o===n-1&&n<e.length?i=ks.arrowDown:i=" ",s.push(this.renderOption(this.cursor,e[o],o,i));return`
`+s.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[si.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(si.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(VJ.hide),super.render();let e=[KF.symbol(this.done,this.aborted),si.bold(this.msg),KF.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=si.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=VF(e,this.out.columns)}};HF.exports=Nx});var XF=D((nye,JF)=>{"use strict";var dl=at(),WJ=Ki(),{erase:YJ,cursor:zF}=He(),{style:Ox,clear:WF,figures:kx,wrap:JJ,entriesToDisplay:XJ}=xn(),YF=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),QJ=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),ZJ=(t,e)=>{let r=t.findIndex(n=>n.value===e||n.title===e);return r>-1?r:void 0},Rx=class extends WJ{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:ZJ(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Ox.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=WF("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=YF(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let r=this.completing=this.suggest(this.input,this.choices),n=await r;if(this.completing!==r)return;this.suggestions=n.map((s,o,a)=>({title:QJ(a,o),value:YF(a,o),description:s.description})),this.completing=!1;let i=Math.max(n.length-1,0);this.moveSelect(Math.min(i,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let n=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${n}${e}${i}`,this.cursor=n.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,n,i){let s,o=n?kx.arrowUp:i?kx.arrowDown:" ",a=r?dl.cyan().underline(e.title):e.title;return o=(r?dl.cyan(kx.pointer)+" ":"  ")+o,e.description&&(s=` - ${e.description}`,(o.length+a.length+s.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(s=`
`+JJ(e.description,{margin:3,width:this.out.columns}))),o+" "+a+dl.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(zF.hide):this.out.write(WF(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=XJ(this.select,this.choices.length,this.limit);if(this.outputText=[Ox.symbol(this.done,this.aborted,this.exited),dl.bold(this.msg),Ox.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let n=this.suggestions.slice(e,r).map((i,s)=>this.renderOption(i,this.select===s+e,s===0&&e>0,s+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(n||dl.gray(this.fallback.title))}this.out.write(YJ.line+zF.to(0)+this.outputText)}};JF.exports=Rx});var tO=D((iye,eO)=>{"use strict";var zi=at(),{cursor:eX}=He(),tX=Fx(),{clear:QF,style:ZF,figures:Ka}=xn(),Mx=class extends tX{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=QF("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(n=>this.inputValue?!!(typeof n.title=="string"&&n.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof n.value=="string"&&n.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(n=>n===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ka.arrowUp}/${Ka.arrowDown}: Highlight option
    ${Ka.arrowLeft}/${Ka.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:zi.gray("Enter something to filter")}
`}renderOption(e,r,n){let i;return r.disabled?i=e===n?zi.gray().underline(r.title):zi.strikethrough().gray(r.title):i=e===n?zi.cyan().underline(r.title):r.title,(r.selected?zi.green(Ka.radioOn):Ka.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[zi.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(zi.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(eX.hide),super.render();let e=[ZF.symbol(this.done,this.aborted),zi.bold(this.msg),ZF.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=zi.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=QF(e,this.out.columns)}};eO.exports=Mx});var oO=D((sye,sO)=>{var rO=at(),rX=Ki(),{style:nO,clear:nX}=xn(),{erase:iX,cursor:iO}=He(),Lx=class extends rX{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(iO.hide):this.out.write(nX(this.outputText,this.out.columns)),super.render(),this.outputText=[nO.symbol(this.done,this.aborted),rO.bold(this.msg),nO.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:rO.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(iX.line+iO.to(0)+this.outputText))}};sO.exports=Lx});var uO=D((oye,aO)=>{"use strict";aO.exports={TextPrompt:sF(),SelectPrompt:cF(),TogglePrompt:fF(),DatePrompt:$F(),NumberPrompt:GF(),MultiselectPrompt:Fx(),AutocompletePrompt:XF(),AutocompleteMultiselectPrompt:tO(),ConfirmPrompt:oO()}});var lO=D(cO=>{"use strict";var _r=cO,sX=uO(),Hf=t=>t;function oi(t,e,r={}){return new Promise((n,i)=>{let s=new sX[t](e),o=r.onAbort||Hf,a=r.onSubmit||Hf,u=r.onExit||Hf;s.on("state",e.onState||Hf),s.on("submit",c=>n(a(c))),s.on("exit",c=>n(u(c))),s.on("abort",c=>i(o(c)))})}_r.text=t=>oi("TextPrompt",t);_r.password=t=>(t.style="password",_r.text(t));_r.invisible=t=>(t.style="invisible",_r.text(t));_r.number=t=>oi("NumberPrompt",t);_r.date=t=>oi("DatePrompt",t);_r.confirm=t=>oi("ConfirmPrompt",t);_r.list=t=>{let e=t.separator||",";return oi("TextPrompt",t,{onSubmit:r=>r.split(e).map(n=>n.trim())})};_r.toggle=t=>oi("TogglePrompt",t);_r.select=t=>oi("SelectPrompt",t);_r.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(n=>n.selected).map(n=>n.value);return oi("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};_r.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(n=>n.selected).map(n=>n.value);return oi("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var oX=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));_r.autocomplete=t=>(t.suggest=t.suggest||oX,t.choices=[].concat(t.choices||[]),oi("AutocompletePrompt",t))});var fO=D((uye,dO)=>{"use strict";var Bx=lO(),aX=["suggest","format","onState","validate","onRender","type"],pO=()=>{};async function Rs(t=[],{onSubmit:e=pO,onCancel:r=pO}={}){let n={},i=Rs._override||{};t=[].concat(t);let s,o,a,u,c,l,p=async(d,f,h=!1)=>{if(!(!h&&d.validate&&d.validate(f)!==!0))return d.format?await d.format(f,n):f};for(o of t)if({name:u,type:c}=o,typeof c=="function"&&(c=await c(s,{...n},o),o.type=c),!!c){for(let d in o){if(aX.includes(d))continue;let f=o[d];o[d]=typeof f=="function"?await f(s,{...n},l):f}if(l=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:u,type:c}=o,Bx[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(i[o.name]!==void 0&&(s=await p(o,i[o.name]),s!==void 0)){n[u]=s;continue}try{s=Rs._injected?uX(Rs._injected,o.initial):await Bx[c](o),n[u]=s=await p(o,s,!0),a=await e(o,s,n)}catch{a=!await r(o,n)}if(a)return n}return n}function uX(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function cX(t){Rs._injected=(Rs._injected||[]).concat(t)}function lX(t){Rs._override=Object.assign({},t)}dO.exports=Object.assign(Rs,{prompt:Rs,prompts:Bx,inject:cX,override:lX})});var mO=D((cye,hO)=>{function pX(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}hO.exports=pX("8.6.0")?$1():fO()});var Uk=D((Nbe,$k)=>{function wk(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{let r=t[e],n=typeof r;(n==="object"||n==="function")&&!Object.isFrozen(r)&&wk(r)}),t}var th=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Ak(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ls(t,...e){let r=Object.create(null);for(let n in t)r[n]=t[n];return e.forEach(function(n){for(let i in n)r[i]=n[i]}),r}var GX="</span>",xk=t=>!!t.scope,VX=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){let r=t.split(".");return[`${e}${r.shift()}`,...r.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`},Vx=class{constructor(e,r){this.buffer="",this.classPrefix=r.classPrefix,e.walk(this)}addText(e){this.buffer+=Ak(e)}openNode(e){if(!xk(e))return;let r=VX(e.scope,{prefix:this.classPrefix});this.span(r)}closeNode(e){xk(e)&&(this.buffer+=GX)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}},Sk=(t={})=>{let e={children:[]};return Object.assign(e,t),e},Kx=class t{constructor(){this.rootNode=Sk(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let r=Sk({scope:e});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,r){return typeof r=="string"?e.addText(r):r.children&&(e.openNode(r),r.children.forEach(n=>this._walk(e,n)),e.closeNode(r)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(r=>typeof r=="string")?e.children=[e.children.join("")]:e.children.forEach(r=>{t._collapse(r)}))}},Hx=class extends Kx{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,r){let n=e.root;r&&(n.scope=`language:${r}`),this.add(n)}toHTML(){return new Vx(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function fl(t){return t?typeof t=="string"?t:t.source:null}function Pk(t){return Mo("(?=",t,")")}function KX(t){return Mo("(?:",t,")*")}function HX(t){return Mo("(?:",t,")?")}function Mo(...t){return t.map(r=>fl(r)).join("")}function zX(t){let e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Wx(...t){return"("+(zX(t).capture?"":"?:")+t.map(n=>fl(n)).join("|")+")"}function Ik(t){return new RegExp(t.toString()+"|").exec("").length-1}function WX(t,e){let r=t&&t.exec(e);return r&&r.index===0}var YX=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Yx(t,{joinWith:e}){let r=0;return t.map(n=>{r+=1;let i=r,s=fl(n),o="";for(;s.length>0;){let a=YX.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&r++)}return o}).map(n=>`(${n})`).join(e)}var JX=/\b\B/,Nk="[a-zA-Z]\\w*",Jx="[a-zA-Z_]\\w*",Fk="\\b\\d+(\\.\\d+)?",Ok="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",kk="\\b(0b[01]+)",XX="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",QX=(t={})=>{let e=/^#![ ]*\//;return t.binary&&(t.begin=Mo(e,/.*\b/,t.binary,/\b.*/)),Ls({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(r,n)=>{r.index!==0&&n.ignoreMatch()}},t)},hl={begin:"\\\\[\\s\\S]",relevance:0},ZX={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[hl]},eQ={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[hl]},tQ={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},nh=function(t,e,r={}){let n=Ls({scope:"comment",begin:t,end:e,contains:[]},r);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let i=Wx("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Mo(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},rQ=nh("//","$"),nQ=nh("/\\*","\\*/"),iQ=nh("#","$"),sQ={scope:"number",begin:Fk,relevance:0},oQ={scope:"number",begin:Ok,relevance:0},aQ={scope:"number",begin:kk,relevance:0},uQ={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[hl,{begin:/\[/,end:/\]/,relevance:0,contains:[hl]}]},cQ={scope:"title",begin:Nk,relevance:0},lQ={scope:"title",begin:Jx,relevance:0},pQ={begin:"\\.\\s*"+Jx,relevance:0},dQ=function(t){return Object.assign(t,{"on:begin":(e,r)=>{r.data._beginMatch=e[1]},"on:end":(e,r)=>{r.data._beginMatch!==e[1]&&r.ignoreMatch()}})},eh=Object.freeze({__proto__:null,APOS_STRING_MODE:ZX,BACKSLASH_ESCAPE:hl,BINARY_NUMBER_MODE:aQ,BINARY_NUMBER_RE:kk,COMMENT:nh,C_BLOCK_COMMENT_MODE:nQ,C_LINE_COMMENT_MODE:rQ,C_NUMBER_MODE:oQ,C_NUMBER_RE:Ok,END_SAME_AS_BEGIN:dQ,HASH_COMMENT_MODE:iQ,IDENT_RE:Nk,MATCH_NOTHING_RE:JX,METHOD_GUARD:pQ,NUMBER_MODE:sQ,NUMBER_RE:Fk,PHRASAL_WORDS_MODE:tQ,QUOTE_STRING_MODE:eQ,REGEXP_MODE:uQ,RE_STARTERS_RE:XX,SHEBANG:QX,TITLE_MODE:cQ,UNDERSCORE_IDENT_RE:Jx,UNDERSCORE_TITLE_MODE:lQ});function fQ(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function hQ(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function mQ(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=fQ,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function gQ(t,e){Array.isArray(t.illegal)&&(t.illegal=Wx(...t.illegal))}function yQ(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function bQ(t,e){t.relevance===void 0&&(t.relevance=1)}var EQ=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");let r=Object.assign({},t);Object.keys(t).forEach(n=>{delete t[n]}),t.keywords=r.keywords,t.begin=Mo(r.beforeMatch,Pk(r.begin)),t.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},t.relevance=0,delete r.beforeMatch},DQ=["of","and","for","in","not","or","if","then","parent","list","value"],xQ="keyword";function Rk(t,e,r=xQ){let n=Object.create(null);return typeof t=="string"?i(r,t.split(" ")):Array.isArray(t)?i(r,t):Object.keys(t).forEach(function(s){Object.assign(n,Rk(t[s],e,s))}),n;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){let u=a.split("|");n[u[0]]=[s,SQ(u[0],u[1])]})}}function SQ(t,e){return e?Number(e):_Q(t)?0:1}function _Q(t){return DQ.includes(t.toLowerCase())}var _k={},Ro=t=>{console.error(t)},Ck=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Wa=(t,e)=>{_k[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),_k[`${t}/${e}`]=!0)},rh=new Error;function Mk(t,e,{key:r}){let n=0,i=t[r],s={},o={};for(let a=1;a<=e.length;a++)o[a+n]=i[a],s[a+n]=!0,n+=Ik(e[a-1]);t[r]=o,t[r]._emit=s,t[r]._multi=!0}function CQ(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Ro("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),rh;if(typeof t.beginScope!="object"||t.beginScope===null)throw Ro("beginScope must be object"),rh;Mk(t,t.begin,{key:"beginScope"}),t.begin=Yx(t.begin,{joinWith:""})}}function vQ(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Ro("skip, excludeEnd, returnEnd not compatible with endScope: {}"),rh;if(typeof t.endScope!="object"||t.endScope===null)throw Ro("endScope must be object"),rh;Mk(t,t.end,{key:"endScope"}),t.end=Yx(t.end,{joinWith:""})}}function TQ(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function wQ(t){TQ(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),CQ(t),vQ(t)}function AQ(t){function e(o,a){return new RegExp(fl(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,a]),this.matchAt+=Ik(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let a=this.regexes.map(u=>u[1]);this.matcherRe=e(Yx(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;let u=this.matcherRe.exec(a);if(!u)return null;let c=u.findIndex((p,d)=>d>0&&p!==void 0),l=this.matchIndexes[c];return u.splice(0,c),Object.assign(u,l)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];let u=new r;return this.rules.slice(a).forEach(([c,l])=>u.addRule(c,l)),u.compile(),this.multiRegexes[a]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,u){this.rules.push([a,u]),u.type==="begin"&&this.count++}exec(a){let u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let c=u.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){let l=this.getMatcher(0);l.lastIndex=this.lastIndex+1,c=l.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){let a=new n;return o.contains.forEach(u=>a.addRule(u.begin,{rule:u,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){let u=o;if(o.isCompiled)return u;[hQ,yQ,wQ,EQ].forEach(l=>l(o,a)),t.compilerExtensions.forEach(l=>l(o,a)),o.__beforeBegin=null,[mQ,gQ,bQ].forEach(l=>l(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=Rk(o.keywords,t.case_insensitive)),u.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),u.beginRe=e(u.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(u.endRe=e(u.end)),u.terminatorEnd=fl(u.end)||"",o.endsWithParent&&a.terminatorEnd&&(u.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(u.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(l){return PQ(l==="self"?o:l)})),o.contains.forEach(function(l){s(l,u)}),o.starts&&s(o.starts,a),u.matcher=i(u),u}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Ls(t.classNameAliases||{}),s(t)}function Lk(t){return t?t.endsWithParent||Lk(t.starts):!1}function PQ(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Ls(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:Lk(t)?Ls(t,{starts:t.starts?Ls(t.starts):null}):Object.isFrozen(t)?Ls(t):t}var IQ="11.9.0",zx=class extends Error{constructor(e,r){super(e),this.name="HTMLInjectionError",this.html=r}},Gx=Ak,vk=Ls,Tk=Symbol("nomatch"),NQ=7,Bk=function(t){let e=Object.create(null),r=Object.create(null),n=[],i=!0,s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]},a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Hx};function u(N){return a.noHighlightRe.test(N)}function c(N){let B=N.className+" ";B+=N.parentNode?N.parentNode.className:"";let J=a.languageDetectRe.exec(B);if(J){let P=k(J[1]);return P||(Ck(s.replace("{}",J[1])),Ck("Falling back to no-highlight mode for this block.",N)),P?J[1]:"no-highlight"}return B.split(/\s+/).find(P=>u(P)||k(P))}function l(N,B,J){let P="",F="";typeof B=="object"?(P=N,J=B.ignoreIllegals,F=B.language):(Wa("10.7.0","highlight(lang, code, ...args) has been deprecated."),Wa("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),F=N,P=B),J===void 0&&(J=!0);let L={code:P,language:F};re("before:highlight",L);let V=L.result?L.result:p(L.language,L.code,J);return V.code=L.code,re("after:highlight",V),V}function p(N,B,J,P){let F=Object.create(null);function L(q,Z){return q.keywords[Z]}function V(){if(!oe.keywords){Ut.addText(Je);return}let q=0;oe.keywordPatternRe.lastIndex=0;let Z=oe.keywordPatternRe.exec(Je),fe="";for(;Z;){fe+=Je.substring(q,Z.index);let $e=jr.case_insensitive?Z[0].toLowerCase():Z[0],Wt=L(oe,$e);if(Wt){let[Di,B3]=Wt;if(Ut.addText(fe),fe="",F[$e]=(F[$e]||0)+1,F[$e]<=NQ&&(pp+=B3),Di.startsWith("_"))fe+=Z[0];else{let $3=jr.classNameAliases[Di]||Di;ce(Z[0],$3)}}else fe+=Z[0];q=oe.keywordPatternRe.lastIndex,Z=oe.keywordPatternRe.exec(Je)}fe+=Je.substring(q),Ut.addText(fe)}function de(){if(Je==="")return;let q=null;if(typeof oe.subLanguage=="string"){if(!e[oe.subLanguage]){Ut.addText(Je);return}q=p(oe.subLanguage,Je,!0,C0[oe.subLanguage]),C0[oe.subLanguage]=q._top}else q=f(Je,oe.subLanguage.length?oe.subLanguage:null);oe.relevance>0&&(pp+=q.relevance),Ut.__addSublanguage(q._emitter,q.language)}function ne(){oe.subLanguage!=null?de():V(),Je=""}function ce(q,Z){q!==""&&(Ut.startScope(Z),Ut.addText(q),Ut.endScope())}function xt(q,Z){let fe=1,$e=Z.length-1;for(;fe<=$e;){if(!q._emit[fe]){fe++;continue}let Wt=jr.classNameAliases[q[fe]]||q[fe],Di=Z[fe];Wt?ce(Di,Wt):(Je=Di,V(),Je=""),fe++}}function At(q,Z){return q.scope&&typeof q.scope=="string"&&Ut.openNode(jr.classNameAliases[q.scope]||q.scope),q.beginScope&&(q.beginScope._wrap?(ce(Je,jr.classNameAliases[q.beginScope._wrap]||q.beginScope._wrap),Je=""):q.beginScope._multi&&(xt(q.beginScope,Z),Je="")),oe=Object.create(q,{parent:{value:oe}}),oe}function yi(q,Z,fe){let $e=WX(q.endRe,fe);if($e){if(q["on:end"]){let Wt=new th(q);q["on:end"](Z,Wt),Wt.isMatchIgnored&&($e=!1)}if($e){for(;q.endsParent&&q.parent;)q=q.parent;return q}}if(q.endsWithParent)return yi(q.parent,Z,fe)}function ku(q){return oe.matcher.regexIndex===0?(Je+=q[0],1):(Nm=!0,0)}function bi(q){let Z=q[0],fe=q.rule,$e=new th(fe),Wt=[fe.__beforeBegin,fe["on:begin"]];for(let Di of Wt)if(Di&&(Di(q,$e),$e.isMatchIgnored))return ku(Z);return fe.skip?Je+=Z:(fe.excludeBegin&&(Je+=Z),ne(),!fe.returnBegin&&!fe.excludeBegin&&(Je=Z)),At(fe,q),fe.returnBegin?0:Z.length}function Ru(q){let Z=q[0],fe=B.substring(q.index),$e=yi(oe,q,fe);if(!$e)return Tk;let Wt=oe;oe.endScope&&oe.endScope._wrap?(ne(),ce(Z,oe.endScope._wrap)):oe.endScope&&oe.endScope._multi?(ne(),xt(oe.endScope,q)):Wt.skip?Je+=Z:(Wt.returnEnd||Wt.excludeEnd||(Je+=Z),ne(),Wt.excludeEnd&&(Je=Z));do oe.scope&&Ut.closeNode(),!oe.skip&&!oe.subLanguage&&(pp+=oe.relevance),oe=oe.parent;while(oe!==$e.parent);return $e.starts&&At($e.starts,q),Wt.returnEnd?0:Z.length}function Re(){let q=[];for(let Z=oe;Z!==jr;Z=Z.parent)Z.scope&&q.unshift(Z.scope);q.forEach(Z=>Ut.openNode(Z))}let Ei={};function cs(q,Z){let fe=Z&&Z[0];if(Je+=q,fe==null)return ne(),0;if(Ei.type==="begin"&&Z.type==="end"&&Ei.index===Z.index&&fe===""){if(Je+=B.slice(Z.index,Z.index+1),!i){let $e=new Error(`0 width match regex (${N})`);throw $e.languageName=N,$e.badRule=Ei.rule,$e}return 1}if(Ei=Z,Z.type==="begin")return bi(Z);if(Z.type==="illegal"&&!J){let $e=new Error('Illegal lexeme "'+fe+'" for mode "'+(oe.scope||"<unnamed>")+'"');throw $e.mode=oe,$e}else if(Z.type==="end"){let $e=Ru(Z);if($e!==Tk)return $e}if(Z.type==="illegal"&&fe==="")return 1;if(Im>1e5&&Im>Z.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Je+=fe,fe.length}let jr=k(N);if(!jr)throw Ro(s.replace("{}",N)),new Error('Unknown language: "'+N+'"');let L3=AQ(jr),Pm="",oe=P||L3,C0={},Ut=new a.__emitter(a);Re();let Je="",pp=0,Js=0,Im=0,Nm=!1;try{if(jr.__emitTokens)jr.__emitTokens(B,Ut);else{for(oe.matcher.considerAll();;){Im++,Nm?Nm=!1:oe.matcher.considerAll(),oe.matcher.lastIndex=Js;let q=oe.matcher.exec(B);if(!q)break;let Z=B.substring(Js,q.index),fe=cs(Z,q);Js=q.index+fe}cs(B.substring(Js))}return Ut.finalize(),Pm=Ut.toHTML(),{language:N,value:Pm,relevance:pp,illegal:!1,_emitter:Ut,_top:oe}}catch(q){if(q.message&&q.message.includes("Illegal"))return{language:N,value:Gx(B),illegal:!0,relevance:0,_illegalBy:{message:q.message,index:Js,context:B.slice(Js-100,Js+100),mode:q.mode,resultSoFar:Pm},_emitter:Ut};if(i)return{language:N,value:Gx(B),illegal:!1,relevance:0,errorRaised:q,_emitter:Ut,_top:oe};throw q}}function d(N){let B={value:Gx(N),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return B._emitter.addText(N),B}function f(N,B){B=B||a.languages||Object.keys(e);let J=d(N),P=B.filter(k).filter(U).map(ne=>p(ne,N,!1));P.unshift(J);let F=P.sort((ne,ce)=>{if(ne.relevance!==ce.relevance)return ce.relevance-ne.relevance;if(ne.language&&ce.language){if(k(ne.language).supersetOf===ce.language)return 1;if(k(ce.language).supersetOf===ne.language)return-1}return 0}),[L,V]=F,de=L;return de.secondBest=V,de}function h(N,B,J){let P=B&&r[B]||J;N.classList.add("hljs"),N.classList.add(`language-${P}`)}function m(N){let B=null,J=c(N);if(u(J))return;if(re("before:highlightElement",{el:N,language:J}),N.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",N);return}if(N.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(N)),a.throwUnescapedHTML))throw new zx("One of your code blocks includes unescaped HTML.",N.innerHTML);B=N;let P=B.textContent,F=J?l(P,{language:J,ignoreIllegals:!0}):f(P);N.innerHTML=F.value,N.dataset.highlighted="yes",h(N,J,F.language),N.result={language:F.language,re:F.relevance,relevance:F.relevance},F.secondBest&&(N.secondBest={language:F.secondBest.language,relevance:F.secondBest.relevance}),re("after:highlightElement",{el:N,result:F,text:P})}function g(N){a=vk(a,N)}let y=()=>{E(),Wa("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function b(){E(),Wa("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _=!1;function E(){if(document.readyState==="loading"){_=!0;return}document.querySelectorAll(a.cssSelector).forEach(m)}function x(){_&&E()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",x,!1);function S(N,B){let J=null;try{J=B(t)}catch(P){if(Ro("Language definition for '{}' could not be registered.".replace("{}",N)),i)Ro(P);else throw P;J=o}J.name||(J.name=N),e[N]=J,J.rawDefinition=B.bind(null,t),J.aliases&&R(J.aliases,{languageName:N})}function T(N){delete e[N];for(let B of Object.keys(r))r[B]===N&&delete r[B]}function w(){return Object.keys(e)}function k(N){return N=(N||"").toLowerCase(),e[N]||e[r[N]]}function R(N,{languageName:B}){typeof N=="string"&&(N=[N]),N.forEach(J=>{r[J.toLowerCase()]=B})}function U(N){let B=k(N);return B&&!B.disableAutodetect}function ie(N){N["before:highlightBlock"]&&!N["before:highlightElement"]&&(N["before:highlightElement"]=B=>{N["before:highlightBlock"](Object.assign({block:B.el},B))}),N["after:highlightBlock"]&&!N["after:highlightElement"]&&(N["after:highlightElement"]=B=>{N["after:highlightBlock"](Object.assign({block:B.el},B))})}function pe(N){ie(N),n.push(N)}function ue(N){let B=n.indexOf(N);B!==-1&&n.splice(B,1)}function re(N,B){let J=N;n.forEach(function(P){P[J]&&P[J](B)})}function ke(N){return Wa("10.7.0","highlightBlock will be removed entirely in v12.0"),Wa("10.7.0","Please use highlightElement now."),m(N)}Object.assign(t,{highlight:l,highlightAuto:f,highlightAll:E,highlightElement:m,highlightBlock:ke,configure:g,initHighlighting:y,initHighlightingOnLoad:b,registerLanguage:S,unregisterLanguage:T,listLanguages:w,getLanguage:k,registerAliases:R,autoDetection:U,inherit:vk,addPlugin:pe,removePlugin:ue}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=IQ,t.regex={concat:Mo,lookahead:Pk,either:Wx,optional:HX,anyNumberOfTimes:KX};for(let N in eh)typeof eh[N]=="object"&&wk(eh[N]);return Object.assign(t,eh),t},Ya=Bk({});Ya.newInstance=()=>Bk({});$k.exports=Ya;Ya.HighlightJS=Ya;Ya.default=Ya});var yl={};Fm(yl,{__addDisposableResource:()=>_R,__assign:()=>uh,__asyncDelegator:()=>mR,__asyncGenerator:()=>hR,__asyncValues:()=>gR,__await:()=>Qa,__awaiter:()=>uR,__classPrivateFieldGet:()=>DR,__classPrivateFieldIn:()=>SR,__classPrivateFieldSet:()=>xR,__createBinding:()=>lh,__decorate:()=>sR,__disposeResources:()=>CR,__esDecorate:()=>HQ,__exportStar:()=>lR,__extends:()=>nR,__generator:()=>cR,__importDefault:()=>ER,__importStar:()=>bR,__makeTemplateObject:()=>yR,__metadata:()=>aR,__param:()=>oR,__propKey:()=>WQ,__read:()=>sS,__rest:()=>iR,__runInitializers:()=>zQ,__setFunctionName:()=>YQ,__spread:()=>pR,__spreadArray:()=>fR,__spreadArrays:()=>dR,__values:()=>ch,default:()=>QQ});function nR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function iR(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function sR(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function oR(t,e){return function(r,n){e(r,n,t)}}function HQ(t,e,r,n,i,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),p,d=!1,f=r.length-1;f>=0;f--){var h={};for(var m in n)h[m]=m==="access"?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var g=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[u],h);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=o(g.get))&&(l.get=p),(p=o(g.set))&&(l.set=p),(p=o(g.init))&&i.unshift(p)}else(p=o(g))&&(a==="field"?i.unshift(p):l[u]=p)}c&&Object.defineProperty(c,n.name,l),d=!0}function zQ(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function WQ(t){return typeof t=="symbol"?t:"".concat(t)}function YQ(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function aR(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function uR(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})}function cR(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lR(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lh(e,t,r)}function ch(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function pR(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sS(arguments[e]));return t}function dR(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function fR(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Qa(t){return this instanceof Qa?(this.v=t,this):new Qa(t)}function hR(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(f){return new Promise(function(h,m){s.push([d,f,h,m])>1||a(d,f)})})}function a(d,f){try{u(n[d](f))}catch(h){p(s[0][3],h)}}function u(d){d.value instanceof Qa?Promise.resolve(d.value.v).then(c,l):p(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function mR(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Qa(t[i](o)),done:!1}:s?s(o):o}:s}}function gR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ch=="function"?ch(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function yR(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function bR(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lh(e,t,r);return JQ(e,t),e}function ER(t){return t&&t.__esModule?t:{default:t}}function DR(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xR(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function SR(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function _R(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function CR(t){function e(n){t.error=t.hasError?new XQ(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}var iS,uh,lh,JQ,XQ,QQ,bl=v0(()=>{iS=function(t,e){return iS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iS(t,e)};uh=function(){return uh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uh.apply(this,arguments)};lh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};JQ=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};XQ=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};QQ={__extends:nR,__assign:uh,__rest:iR,__decorate:sR,__param:oR,__metadata:aR,__awaiter:uR,__generator:cR,__createBinding:lh,__exportStar:lR,__values:ch,__read:sS,__spread:pR,__spreadArrays:dR,__spreadArray:fR,__await:Qa,__asyncGenerator:hR,__asyncDelegator:mR,__asyncValues:gR,__makeTemplateObject:yR,__importStar:bR,__importDefault:ER,__classPrivateFieldGet:DR,__classPrivateFieldSet:xR,__classPrivateFieldIn:SR,__addDisposableResource:_R,__disposeResources:CR}});var ai={};Fm(ai,{__addDisposableResource:()=>KR,__assign:()=>ph,__asyncDelegator:()=>LR,__asyncGenerator:()=>MR,__asyncValues:()=>BR,__await:()=>Za,__awaiter:()=>IR,__classPrivateFieldGet:()=>qR,__classPrivateFieldIn:()=>VR,__classPrivateFieldSet:()=>GR,__createBinding:()=>fh,__decorate:()=>wR,__disposeResources:()=>HR,__esDecorate:()=>ZQ,__exportStar:()=>FR,__extends:()=>vR,__generator:()=>NR,__importDefault:()=>jR,__importStar:()=>UR,__makeTemplateObject:()=>$R,__metadata:()=>PR,__param:()=>AR,__propKey:()=>tZ,__read:()=>aS,__rest:()=>TR,__runInitializers:()=>eZ,__setFunctionName:()=>rZ,__spread:()=>OR,__spreadArray:()=>RR,__spreadArrays:()=>kR,__values:()=>dh,default:()=>sZ});function vR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function TR(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wR(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function AR(t,e){return function(r,n){e(r,n,t)}}function ZQ(t,e,r,n,i,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),p,d=!1,f=r.length-1;f>=0;f--){var h={};for(var m in n)h[m]=m==="access"?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var g=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[u],h);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=o(g.get))&&(l.get=p),(p=o(g.set))&&(l.set=p),(p=o(g.init))&&i.unshift(p)}else(p=o(g))&&(a==="field"?i.unshift(p):l[u]=p)}c&&Object.defineProperty(c,n.name,l),d=!0}function eZ(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function tZ(t){return typeof t=="symbol"?t:"".concat(t)}function rZ(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function PR(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function IR(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})}function NR(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function FR(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fh(e,t,r)}function dh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function aS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function OR(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(aS(arguments[e]));return t}function kR(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function RR(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Za(t){return this instanceof Za?(this.v=t,this):new Za(t)}function MR(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(f){return new Promise(function(h,m){s.push([d,f,h,m])>1||a(d,f)})})}function a(d,f){try{u(n[d](f))}catch(h){p(s[0][3],h)}}function u(d){d.value instanceof Za?Promise.resolve(d.value.v).then(c,l):p(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function LR(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Za(t[i](o)),done:!1}:s?s(o):o}:s}}function BR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof dh=="function"?dh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function $R(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function UR(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fh(e,t,r);return nZ(e,t),e}function jR(t){return t&&t.__esModule?t:{default:t}}function qR(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function GR(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function VR(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function KR(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function HR(t){function e(n){t.error=t.hasError?new iZ(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}var oS,ph,fh,nZ,iZ,sZ,ui=v0(()=>{oS=function(t,e){return oS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oS(t,e)};ph=function(){return ph=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ph.apply(this,arguments)};fh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};nZ=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};iZ=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};sZ={__extends:vR,__assign:ph,__rest:TR,__decorate:wR,__param:AR,__metadata:PR,__awaiter:IR,__generator:NR,__createBinding:fh,__exportStar:FR,__values:dh,__read:aS,__spread:OR,__spreadArrays:kR,__spreadArray:RR,__await:Za,__asyncGenerator:MR,__asyncDelegator:LR,__asyncValues:BR,__makeTemplateObject:$R,__importStar:UR,__importDefault:jR,__classPrivateFieldGet:qR,__classPrivateFieldSet:GR,__classPrivateFieldIn:VR,__addDisposableResource:KR,__disposeResources:HR}});var zR=D(_n=>{Object.defineProperty(_n,"__esModule",{value:!0});_n.SpecialEventType=_n.RevenueProperty=_n.IdentifyOperation=void 0;var oZ;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(oZ=_n.IdentifyOperation||(_n.IdentifyOperation={}));var aZ;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(aZ=_n.RevenueProperty||(_n.RevenueProperty={}));var uZ;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(uZ=_n.SpecialEventType||(_n.SpecialEventType={}))});var WR=D(El=>{Object.defineProperty(El,"__esModule",{value:!0});El.LogLevel=void 0;var cZ;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(cZ=El.LogLevel||(El.LogLevel={}))});var YR=D(Dl=>{Object.defineProperty(Dl,"__esModule",{value:!0});Dl.PluginType=void 0;var lZ;(function(t){t.BEFORE="before",t.ENRICHMENT="enrichment",t.DESTINATION="destination"})(lZ=Dl.PluginType||(Dl.PluginType={}))});var JR=D(xl=>{Object.defineProperty(xl,"__esModule",{value:!0});xl.ServerZone=void 0;var pZ;(function(t){t.US="US",t.EU="EU",t.STAGING="STAGING"})(pZ=xl.ServerZone||(xl.ServerZone={}))});var XR=D(Sl=>{Object.defineProperty(Sl,"__esModule",{value:!0});Sl.Status=void 0;var dZ;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(dZ=Sl.Status||(Sl.Status={}))});var QR=D(_l=>{Object.defineProperty(_l,"__esModule",{value:!0});_l.TransportType=void 0;var fZ;(function(t){t.XHR="xhr",t.SendBeacon="beacon",t.Fetch="fetch"})(fZ=_l.TransportType||(_l.TransportType={}))});var Lr=D(Mt=>{Object.defineProperty(Mt,"__esModule",{value:!0});Mt.TransportType=Mt.Status=Mt.ServerZone=Mt.PluginType=Mt.LogLevel=Mt.RevenueProperty=Mt.IdentifyOperation=Mt.SpecialEventType=void 0;var uS=zR();Object.defineProperty(Mt,"SpecialEventType",{enumerable:!0,get:function(){return uS.SpecialEventType}});Object.defineProperty(Mt,"IdentifyOperation",{enumerable:!0,get:function(){return uS.IdentifyOperation}});Object.defineProperty(Mt,"RevenueProperty",{enumerable:!0,get:function(){return uS.RevenueProperty}});var hZ=WR();Object.defineProperty(Mt,"LogLevel",{enumerable:!0,get:function(){return hZ.LogLevel}});var mZ=YR();Object.defineProperty(Mt,"PluginType",{enumerable:!0,get:function(){return mZ.PluginType}});var gZ=JR();Object.defineProperty(Mt,"ServerZone",{enumerable:!0,get:function(){return gZ.ServerZone}});var yZ=XR();Object.defineProperty(Mt,"Status",{enumerable:!0,get:function(){return yZ.Status}});var bZ=QR();Object.defineProperty(Mt,"TransportType",{enumerable:!0,get:function(){return bZ.TransportType}})});var Cl=D(Kt=>{Object.defineProperty(Kt,"__esModule",{value:!0});Kt.EU_AMPLITUDE_BATCH_SERVER_URL=Kt.AMPLITUDE_BATCH_SERVER_URL=Kt.EU_AMPLITUDE_SERVER_URL=Kt.AMPLITUDE_SERVER_URL=Kt.STORAGE_PREFIX=Kt.AMPLITUDE_PREFIX=Kt.UNSET_VALUE=void 0;Kt.UNSET_VALUE="-";Kt.AMPLITUDE_PREFIX="AMP";Kt.STORAGE_PREFIX="".concat(Kt.AMPLITUDE_PREFIX,"_unsent");Kt.AMPLITUDE_SERVER_URL="https://api2.amplitude.com/2/httpapi";Kt.EU_AMPLITUDE_SERVER_URL="https://api.eu.amplitude.com/2/httpapi";Kt.AMPLITUDE_BATCH_SERVER_URL="https://api2.amplitude.com/batch";Kt.EU_AMPLITUDE_BATCH_SERVER_URL="https://api.eu.amplitude.com/batch"});var cS=D(Yi=>{Object.defineProperty(Yi,"__esModule",{value:!0});Yi.isValidProperties=Yi.isValidObject=void 0;var EZ=(ui(),yr(ai)),DZ=1e3,xZ=function(t){if(Object.keys(t).length>DZ)return!1;for(var e in t){var r=t[e];if(!(0,Yi.isValidProperties)(e,r))return!1}return!0};Yi.isValidObject=xZ;var SZ=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var s=EZ.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if(typeof a=="object")i=i&&(0,Yi.isValidObject)(a);else if(!["number","string"].includes(typeof a))return!1;if(!i)return!1}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return(0,Yi.isValidObject)(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};Yi.isValidProperties=SZ});var lS=D(hh=>{Object.defineProperty(hh,"__esModule",{value:!0});hh.Identify=void 0;var _Z=(ui(),yr(ai)),vr=Lr(),ZR=Cl(),CZ=cS(),vZ=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return _Z.__assign({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(vr.IdentifyOperation.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(vr.IdentifyOperation.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(vr.IdentifyOperation.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(vr.IdentifyOperation.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(vr.IdentifyOperation.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(vr.IdentifyOperation.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(vr.IdentifyOperation.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(vr.IdentifyOperation.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(vr.IdentifyOperation.UNSET,e,ZR.UNSET_VALUE),this},t.prototype.clearAll=function(){return this._properties={},this._properties[vr.IdentifyOperation.CLEAR_ALL]=ZR.UNSET_VALUE,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[vr.IdentifyOperation.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===vr.IdentifyOperation.ADD?typeof n=="number":e!==vr.IdentifyOperation.UNSET&&e!==vr.IdentifyOperation.REMOVE?(0,CZ.isValidProperties)(r,n):!0},t}();hh.Identify=vZ});var pS=D(rn=>{Object.defineProperty(rn,"__esModule",{value:!0});rn.createRevenueEvent=rn.createGroupEvent=rn.createGroupIdentifyEvent=rn.createIdentifyEvent=rn.createTrackEvent=void 0;var Cn=(ui(),yr(ai)),mh=Lr(),TZ=lS(),wZ=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return Cn.__assign(Cn.__assign(Cn.__assign({},n),r),e&&{event_properties:e})};rn.createTrackEvent=wZ;var AZ=function(t,e){var r=Cn.__assign(Cn.__assign({},e),{event_type:mh.SpecialEventType.IDENTIFY,user_properties:t.getUserProperties()});return r};rn.createIdentifyEvent=AZ;var PZ=function(t,e,r,n){var i,s=Cn.__assign(Cn.__assign({},n),{event_type:mh.SpecialEventType.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return s};rn.createGroupIdentifyEvent=PZ;var IZ=function(t,e,r){var n,i=new TZ.Identify;i.set(t,e);var s=Cn.__assign(Cn.__assign({},r),{event_type:mh.SpecialEventType.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return s};rn.createGroupEvent=IZ;var NZ=function(t,e){return Cn.__assign(Cn.__assign({},e),{event_type:mh.SpecialEventType.REVENUE,event_properties:t.getEventProperties()})};rn.createRevenueEvent=NZ});var yh=D(gh=>{Object.defineProperty(gh,"__esModule",{value:!0});gh.buildResult=void 0;var FZ=Lr(),OZ=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=FZ.Status.Unknown),{event:t,code:e,message:r}};gh.buildResult=OZ});var e2=D(Eh=>{Object.defineProperty(Eh,"__esModule",{value:!0});Eh.Timeline=void 0;var er=(ui(),yr(ai)),bh=Lr(),kZ=yh(),RZ=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){return er.__awaiter(this,void 0,void 0,function(){return er.__generator(this,function(n){switch(n.label){case 0:return[4,e.setup(r,this.client)];case 1:return n.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var r;return er.__awaiter(this,void 0,void 0,function(){var n,i;return er.__generator(this,function(s){switch(s.label){case 0:return n=this.plugins.findIndex(function(o){return o.name===e}),i=this.plugins[n],this.plugins.splice(n,1),[4,(r=i.teardown)===null||r===void 0?void 0:r.call(i)];case 1:return s.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return er.__awaiter(this,void 0,void 0,function(){var r,n,i,s,o,a,u,f,h,c,l,p,d,f,h,m,g,y,b,_,E,x;return er.__generator(this,function(S){switch(S.label){case 0:if(!e)return[2];r=er.__read(e,1),n=r[0],i=er.__read(e,2),s=i[1],o=this.plugins.filter(function(T){return T.type===bh.PluginType.BEFORE}),S.label=1;case 1:S.trys.push([1,6,7,8]),a=er.__values(o),u=a.next(),S.label=2;case 2:return u.done?[3,5]:(f=u.value,[4,f.execute(er.__assign({},n))]);case 3:if(h=S.sent(),h===null)return s({event:n,code:0,message:""}),[2];n=h,S.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return c=S.sent(),b={error:c},[3,8];case 7:try{u&&!u.done&&(_=a.return)&&_.call(a)}finally{if(b)throw b.error}return[7];case 8:l=this.plugins.filter(function(T){return T.type===bh.PluginType.ENRICHMENT}),S.label=9;case 9:S.trys.push([9,14,15,16]),p=er.__values(l),d=p.next(),S.label=10;case 10:return d.done?[3,13]:(f=d.value,[4,f.execute(er.__assign({},n))]);case 11:if(h=S.sent(),h===null)return s({event:n,code:0,message:""}),[2];n=h,S.label=12;case 12:return d=p.next(),[3,10];case 13:return[3,16];case 14:return m=S.sent(),E={error:m},[3,16];case 15:try{d&&!d.done&&(x=p.return)&&x.call(p)}finally{if(E)throw E.error}return[7];case 16:return g=this.plugins.filter(function(T){return T.type===bh.PluginType.DESTINATION}),y=g.map(function(T){var w=er.__assign({},n);return T.execute(w).catch(function(k){return(0,kZ.buildResult)(w,0,String(k))})}),Promise.all(y).then(function(T){var w=er.__read(T,1),k=w[0];s(k)}),[2]}})})},t.prototype.flush=function(){return er.__awaiter(this,void 0,void 0,function(){var e,r,n,i=this;return er.__generator(this,function(s){switch(s.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(o){return i.apply(o)}))];case 1:return s.sent(),r=this.plugins.filter(function(o){return o.type===bh.PluginType.DESTINATION}),n=r.map(function(o){return o.flush&&o.flush()}),[4,Promise.all(n)];case 2:return s.sent(),[2]}})})},t}();Eh.Timeline=RZ});var dS=D(tr=>{Object.defineProperty(tr,"__esModule",{value:!0});tr.CLIENT_NOT_INITIALIZED=tr.INVALID_API_KEY=tr.MISSING_API_KEY_MESSAGE=tr.OPT_OUT_MESSAGE=tr.MAX_RETRIES_EXCEEDED_MESSAGE=tr.UNEXPECTED_ERROR_MESSAGE=tr.SUCCESS_MESSAGE=void 0;tr.SUCCESS_MESSAGE="Event tracked successfully";tr.UNEXPECTED_ERROR_MESSAGE="Unexpected error occurred";tr.MAX_RETRIES_EXCEEDED_MESSAGE="Event rejected due to exceeded retry count";tr.OPT_OUT_MESSAGE="Event skipped due to optOut config";tr.MISSING_API_KEY_MESSAGE="Event rejected due to missing API key";tr.INVALID_API_KEY="Invalid API key";tr.CLIENT_NOT_INITIALIZED="Client not initialized"});var fS=D(Dh=>{Object.defineProperty(Dh,"__esModule",{value:!0});Dh.returnWrapper=void 0;var MZ=function(t){return{promise:t||Promise.resolve()}};Dh.returnWrapper=MZ});var r2=D(xh=>{Object.defineProperty(xh,"__esModule",{value:!0});xh.AmplitudeCore=void 0;var Ji=(ui(),yr(ai)),vl=pS(),LZ=e2(),hS=yh(),t2=dS(),ci=fS(),BZ=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new LZ.Timeline(this),this.name=e}return t.prototype._init=function(e){return Ji.__awaiter(this,void 0,void 0,function(){return Ji.__generator(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return Ji.__awaiter(this,void 0,void 0,function(){var r,n,i,s,o,a,u;return Ji.__generator(this,function(c){switch(c.label){case 0:r=this[e],this[e]=[],c.label=1;case 1:c.trys.push([1,6,7,8]),n=Ji.__values(r),i=n.next(),c.label=2;case 2:return i.done?[3,5]:(s=i.value,[4,s()]);case 3:c.sent(),c.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return o=c.sent(),a={error:o},[3,8];case 7:try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,r,n){var i=(0,vl.createTrackEvent)(e,r,n);return(0,ci.returnWrapper)(this.dispatch(i))},t.prototype.identify=function(e,r){var n=(0,vl.createIdentifyEvent)(e,r);return(0,ci.returnWrapper)(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,i){var s=(0,vl.createGroupIdentifyEvent)(e,r,n,i);return(0,ci.returnWrapper)(this.dispatch(s))},t.prototype.setGroup=function(e,r,n){var i=(0,vl.createGroupEvent)(e,r,n);return(0,ci.returnWrapper)(this.dispatch(i))},t.prototype.revenue=function(e,r){var n=(0,vl.createRevenueEvent)(e,r);return(0,ci.returnWrapper)(this.dispatch(n))},t.prototype.add=function(e){return this.config?(0,ci.returnWrapper)(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),(0,ci.returnWrapper)())},t.prototype.remove=function(e){return this.config?(0,ci.returnWrapper)(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),(0,ci.returnWrapper)())},t.prototype.dispatchWithCallback=function(e,r){if(!this.config)return r((0,hS.buildResult)(e,0,t2.CLIENT_NOT_INITIALIZED));this.process(e).then(r)},t.prototype.dispatch=function(e){return Ji.__awaiter(this,void 0,void 0,function(){var r=this;return Ji.__generator(this,function(n){return this.config?[2,this.process(e)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]})})},t.prototype.process=function(e){return Ji.__awaiter(this,void 0,void 0,function(){var i,r,n,i;return Ji.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,(0,hS.buildResult)(e,0,t2.OPT_OUT_MESSAGE)]:[4,this.timeline.push(e)];case 1:return i=s.sent(),i.code===200?this.config.loggerProvider.log(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=s.sent(),this.config.loggerProvider.error(r),n=String(r),i=(0,hS.buildResult)(e,0,n),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return(0,ci.returnWrapper)(this.timeline.flush())},t}();xh.AmplitudeCore=BZ});var n2=D(Sh=>{Object.defineProperty(Sh,"__esModule",{value:!0});Sh.Revenue=void 0;var $Z=(ui(),yr(ai)),Tl=Lr(),UZ=cS(),jZ=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return(0,UZ.isValidObject)(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?$Z.__assign({},this.properties):{};return e[Tl.RevenueProperty.REVENUE_PRODUCT_ID]=this.productId,e[Tl.RevenueProperty.REVENUE_QUANTITY]=this.quantity,e[Tl.RevenueProperty.REVENUE_PRICE]=this.price,e[Tl.RevenueProperty.REVENUE_TYPE]=this.revenueType,e[Tl.RevenueProperty.REVENUE]=this.revenue,e},t}();Sh.Revenue=jZ});var i2=D(_h=>{Object.defineProperty(_h,"__esModule",{value:!0});_h.chunk=void 0;var qZ=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,s){var o=Math.floor(s/r);return n[o]||(n[o]=[]),n[o].push(i),n},[])};_h.chunk=qZ});var mS=D(vh=>{Object.defineProperty(vh,"__esModule",{value:!0});vh.Logger=void 0;var Bo=Lr(),Ch="Amplitude Logger ",GZ=function(){function t(){this.logLevel=Bo.LogLevel.None}return t.prototype.disable=function(){this.logLevel=Bo.LogLevel.None},t.prototype.enable=function(e){e===void 0&&(e=Bo.LogLevel.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Bo.LogLevel.Verbose||console.log("".concat(Ch,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Bo.LogLevel.Warn||console.warn("".concat(Ch,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Bo.LogLevel.Error||console.error("".concat(Ch,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Bo.LogLevel.Debug||console.log("".concat(Ch,"[Debug]: ").concat(e.join(" ")))},t}();vh.Logger=GZ});var yS=D(rr=>{Object.defineProperty(rr,"__esModule",{value:!0});rr.createServerConfig=rr.getServerUrl=rr.Config=rr.getDefaultConfig=void 0;var gS=Lr(),wl=Cl(),VZ=mS(),KZ=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:gS.LogLevel.Warn,loggerProvider:new VZ.Logger,optOut:!1,serverUrl:wl.AMPLITUDE_SERVER_URL,serverZone:gS.ServerZone.US,useBatch:!1}};rr.getDefaultConfig=KZ;var HZ=function(){function t(e){var r,n,i,s;this._optOut=!1;var o=(0,rr.getDefaultConfig)();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(s=e.useBatch)!==null&&s!==void 0?s:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=(0,rr.createServerConfig)(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();rr.Config=HZ;var zZ=function(t,e){return t===gS.ServerZone.EU?e?wl.EU_AMPLITUDE_BATCH_SERVER_URL:wl.EU_AMPLITUDE_SERVER_URL:e?wl.AMPLITUDE_BATCH_SERVER_URL:wl.AMPLITUDE_SERVER_URL};rr.getServerUrl=zZ;var WZ=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=(0,rr.getDefaultConfig)().serverZone),r===void 0&&(r=(0,rr.getDefaultConfig)().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:(0,rr.getDefaultConfig)().serverZone;return{serverZone:n,serverUrl:(0,rr.getServerUrl)(n,r)}};rr.createServerConfig=WZ});var s2=D(eu=>{Object.defineProperty(eu,"__esModule",{value:!0});eu.Destination=eu.getResponseBodyString=void 0;var ct=(ui(),yr(ai)),Al=Lr(),Pl=dS(),YZ=Cl(),JZ=i2(),XZ=yh(),QZ=yS();function ZZ(t){return t instanceof Error?t.message:String(t)}function Il(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body))}catch{}return e}eu.getResponseBodyString=Il;var eee=function(){function t(){this.name="amplitude",this.type=Al.PluginType.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var r;return ct.__awaiter(this,void 0,void 0,function(){var n,i=this;return ct.__generator(this,function(s){switch(s.label){case 0:return this.config=e,this.storageKey="".concat(YZ.STORAGE_PREFIX,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=s.sent(),this.saveEvents(),n&&n.length>0&&Promise.all(n.map(function(o){return i.execute(o)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(s){return n(s)},timeout:0};r.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.filter(function(s){return s.attempts<e.config.flushMaxRetries?(s.attempts+=1,!0):(e.fulfillRequest([s],500,Pl.MAX_RETRIES_EXCEEDED_MESSAGE),!1)});i.forEach(function(s){if(e.queue=e.queue.concat(s),s.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){s.timeout=0,e.schedule(0)},s.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var r=this;this.scheduled||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),ct.__awaiter(this,void 0,void 0,function(){var r,n,i,s=this;return ct.__generator(this,function(o){switch(o.label){case 0:return r=[],n=[],this.queue.forEach(function(a){return a.timeout===0?r.push(a):n.push(a)}),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=(0,JZ.chunk)(r,this.config.flushQueueSize),[4,Promise.all(i.map(function(a){return s.send(a,e)}))];case 1:return o.sent(),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),ct.__awaiter(this,void 0,void 0,function(){var n,i,s,o,a;return ct.__generator(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,Pl.MISSING_API_KEY_MESSAGE)];n={api_key:this.config.apiKey,events:e.map(function(c){var l=c.event,p=l.extra,d=ct.__rest(l,["extra"]);return d}),options:{min_id_length:this.config.minIdLength}},u.label=1;case 1:return u.trys.push([1,3,,4]),i=(0,QZ.createServerConfig)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return s=u.sent(),s===null?(this.fulfillRequest(e,0,Pl.UNEXPECTED_ERROR_MESSAGE),[2]):r?(this.handleResponse(s,e),[3,4]):("body"in s?this.fulfillRequest(e,s.statusCode,"".concat(s.status,": ").concat(Il(s))):this.fulfillRequest(e,s.statusCode,s.status),[2]);case 3:return o=u.sent(),this.config.loggerProvider.error(o),a=ZZ(o),this.fulfillRequest(e,0,a),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case Al.Status.Success:{this.handleSuccessResponse(e,r);break}case Al.Status.Invalid:{this.handleInvalidResponse(e,r);break}case Al.Status.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case Al.Status.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Pl.SUCCESS_MESSAGE)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(Pl.INVALID_API_KEY)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=ct.__spreadArray(ct.__spreadArray(ct.__spreadArray(ct.__spreadArray([],ct.__read(Object.values(e.body.eventsWithInvalidFields)),!1),ct.__read(Object.values(e.body.eventsWithMissingFields)),!1),ct.__read(Object.values(e.body.eventsWithInvalidIdLengths)),!1),ct.__read(e.body.silencedEvents),!1).flat(),s=new Set(i),o=r.filter(function(a,u){if(s.has(u)){n.fulfillRequest([a],e.statusCode,e.body.error);return}return!0});o.length>0&&this.config.loggerProvider.warn(Il(e)),this.addToQueue.apply(this,ct.__spreadArray([],ct.__read(o),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Il(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,ct.__spreadArray([],ct.__read(r),!1))},t.prototype.handleRateLimitResponse=function(e,r){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),s=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(i),u=new Set(s),c=new Set(o),l=r.filter(function(p,d){if(p.event.user_id&&a.has(p.event.user_id)||p.event.device_id&&u.has(p.event.device_id)){n.fulfillRequest([p],e.statusCode,e.body.error);return}return c.has(d)&&(p.timeout=n.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Il(e)),this.addToQueue.apply(this,ct.__spreadArray([],ct.__read(l),!1))},t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,ct.__spreadArray([],ct.__read(e.map(function(n){return n.timeout=n.attempts*r.retryTimeout,n})),!1))},t.prototype.fulfillRequest=function(e,r,n){this.saveEvents(),e.forEach(function(i){return i.callback((0,XZ.buildResult)(i.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(r){return r.event}));this.config.storageProvider.set(this.storageKey,e)}},t}();eu.Destination=eee});var o2=D(Tr=>{Object.defineProperty(Tr,"__esModule",{value:!0});Tr.debugWrapper=Tr.getClientStates=Tr.getValueByStringPath=Tr.getClientLogConfig=Tr.getStacktrace=void 0;var bS=(ui(),yr(ai)),tee=Lr(),ree=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(r){return r.trim()})};Tr.getStacktrace=ree;var nee=function(t){return function(){var e=bS.__assign({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}};Tr.getClientLogConfig=nee;var iee=function(t,e){var r,n;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var i=bS.__values(e.split(".")),s=i.next();!s.done;s=i.next()){var o=s.value;if(o in t)t=t[o];else return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t};Tr.getValueByStringPath=iee;var see=function(t,e){return function(){var r,n,i={};try{for(var s=bS.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;i[a]=(0,Tr.getValueByStringPath)(t,a)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}};Tr.getClientStates=see;var oee=function(t,e,r,n,i){return i===void 0&&(i=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=r(),u=a.logger,c=a.logLevel;if(c&&c<tee.LogLevel.Debug||!c||!u)return t.apply(i,s);var l={type:"invoke public method",name:e,args:s,stacktrace:(0,Tr.getStacktrace)(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var p=t.apply(i,s);return p&&p.promise?p.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))),p}};Tr.debugWrapper=oee});var a2=D(Nl=>{Object.defineProperty(Nl,"__esModule",{value:!0});Nl.UUID=void 0;var aee=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Nl.UUID)};Nl.UUID=aee});var u2=D(Th=>{Object.defineProperty(Th,"__esModule",{value:!0});Th.MemoryStorage=void 0;var nn=(ui(),yr(ai)),uee=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return nn.__awaiter(this,void 0,void 0,function(){return nn.__generator(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return nn.__awaiter(this,void 0,void 0,function(){return nn.__generator(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return nn.__awaiter(this,void 0,void 0,function(){var r;return nn.__generator(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return nn.__awaiter(this,void 0,void 0,function(){return nn.__generator(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return nn.__awaiter(this,void 0,void 0,function(){return nn.__generator(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return nn.__awaiter(this,void 0,void 0,function(){return nn.__generator(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();Th.MemoryStorage=uee});var c2=D(wh=>{Object.defineProperty(wh,"__esModule",{value:!0});wh.BaseTransport=void 0;var sn=Lr(),cee=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,s,o,a,u,c,l,p,d,f,h,m,g,y,b,_,E,x,S,T;if(typeof e!="object")return null;var w=e.code||0,k=this.buildStatus(w);switch(k){case sn.Status.Success:return{status:k,statusCode:w,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case sn.Status.Invalid:return{status:k,statusCode:w,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(o=e.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(c=e.events_with_invalid_id_lengths)!==null&&c!==void 0?c:{},epsThreshold:(l=e.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(p=e.exceeded_daily_quota_devices)!==null&&p!==void 0?p:{},silencedDevices:(d=e.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(f=e.silenced_events)!==null&&f!==void 0?f:[],throttledDevices:(h=e.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(m=e.throttled_events)!==null&&m!==void 0?m:[]}};case sn.Status.PayloadTooLarge:return{status:k,statusCode:w,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case sn.Status.RateLimit:return{status:k,statusCode:w,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(b=e.eps_threshold)!==null&&b!==void 0?b:0,throttledDevices:(_=e.throttled_devices)!==null&&_!==void 0?_:{},throttledUsers:(E=e.throttled_users)!==null&&E!==void 0?E:{},exceededDailyQuotaDevices:(x=e.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(S=e.exceeded_daily_quota_users)!==null&&S!==void 0?S:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case sn.Status.Timeout:default:return{status:k,statusCode:w}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?sn.Status.Success:e===429?sn.Status.RateLimit:e===413?sn.Status.PayloadTooLarge:e===408?sn.Status.Timeout:e>=400&&e<500?sn.Status.Invalid:e>=500?sn.Status.Failed:sn.Status.Unknown},t}();wh.BaseTransport=cee});var tu=D(Te=>{Object.defineProperty(Te,"__esModule",{value:!0});Te.createIdentifyEvent=Te.BaseTransport=Te.MemoryStorage=Te.UUID=Te.getClientStates=Te.getClientLogConfig=Te.debugWrapper=Te.returnWrapper=Te.STORAGE_PREFIX=Te.AMPLITUDE_PREFIX=Te.Logger=Te.Config=Te.Destination=Te.Revenue=Te.Identify=Te.AmplitudeCore=void 0;var lee=r2();Object.defineProperty(Te,"AmplitudeCore",{enumerable:!0,get:function(){return lee.AmplitudeCore}});var pee=lS();Object.defineProperty(Te,"Identify",{enumerable:!0,get:function(){return pee.Identify}});var dee=n2();Object.defineProperty(Te,"Revenue",{enumerable:!0,get:function(){return dee.Revenue}});var fee=s2();Object.defineProperty(Te,"Destination",{enumerable:!0,get:function(){return fee.Destination}});var hee=yS();Object.defineProperty(Te,"Config",{enumerable:!0,get:function(){return hee.Config}});var mee=mS();Object.defineProperty(Te,"Logger",{enumerable:!0,get:function(){return mee.Logger}});var l2=Cl();Object.defineProperty(Te,"AMPLITUDE_PREFIX",{enumerable:!0,get:function(){return l2.AMPLITUDE_PREFIX}});Object.defineProperty(Te,"STORAGE_PREFIX",{enumerable:!0,get:function(){return l2.STORAGE_PREFIX}});var gee=fS();Object.defineProperty(Te,"returnWrapper",{enumerable:!0,get:function(){return gee.returnWrapper}});var ES=o2();Object.defineProperty(Te,"debugWrapper",{enumerable:!0,get:function(){return ES.debugWrapper}});Object.defineProperty(Te,"getClientLogConfig",{enumerable:!0,get:function(){return ES.getClientLogConfig}});Object.defineProperty(Te,"getClientStates",{enumerable:!0,get:function(){return ES.getClientStates}});var yee=a2();Object.defineProperty(Te,"UUID",{enumerable:!0,get:function(){return yee.UUID}});var bee=u2();Object.defineProperty(Te,"MemoryStorage",{enumerable:!0,get:function(){return bee.MemoryStorage}});var Eee=c2();Object.defineProperty(Te,"BaseTransport",{enumerable:!0,get:function(){return Eee.BaseTransport}});var Dee=pS();Object.defineProperty(Te,"createIdentifyEvent",{enumerable:!0,get:function(){return Dee.createIdentifyEvent}})});var p2=D(Ah=>{Object.defineProperty(Ah,"__esModule",{value:!0});Ah.VERSION=void 0;Ah.VERSION="1.3.5"});var d2=D(Ph=>{Object.defineProperty(Ph,"__esModule",{value:!0});Ph.Context=void 0;var DS=(bl(),yr(yl)),xee=Lr(),See=tu(),_ee=p2(),Cee=function(){function t(){this.name="context",this.type=xee.PluginType.BEFORE,this.eventId=0,this.library="amplitude-node-ts/".concat(_ee.VERSION)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i=new Date().getTime(),s=DS.__assign(DS.__assign(DS.__assign({time:i,insert_id:(0,See.UUID)(),plan:r.config.plan},r.config.ingestionMetadata&&{ingestion_metadata:{source_name:r.config.ingestionMetadata.sourceName,source_version:r.config.ingestionMetadata.sourceVersion}}),e),{event_id:r.eventId++,library:r.library});return n(s)})},t}();Ph.Context=Cee});var f2=D(Ih=>{Object.defineProperty(Ih,"__esModule",{value:!0});Ih.Http=void 0;var vee=(bl(),yr(yl)),Tee=tu(),wee=require("http"),Aee=require("https"),Pee=function(t){vee.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){var i=this,s;if(r.startsWith("http://"))s=wee;else if(r.startsWith("https://"))s=Aee;else throw new Error("Invalid server url");var o=new URL(r),a=JSON.stringify(n),u={headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(a)},hostname:o.hostname,method:"POST",path:o.pathname,port:o.port,protocol:o.protocol};return new Promise(function(c){var l=s.request(u,function(p){p.setEncoding("utf8");var d="";p.on("data",function(f){d+=f}),p.on("end",function(){if(p.complete&&d.length>0)try{var f=JSON.parse(d),h=i.buildResponse(f);c(h);return}catch{c(null)}})});l.on("error",function(){return c(null)}),l.end(a)})},e}(Tee.BaseTransport);Ih.Http=Pee});var m2=D(ru=>{Object.defineProperty(ru,"__esModule",{value:!0});ru.useNodeConfig=ru.NodeConfig=void 0;var xS=(bl(),yr(yl)),Iee=tu(),Nee=f2(),h2=function(t){xS.__extends(e,t);function e(r,n){return t.call(this,xS.__assign(xS.__assign({transportProvider:new Nee.Http},n),{apiKey:r}))||this}return e}(Iee.Config);ru.NodeConfig=h2;var Fee=function(t,e){return new h2(t,e)};ru.useNodeConfig=Fee});var SS=D(Bs=>{Object.defineProperty(Bs,"__esModule",{value:!0});Bs.createInstance=Bs.AmplitudeNode=void 0;var nu=(bl(),yr(yl)),xe=tu(),Oee=d2(),kee=m2(),g2=function(t){nu.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n){return r===void 0&&(r=""),(0,xe.returnWrapper)(this._init(nu.__assign(nu.__assign({},n),{apiKey:r})))},e.prototype._init=function(r){return nu.__awaiter(this,void 0,void 0,function(){var n;return nu.__generator(this,function(i){switch(i.label){case 0:return this.initializing?[2]:(this.initializing=!0,n=(0,kee.useNodeConfig)(r.apiKey,nu.__assign({},r)),[4,t.prototype._init.call(this,n)]);case 1:return i.sent(),[4,this.add(new xe.Destination).promise];case 2:return i.sent(),[4,this.add(new Oee.Context).promise];case 3:return i.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 4:return i.sent(),[2]}})})},e}(xe.AmplitudeCore);Bs.AmplitudeNode=g2;var Ree=function(){var t=new g2;return{init:(0,xe.debugWrapper)(t.init.bind(t),"init",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config"])),add:(0,xe.debugWrapper)(t.add.bind(t),"add",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.plugins"])),remove:(0,xe.debugWrapper)(t.remove.bind(t),"remove",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.plugins"])),track:(0,xe.debugWrapper)(t.track.bind(t),"track",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),logEvent:(0,xe.debugWrapper)(t.logEvent.bind(t),"logEvent",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),identify:(0,xe.debugWrapper)(t.identify.bind(t),"identify",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),groupIdentify:(0,xe.debugWrapper)(t.groupIdentify.bind(t),"groupIdentify",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),setGroup:(0,xe.debugWrapper)(t.setGroup.bind(t),"setGroup",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),revenue:(0,xe.debugWrapper)(t.revenue.bind(t),"revenue",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),flush:(0,xe.debugWrapper)(t.flush.bind(t),"flush",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config.apiKey","timeline.queue.length"])),setOptOut:(0,xe.debugWrapper)(t.setOptOut.bind(t),"setOptOut",(0,xe.getClientLogConfig)(t),(0,xe.getClientStates)(t,["config"]))}};Bs.createInstance=Ree;Bs.default=(0,Bs.createInstance)()});var Nh=D(Ie=>{Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Types=Ie.Identify=Ie.Revenue=Ie.flush=Ie.track=Ie.setOptOut=Ie.setGroup=Ie.revenue=Ie.remove=Ie.logEvent=Ie.init=Ie.identify=Ie.groupIdentify=Ie.add=Ie.createInstance=void 0;var vn=SS(),Mee=SS();Object.defineProperty(Ie,"createInstance",{enumerable:!0,get:function(){return Mee.createInstance}});Ie.add=vn.default.add,Ie.groupIdentify=vn.default.groupIdentify,Ie.identify=vn.default.identify,Ie.init=vn.default.init,Ie.logEvent=vn.default.logEvent,Ie.remove=vn.default.remove,Ie.revenue=vn.default.revenue,Ie.setGroup=vn.default.setGroup,Ie.setOptOut=vn.default.setOptOut,Ie.track=vn.default.track,Ie.flush=vn.default.flush;var y2=tu();Object.defineProperty(Ie,"Revenue",{enumerable:!0,get:function(){return y2.Revenue}});Object.defineProperty(Ie,"Identify",{enumerable:!0,get:function(){return y2.Identify}});Ie.Types=Lr()});var D2=D(_S=>{var E2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");_S.encode=function(t){if(0<=t&&t<E2.length)return E2[t];throw new TypeError("Must be between 0 and 63: "+t)};_S.decode=function(t){var e=65,r=90,n=97,i=122,s=48,o=57,a=43,u=47,c=26,l=52;return e<=t&&t<=r?t-e:n<=t&&t<=i?t-n+c:s<=t&&t<=o?t-s+l:t==a?62:t==u?63:-1}});var TS=D(vS=>{var x2=D2(),CS=5,S2=1<<CS,_2=S2-1,C2=S2;function Bee(t){return t<0?(-t<<1)+1:(t<<1)+0}function $ee(t){var e=(t&1)===1,r=t>>1;return e?-r:r}vS.encode=function(e){var r="",n,i=Bee(e);do n=i&_2,i>>>=CS,i>0&&(n|=C2),r+=x2.encode(n);while(i>0);return r};vS.decode=function(e,r,n){var i=e.length,s=0,o=0,a,u;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(u=x2.decode(e.charCodeAt(r++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));a=!!(u&C2),u&=_2,s=s+(u<<o),o+=CS}while(a);n.value=$ee(s),n.rest=r}});var su=D(Lt=>{function Uee(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}Lt.getArg=Uee;var v2=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,jee=/^data:.+\,.+$/;function Fl(t){var e=t.match(v2);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}Lt.urlParse=Fl;function iu(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}Lt.urlGenerate=iu;var qee=32;function Gee(t){var e=[];return function(r){for(var n=0;n<e.length;n++)if(e[n].input===r){var i=e[0];return e[0]=e[n],e[n]=i,e[0].result}var s=t(r);return e.unshift({input:r,result:s}),e.length>qee&&e.pop(),s}}var wS=Gee(function(e){var r=e,n=Fl(e);if(n){if(!n.path)return e;r=n.path}for(var i=Lt.isAbsolute(r),s=[],o=0,a=0;;)if(o=a,a=r.indexOf("/",o),a===-1){s.push(r.slice(o));break}else for(s.push(r.slice(o,a));a<r.length&&r[a]==="/";)a++;for(var u,c=0,a=s.length-1;a>=0;a--)u=s[a],u==="."?s.splice(a,1):u===".."?c++:c>0&&(u===""?(s.splice(a+1,c),c=0):(s.splice(a,2),c--));return r=s.join("/"),r===""&&(r=i?"/":"."),n?(n.path=r,iu(n)):r});Lt.normalize=wS;function T2(t,e){t===""&&(t="."),e===""&&(e=".");var r=Fl(e),n=Fl(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),iu(r);if(r||e.match(jee))return e;if(n&&!n.host&&!n.path)return n.host=e,iu(n);var i=e.charAt(0)==="/"?e:wS(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=i,iu(n)):i}Lt.join=T2;Lt.isAbsolute=function(t){return t.charAt(0)==="/"||v2.test(t)};function Vee(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}Lt.relative=Vee;var w2=function(){var t=Object.create(null);return!("__proto__"in t)}();function A2(t){return t}function Kee(t){return P2(t)?"$"+t:t}Lt.toSetString=w2?A2:Kee;function Hee(t){return P2(t)?t.slice(1):t}Lt.fromSetString=w2?A2:Hee;function P2(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function zee(t,e,r){var n=Xi(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:Xi(t.name,e.name)}Lt.compareByOriginalPositions=zee;function Wee(t,e,r){var n;return n=t.originalLine-e.originalLine,n!==0||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:Xi(t.name,e.name)}Lt.compareByOriginalPositionsNoSource=Wee;function Yee(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=Xi(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Xi(t.name,e.name)}Lt.compareByGeneratedPositionsDeflated=Yee;function Jee(t,e,r){var n=t.generatedColumn-e.generatedColumn;return n!==0||r||(n=Xi(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Xi(t.name,e.name)}Lt.compareByGeneratedPositionsDeflatedNoLine=Jee;function Xi(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function Xee(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=Xi(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Xi(t.name,e.name)}Lt.compareByGeneratedPositionsInflated=Xee;function Qee(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Lt.parseSourceMapInput=Qee;function Zee(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=Fl(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}e=T2(iu(n),e)}return wS(e)}Lt.computeSourceURL=Zee});var IS=D(I2=>{var AS=su(),PS=Object.prototype.hasOwnProperty,$o=typeof Map<"u";function Qi(){this._array=[],this._set=$o?new Map:Object.create(null)}Qi.fromArray=function(e,r){for(var n=new Qi,i=0,s=e.length;i<s;i++)n.add(e[i],r);return n};Qi.prototype.size=function(){return $o?this._set.size:Object.getOwnPropertyNames(this._set).length};Qi.prototype.add=function(e,r){var n=$o?e:AS.toSetString(e),i=$o?this.has(e):PS.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(e),i||($o?this._set.set(e,s):this._set[n]=s)};Qi.prototype.has=function(e){if($o)return this._set.has(e);var r=AS.toSetString(e);return PS.call(this._set,r)};Qi.prototype.indexOf=function(e){if($o){var r=this._set.get(e);if(r>=0)return r}else{var n=AS.toSetString(e);if(PS.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};Qi.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Qi.prototype.toArray=function(){return this._array.slice()};I2.ArraySet=Qi});var O2=D(F2=>{var N2=su();function ete(t,e){var r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=i||N2.compareByGeneratedPositionsInflated(t,e)<=0}function Fh(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Fh.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};Fh.prototype.add=function(e){ete(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};Fh.prototype.toArray=function(){return this._sorted||(this._array.sort(N2.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};F2.MappingList=Fh});var NS=D(k2=>{var Ol=TS(),mt=su(),Oh=IS().ArraySet,tte=O2().MappingList;function on(t){t||(t={}),this._file=mt.getArg(t,"file",null),this._sourceRoot=mt.getArg(t,"sourceRoot",null),this._skipValidation=mt.getArg(t,"skipValidation",!1),this._ignoreInvalidMapping=mt.getArg(t,"ignoreInvalidMapping",!1),this._sources=new Oh,this._names=new Oh,this._mappings=new tte,this._sourcesContents=null}on.prototype._version=3;on.fromSourceMap=function(e,r){var n=e.sourceRoot,i=new on(Object.assign(r||{},{file:e.file,sourceRoot:n}));return e.eachMapping(function(s){var o={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(o.source=s.source,n!=null&&(o.source=mt.relative(n,o.source)),o.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(o.name=s.name)),i.addMapping(o)}),e.sources.forEach(function(s){var o=s;n!==null&&(o=mt.relative(n,s)),i._sources.has(o)||i._sources.add(o);var a=e.sourceContentFor(s);a!=null&&i.setSourceContent(s,a)}),i};on.prototype.addMapping=function(e){var r=mt.getArg(e,"generated"),n=mt.getArg(e,"original",null),i=mt.getArg(e,"source",null),s=mt.getArg(e,"name",null);!this._skipValidation&&this._validateMapping(r,n,i,s)===!1||(i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s}))};on.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=mt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[mt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[mt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};on.prototype.applySourceMap=function(e,r,n){var i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var s=this._sourceRoot;s!=null&&(i=mt.relative(s,i));var o=new Oh,a=new Oh;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){var c=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});c.source!=null&&(u.source=c.source,n!=null&&(u.source=mt.join(n,u.source)),s!=null&&(u.source=mt.relative(s,u.source)),u.originalLine=c.line,u.originalColumn=c.column,c.name!=null&&(u.name=c.name))}var l=u.source;l!=null&&!o.has(l)&&o.add(l);var p=u.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){var c=e.sourceContentFor(u);c!=null&&(n!=null&&(u=mt.join(n,u)),s!=null&&(u=mt.relative(s,u)),this.setSourceContent(u,c))},this)};on.prototype._validateMapping=function(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;var s="Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};on.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,i=0,s=0,o=0,a="",u,c,l,p,d=this._mappings.toArray(),f=0,h=d.length;f<h;f++){if(c=d[f],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(f>0){if(!mt.compareByGeneratedPositionsInflated(c,d[f-1]))continue;u+=","}u+=Ol.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=Ol.encode(p-o),o=p,u+=Ol.encode(c.originalLine-1-i),i=c.originalLine-1,u+=Ol.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=Ol.encode(l-s),s=l)),a+=u}return a};on.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=mt.relative(r,n));var i=mt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};on.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};on.prototype.toString=function(){return JSON.stringify(this.toJSON())};k2.SourceMapGenerator=on});var R2=D(Uo=>{Uo.GREATEST_LOWER_BOUND=1;Uo.LEAST_UPPER_BOUND=2;function FS(t,e,r,n,i,s){var o=Math.floor((e-t)/2)+t,a=i(r,n[o],!0);return a===0?o:a>0?e-o>1?FS(o,e,r,n,i,s):s==Uo.LEAST_UPPER_BOUND?e<n.length?e:-1:o:o-t>1?FS(t,o,r,n,i,s):s==Uo.LEAST_UPPER_BOUND?o:t<0?-1:t}Uo.search=function(e,r,n,i){if(r.length===0)return-1;var s=FS(-1,r.length,e,r,n,i||Uo.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var B2=D(L2=>{function rte(t){function e(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function r(i,s){return Math.round(i+Math.random()*(s-i))}function n(i,s,o,a){if(o<a){var u=r(o,a),c=o-1;e(i,u,a);for(var l=i[a],p=o;p<a;p++)s(i[p],l,!1)<=0&&(c+=1,e(i,c,p));e(i,c+1,p);var d=c+1;n(i,s,o,d-1),n(i,s,d+1,a)}}return n}function nte(t){let e=rte.toString();return new Function(`return ${e}`)()(t)}var M2=new WeakMap;L2.quickSort=function(t,e,r=0){let n=M2.get(e);n===void 0&&(n=nte(e),M2.set(e,n)),n(t,e,r,t.length-1)}});var j2=D(kh=>{var W=su(),kS=R2(),ou=IS().ArraySet,ite=TS(),kl=B2().quickSort;function et(t,e){var r=t;return typeof t=="string"&&(r=W.parseSourceMapInput(t)),r.sections!=null?new Tn(r,e):new Ht(r,e)}et.fromSourceMap=function(t,e){return Ht.fromSourceMap(t,e)};et.prototype._version=3;et.prototype.__generatedMappings=null;Object.defineProperty(et.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});et.prototype.__originalMappings=null;Object.defineProperty(et.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});et.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};et.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};et.GENERATED_ORDER=1;et.ORIGINAL_ORDER=2;et.GREATEST_LOWER_BOUND=1;et.LEAST_UPPER_BOUND=2;et.prototype.eachMapping=function(e,r,n){var i=r||null,s=n||et.GENERATED_ORDER,o;switch(s){case et.GENERATED_ORDER:o=this._generatedMappings;break;case et.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,u=e.bind(i),c=this._names,l=this._sources,p=this._sourceMapURL,d=0,f=o.length;d<f;d++){var h=o[d],m=h.source===null?null:l.at(h.source);m!==null&&(m=W.computeSourceURL(a,m,p)),u({source:m,generatedLine:h.generatedLine,generatedColumn:h.generatedColumn,originalLine:h.originalLine,originalColumn:h.originalColumn,name:h.name===null?null:c.at(h.name)})}};et.prototype.allGeneratedPositionsFor=function(e){var r=W.getArg(e,"line"),n={source:W.getArg(e,"source"),originalLine:r,originalColumn:W.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",W.compareByOriginalPositions,kS.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:W.getArg(o,"generatedLine",null),column:W.getArg(o,"generatedColumn",null),lastColumn:W.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var u=o.originalColumn;o&&o.originalLine===r&&o.originalColumn==u;)i.push({line:W.getArg(o,"generatedLine",null),column:W.getArg(o,"generatedColumn",null),lastColumn:W.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};kh.SourceMapConsumer=et;function Ht(t,e){var r=t;typeof t=="string"&&(r=W.parseSourceMapInput(t));var n=W.getArg(r,"version"),i=W.getArg(r,"sources"),s=W.getArg(r,"names",[]),o=W.getArg(r,"sourceRoot",null),a=W.getArg(r,"sourcesContent",null),u=W.getArg(r,"mappings"),c=W.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=W.normalize(o)),i=i.map(String).map(W.normalize).map(function(l){return o&&W.isAbsolute(o)&&W.isAbsolute(l)?W.relative(o,l):l}),this._names=ou.fromArray(s.map(String),!0),this._sources=ou.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(l){return W.computeSourceURL(o,l,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=e,this.file=c}Ht.prototype=Object.create(et.prototype);Ht.prototype.consumer=et;Ht.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=W.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};Ht.fromSourceMap=function(e,r){var n=Object.create(Ht.prototype),i=n._names=ou.fromArray(e._names.toArray(),!0),s=n._sources=ou.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(f){return W.computeSourceURL(n.sourceRoot,f,r)});for(var o=e._mappings.toArray().slice(),a=n.__generatedMappings=[],u=n.__originalMappings=[],c=0,l=o.length;c<l;c++){var p=o[c],d=new U2;d.generatedLine=p.generatedLine,d.generatedColumn=p.generatedColumn,p.source&&(d.source=s.indexOf(p.source),d.originalLine=p.originalLine,d.originalColumn=p.originalColumn,p.name&&(d.name=i.indexOf(p.name)),u.push(d)),a.push(d)}return kl(n.__originalMappings,W.compareByOriginalPositions),n};Ht.prototype._version=3;Object.defineProperty(Ht.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function U2(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var OS=W.compareByGeneratedPositionsDeflatedNoLine;function $2(t,e){let r=t.length,n=t.length-e;if(!(n<=1))if(n==2){let i=t[e],s=t[e+1];OS(i,s)>0&&(t[e]=s,t[e+1]=i)}else if(n<20)for(let i=e;i<r;i++)for(let s=i;s>e;s--){let o=t[s-1],a=t[s];if(OS(o,a)<=0)break;t[s-1]=a,t[s]=o}else kl(t,OS,e)}Ht.prototype._parseMappings=function(e,r){var n=1,i=0,s=0,o=0,a=0,u=0,c=e.length,l=0,p={},d={},f=[],h=[],m,g,y,b,_;let E=0;for(;l<c;)if(e.charAt(l)===";")n++,l++,i=0,$2(h,E),E=h.length;else if(e.charAt(l)===",")l++;else{for(m=new U2,m.generatedLine=n,b=l;b<c&&!this._charIsMappingSeparator(e,b);b++);for(g=e.slice(l,b),y=[];l<b;)ite.decode(e,l,d),_=d.value,l=d.rest,y.push(_);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");if(m.generatedColumn=i+y[0],i=m.generatedColumn,y.length>1&&(m.source=a+y[1],a+=y[1],m.originalLine=s+y[2],s=m.originalLine,m.originalLine+=1,m.originalColumn=o+y[3],o=m.originalColumn,y.length>4&&(m.name=u+y[4],u+=y[4])),h.push(m),typeof m.originalLine=="number"){let S=m.source;for(;f.length<=S;)f.push(null);f[S]===null&&(f[S]=[]),f[S].push(m)}}$2(h,E),this.__generatedMappings=h;for(var x=0;x<f.length;x++)f[x]!=null&&kl(f[x],W.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...f)};Ht.prototype._findMapping=function(e,r,n,i,s,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return kS.search(e,r,s,o)};Ht.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};Ht.prototype.originalPositionFor=function(e){var r={generatedLine:W.getArg(e,"line"),generatedColumn:W.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",W.compareByGeneratedPositionsDeflated,W.getArg(e,"bias",et.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=W.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=W.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=W.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:W.getArg(i,"originalLine",null),column:W.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};Ht.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};Ht.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i=e;this.sourceRoot!=null&&(i=W.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=W.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};Ht.prototype.generatedPositionFor=function(e){var r=W.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:W.getArg(e,"line"),originalColumn:W.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",W.compareByOriginalPositions,W.getArg(e,"bias",et.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:W.getArg(s,"generatedLine",null),column:W.getArg(s,"generatedColumn",null),lastColumn:W.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};kh.BasicSourceMapConsumer=Ht;function Tn(t,e){var r=t;typeof t=="string"&&(r=W.parseSourceMapInput(t));var n=W.getArg(r,"version"),i=W.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new ou,this._names=new ou;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=W.getArg(o,"offset"),u=W.getArg(a,"line"),c=W.getArg(a,"column");if(u<s.line||u===s.line&&c<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:u+1,generatedColumn:c+1},consumer:new et(W.getArg(o,"map"),e)}})}Tn.prototype=Object.create(et.prototype);Tn.prototype.constructor=et;Tn.prototype._version=3;Object.defineProperty(Tn.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});Tn.prototype.originalPositionFor=function(e){var r={generatedLine:W.getArg(e,"line"),generatedColumn:W.getArg(e,"column")},n=kS.search(r,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};Tn.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};Tn.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(e,!0);if(s||s==="")return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};Tn.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(W.getArg(e,"source"))!==-1){var i=n.consumer.generatedPositionFor(e);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Tn.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],u=i.consumer._sources.at(a.source);u!==null&&(u=W.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL)),this._sources.add(u),u=this._sources.indexOf(u);var c=null;a.name&&(c=i.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var l={source:u,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}kl(this.__generatedMappings,W.compareByGeneratedPositionsDeflated),kl(this.__originalMappings,W.compareByOriginalPositions)};kh.IndexedSourceMapConsumer=Tn});var G2=D(q2=>{var ste=NS().SourceMapGenerator,Rh=su(),ote=/(\r?\n)/,ate=10,au="$$$isSourceNode$$$";function Br(t,e,r,n,i){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=r??null,this.name=i??null,this[au]=!0,n!=null&&this.add(n)}Br.fromStringWithSourceMap=function(e,r,n){var i=new Br,s=e.split(ote),o=0,a=function(){var d=h(),f=h()||"";return d+f;function h(){return o<s.length?s[o++]:void 0}},u=1,c=0,l=null;return r.eachMapping(function(d){if(l!==null)if(u<d.generatedLine)p(l,a()),u++,c=0;else{var f=s[o]||"",h=f.substr(0,d.generatedColumn-c);s[o]=f.substr(d.generatedColumn-c),c=d.generatedColumn,p(l,h),l=d;return}for(;u<d.generatedLine;)i.add(a()),u++;if(c<d.generatedColumn){var f=s[o]||"";i.add(f.substr(0,d.generatedColumn)),s[o]=f.substr(d.generatedColumn),c=d.generatedColumn}l=d},this),o<s.length&&(l&&p(l,a()),i.add(s.splice(o).join(""))),r.sources.forEach(function(d){var f=r.sourceContentFor(d);f!=null&&(n!=null&&(d=Rh.join(n,d)),i.setSourceContent(d,f))}),i;function p(d,f){if(d===null||d.source===void 0)i.add(f);else{var h=n?Rh.join(n,d.source):d.source;i.add(new Br(d.originalLine,d.originalColumn,h,f,d.name))}}};Br.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[au]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Br.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[au]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Br.prototype.walk=function(e){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[au]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};Br.prototype.join=function(e){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};Br.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[au]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};Br.prototype.setSourceContent=function(e,r){this.sourceContents[Rh.toSetString(e)]=r};Br.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][au]&&this.children[r].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)e(Rh.fromSetString(i[r]),this.sourceContents[i[r]])};Br.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};Br.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new ste(e),i=!1,s=null,o=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((s!==l.source||o!==l.line||a!==l.column||u!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),s=l.source,o=l.line,a=l.column,u=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var p=0,d=c.length;p<d;p++)c.charCodeAt(p)===ate?(r.line++,r.column=0,p+1===d?(s=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){n.setSourceContent(c,l)}),{code:r.code,map:n}};q2.SourceNode=Br});var V2=D(Mh=>{Mh.SourceMapGenerator=NS().SourceMapGenerator;Mh.SourceMapConsumer=j2().SourceMapConsumer;Mh.SourceNode=G2().SourceNode});var xM=D(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});function ute(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var pi=class{constructor(e,r,n){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=r,this.index=n}},du=class{constructor(e,r){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=r}};function dr(t,e){let{line:r,column:n,index:i}=t;return new pi(r,n+e,i+e)}var K2="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",cte={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:K2},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:K2}},H2={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},$h=t=>t.type==="UpdateExpression"?H2.UpdateExpression[`${t.prefix}`]:H2[t.type],lte={AccessorIsGenerator:({kind:t})=>`A ${t}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:t})=>`Missing initializer in ${t} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:t})=>`\`${t}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:t})=>`'import.${t}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:t,exportName:e})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${t}' as '${e}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:t})=>`'${t==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:t})=>`Unsyntactic ${t==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:t})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${t}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:t})=>`\`import()\` requires exactly ${t===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:t})=>`Expected number in radix ${t}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:t})=>`Escape sequence in keyword ${t}.`,InvalidIdentifier:({identifierName:t})=>`Invalid identifier ${t}.`,InvalidLhs:({ancestor:t})=>`Invalid left-hand side in ${$h(t)}.`,InvalidLhsBinding:({ancestor:t})=>`Binding invalid left-hand side in ${$h(t)}.`,InvalidLhsOptionalChaining:({ancestor:t})=>`Invalid optional chaining in the left-hand side of ${$h(t)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:t})=>`Unexpected character '${t}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:t})=>`Private name #${t} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:t})=>`Label '${t}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:t})=>`This experimental syntax requires enabling the parser plugin: ${t.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:t})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${t.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:t})=>`Duplicate key "${t}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:t})=>`An export name cannot include a lone surrogate, found '\\u${t.toString(16)}'.`,ModuleExportUndefined:({localName:t})=>`Export '${t}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:t})=>`Private names are only allowed in property accesses (\`obj.#${t}\`) or in \`in\` expressions (\`#${t} in obj\`).`,PrivateNameRedeclaration:({identifierName:t})=>`Duplicate private name #${t}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:t})=>`Unexpected keyword '${t}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:t})=>`Unexpected reserved word '${t}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:t,unexpected:e})=>`Unexpected token${e?` '${e}'.`:""}${t?`, expected "${t}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:t,onlyValidPropertyName:e})=>`The only valid meta property for ${t} is ${t}.${e}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:t})=>`Identifier '${t}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},pte={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:t})=>`Assigning to '${t}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:t})=>`Binding '${t}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},dte=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),fte={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:t})=>`Invalid topic token ${t}. In order to use ${t} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${t}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:t})=>`Hack-style pipe body cannot be an unparenthesized ${$h({type:t})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},hte=["message"];function z2(t,e,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,value:r})}function mte({toMessage:t,code:e,reasonCode:r,syntaxPlugin:n}){let i=r==="MissingPlugin"||r==="MissingOneOfPlugins";{let s={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};s[r]&&(r=s[r])}return function s(o,a){let u=new SyntaxError;return u.code=e,u.reasonCode=r,u.loc=o,u.pos=o.index,u.syntaxPlugin=n,i&&(u.missingPlugin=a.missingPlugin),z2(u,"clone",function(l={}){var p;let{line:d,column:f,index:h}=(p=l.loc)!=null?p:o;return s(new pi(d,f,h),Object.assign({},a,l.details))}),z2(u,"details",a),Object.defineProperty(u,"message",{configurable:!0,get(){let c=`${t(a)} (${o.line}:${o.column})`;return this.message=c,c},set(c){Object.defineProperty(this,"message",{value:c,writable:!0})}}),u}}function rs(t,e){if(Array.isArray(t))return n=>rs(n,t[0]);let r={};for(let n of Object.keys(t)){let i=t[n],s=typeof i=="string"?{message:()=>i}:typeof i=="function"?{message:i}:i,{message:o}=s,a=ute(s,hte),u=typeof o=="string"?()=>o:o;r[n]=mte(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:n,toMessage:u},e?{syntaxPlugin:e}:{},a))}return r}var C=Object.assign({},rs(cte),rs(lte),rs(pte),rs`pipelineOperator`(fte)),{defineProperty:gte}=Object,W2=(t,e)=>{t&&gte(t,e,{enumerable:!1,value:t[e]})};function Rl(t){return W2(t.loc.start,"index"),W2(t.loc.end,"index"),t}var yte=t=>class extends t{parse(){let r=Rl(super.parse());return this.options.tokens&&(r.tokens=r.tokens.map(Rl)),r}parseRegExpLiteral({pattern:r,flags:n}){let i=null;try{i=new RegExp(r,n)}catch{}let s=this.estreeParseLiteral(i);return s.regex={pattern:r,flags:n},s}parseBigIntLiteral(r){let n;try{n=BigInt(r)}catch{n=null}let i=this.estreeParseLiteral(n);return i.bigint=String(i.value||r),i}parseDecimalLiteral(r){let i=this.estreeParseLiteral(null);return i.decimal=String(i.value||r),i}estreeParseLiteral(r){return this.parseLiteral(r,"Literal")}parseStringLiteral(r){return this.estreeParseLiteral(r)}parseNumericLiteral(r){return this.estreeParseLiteral(r)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(r){return this.estreeParseLiteral(r)}directiveToStmt(r){let n=r.value;delete r.value,n.type="Literal",n.raw=n.extra.raw,n.value=n.extra.expressionValue;let i=r;return i.type="ExpressionStatement",i.expression=n,i.directive=n.extra.rawValue,delete n.extra,i}initFunction(r,n){super.initFunction(r,n),r.expression=!1}checkDeclaration(r){r!=null&&this.isObjectProperty(r)?this.checkDeclaration(r.value):super.checkDeclaration(r)}getObjectOrClassMethodParams(r){return r.value.params}isValidDirective(r){var n;return r.type==="ExpressionStatement"&&r.expression.type==="Literal"&&typeof r.expression.value=="string"&&!((n=r.expression.extra)!=null&&n.parenthesized)}parseBlockBody(r,n,i,s,o){super.parseBlockBody(r,n,i,s,o);let a=r.directives.map(u=>this.directiveToStmt(u));r.body=a.concat(r.body),delete r.directives}pushClassMethod(r,n,i,s,o,a){this.parseMethod(n,i,s,o,a,"ClassMethod",!0),n.typeParameters&&(n.value.typeParameters=n.typeParameters,delete n.typeParameters),r.body.push(n)}parsePrivateName(){let r=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(r):r}convertPrivateNameToPrivateIdentifier(r){let n=super.getPrivateNameSV(r);return r=r,delete r.id,r.name=n,r.type="PrivateIdentifier",r}isPrivateName(r){return this.getPluginOption("estree","classFeatures")?r.type==="PrivateIdentifier":super.isPrivateName(r)}getPrivateNameSV(r){return this.getPluginOption("estree","classFeatures")?r.name:super.getPrivateNameSV(r)}parseLiteral(r,n){let i=super.parseLiteral(r,n);return i.raw=i.extra.raw,delete i.extra,i}parseFunctionBody(r,n,i=!1){super.parseFunctionBody(r,n,i),r.expression=r.body.type!=="BlockStatement"}parseMethod(r,n,i,s,o,a,u=!1){let c=this.startNode();return c.kind=r.kind,c=super.parseMethod(c,n,i,s,o,a,u),c.type="FunctionExpression",delete c.kind,r.value=c,a==="ClassPrivateMethod"&&(r.computed=!1),this.finishNode(r,"MethodDefinition")}nameIsConstructor(r){return r.type==="Literal"?r.value==="constructor":super.nameIsConstructor(r)}parseClassProperty(...r){let n=super.parseClassProperty(...r);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition"),n}parseClassPrivateProperty(...r){let n=super.parseClassPrivateProperty(...r);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition",n.computed=!1),n}parseObjectMethod(r,n,i,s,o){let a=super.parseObjectMethod(r,n,i,s,o);return a&&(a.type="Property",a.kind==="method"&&(a.kind="init"),a.shorthand=!1),a}parseObjectProperty(r,n,i,s){let o=super.parseObjectProperty(r,n,i,s);return o&&(o.kind="init",o.type="Property"),o}isValidLVal(r,n,i){return r==="Property"?"value":super.isValidLVal(r,n,i)}isAssignable(r,n){return r!=null&&this.isObjectProperty(r)?this.isAssignable(r.value,n):super.isAssignable(r,n)}toAssignable(r,n=!1){if(r!=null&&this.isObjectProperty(r)){let{key:i,value:s}=r;this.isPrivateName(i)&&this.classScope.usePrivateName(this.getPrivateNameSV(i),i.loc.start),this.toAssignable(s,n)}else super.toAssignable(r,n)}toAssignableObjectExpressionProp(r,n,i){r.type==="Property"&&(r.kind==="get"||r.kind==="set")?this.raise(C.PatternHasAccessor,r.key):r.type==="Property"&&r.method?this.raise(C.PatternHasMethod,r.key):super.toAssignableObjectExpressionProp(r,n,i)}finishCallExpression(r,n){let i=super.finishCallExpression(r,n);if(i.callee.type==="Import"){if(i.type="ImportExpression",i.source=i.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var s,o;i.options=(s=i.arguments[1])!=null?s:null,i.attributes=(o=i.arguments[1])!=null?o:null}delete i.arguments,delete i.callee}return i}toReferencedArguments(r){r.type!=="ImportExpression"&&super.toReferencedArguments(r)}parseExport(r,n){let i=this.state.lastTokStartLoc,s=super.parseExport(r,n);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":s.specifiers.length===1&&s.specifiers[0].type==="ExportNamespaceSpecifier"&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var o;let{declaration:a}=s;a?.type==="ClassDeclaration"&&((o=a.decorators)==null?void 0:o.length)>0&&a.start===s.start&&this.resetStartLocation(s,i)}break}return s}parseSubscript(r,n,i,s){let o=super.parseSubscript(r,n,i,s);if(s.optionalChainMember){if((o.type==="OptionalMemberExpression"||o.type==="OptionalCallExpression")&&(o.type=o.type.substring(8)),s.stop){let a=this.startNodeAtNode(o);return a.expression=o,this.finishNode(a,"ChainExpression")}}else(o.type==="MemberExpression"||o.type==="CallExpression")&&(o.optional=!1);return o}isOptionalMemberExpression(r){return r.type==="ChainExpression"?r.expression.type==="MemberExpression":super.isOptionalMemberExpression(r)}hasPropertyAsPrivateName(r){return r.type==="ChainExpression"&&(r=r.expression),super.hasPropertyAsPrivateName(r)}isObjectProperty(r){return r.type==="Property"&&r.kind==="init"&&!r.method}isObjectMethod(r){return r.type==="Property"&&(r.method||r.kind==="get"||r.kind==="set")}finishNodeAt(r,n,i){return Rl(super.finishNodeAt(r,n,i))}resetStartLocation(r,n){super.resetStartLocation(r,n),Rl(r)}resetEndLocation(r,n=this.state.lastTokEndLoc){super.resetEndLocation(r,n),Rl(r)}},qo=class{constructor(e,r){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!r}},qe={brace:new qo("{"),j_oTag:new qo("<tag"),j_cTag:new qo("</tag"),j_expr:new qo("<tag>...</tag>",!0)};qe.template=new qo("`",!0);var me=!0,j=!0,RS=!0,Ml=!0,$s=!0,bte=!0,qh=class{constructor(e,r={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.rightAssociative=!!r.rightAssociative,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop!=null?r.binop:null,this.updateContext=null}},a_=new Map;function Ce(t,e={}){e.keyword=t;let r=Q(t,e);return a_.set(t,r),r}function pr(t,e){return Q(t,{beforeExpr:me,binop:e})}var Ul=-1,es=[],u_=[],c_=[],l_=[],p_=[],d_=[];function Q(t,e={}){var r,n,i,s;return++Ul,u_.push(t),c_.push((r=e.binop)!=null?r:-1),l_.push((n=e.beforeExpr)!=null?n:!1),p_.push((i=e.startsExpr)!=null?i:!1),d_.push((s=e.prefix)!=null?s:!1),es.push(new qh(t,e)),Ul}function he(t,e={}){var r,n,i,s;return++Ul,a_.set(t,Ul),u_.push(t),c_.push((r=e.binop)!=null?r:-1),l_.push((n=e.beforeExpr)!=null?n:!1),p_.push((i=e.startsExpr)!=null?i:!1),d_.push((s=e.prefix)!=null?s:!1),es.push(new qh("name",e)),Ul}var Ete={bracketL:Q("[",{beforeExpr:me,startsExpr:j}),bracketHashL:Q("#[",{beforeExpr:me,startsExpr:j}),bracketBarL:Q("[|",{beforeExpr:me,startsExpr:j}),bracketR:Q("]"),bracketBarR:Q("|]"),braceL:Q("{",{beforeExpr:me,startsExpr:j}),braceBarL:Q("{|",{beforeExpr:me,startsExpr:j}),braceHashL:Q("#{",{beforeExpr:me,startsExpr:j}),braceR:Q("}"),braceBarR:Q("|}"),parenL:Q("(",{beforeExpr:me,startsExpr:j}),parenR:Q(")"),comma:Q(",",{beforeExpr:me}),semi:Q(";",{beforeExpr:me}),colon:Q(":",{beforeExpr:me}),doubleColon:Q("::",{beforeExpr:me}),dot:Q("."),question:Q("?",{beforeExpr:me}),questionDot:Q("?."),arrow:Q("=>",{beforeExpr:me}),template:Q("template"),ellipsis:Q("...",{beforeExpr:me}),backQuote:Q("`",{startsExpr:j}),dollarBraceL:Q("${",{beforeExpr:me,startsExpr:j}),templateTail:Q("...`",{startsExpr:j}),templateNonTail:Q("...${",{beforeExpr:me,startsExpr:j}),at:Q("@"),hash:Q("#",{startsExpr:j}),interpreterDirective:Q("#!..."),eq:Q("=",{beforeExpr:me,isAssign:Ml}),assign:Q("_=",{beforeExpr:me,isAssign:Ml}),slashAssign:Q("_=",{beforeExpr:me,isAssign:Ml}),xorAssign:Q("_=",{beforeExpr:me,isAssign:Ml}),moduloAssign:Q("_=",{beforeExpr:me,isAssign:Ml}),incDec:Q("++/--",{prefix:$s,postfix:bte,startsExpr:j}),bang:Q("!",{beforeExpr:me,prefix:$s,startsExpr:j}),tilde:Q("~",{beforeExpr:me,prefix:$s,startsExpr:j}),doubleCaret:Q("^^",{startsExpr:j}),doubleAt:Q("@@",{startsExpr:j}),pipeline:pr("|>",0),nullishCoalescing:pr("??",1),logicalOR:pr("||",1),logicalAND:pr("&&",2),bitwiseOR:pr("|",3),bitwiseXOR:pr("^",4),bitwiseAND:pr("&",5),equality:pr("==/!=/===/!==",6),lt:pr("</>/<=/>=",7),gt:pr("</>/<=/>=",7),relational:pr("</>/<=/>=",7),bitShift:pr("<</>>/>>>",8),bitShiftL:pr("<</>>/>>>",8),bitShiftR:pr("<</>>/>>>",8),plusMin:Q("+/-",{beforeExpr:me,binop:9,prefix:$s,startsExpr:j}),modulo:Q("%",{binop:10,startsExpr:j}),star:Q("*",{binop:10}),slash:pr("/",10),exponent:Q("**",{beforeExpr:me,binop:11,rightAssociative:!0}),_in:Ce("in",{beforeExpr:me,binop:7}),_instanceof:Ce("instanceof",{beforeExpr:me,binop:7}),_break:Ce("break"),_case:Ce("case",{beforeExpr:me}),_catch:Ce("catch"),_continue:Ce("continue"),_debugger:Ce("debugger"),_default:Ce("default",{beforeExpr:me}),_else:Ce("else",{beforeExpr:me}),_finally:Ce("finally"),_function:Ce("function",{startsExpr:j}),_if:Ce("if"),_return:Ce("return",{beforeExpr:me}),_switch:Ce("switch"),_throw:Ce("throw",{beforeExpr:me,prefix:$s,startsExpr:j}),_try:Ce("try"),_var:Ce("var"),_const:Ce("const"),_with:Ce("with"),_new:Ce("new",{beforeExpr:me,startsExpr:j}),_this:Ce("this",{startsExpr:j}),_super:Ce("super",{startsExpr:j}),_class:Ce("class",{startsExpr:j}),_extends:Ce("extends",{beforeExpr:me}),_export:Ce("export"),_import:Ce("import",{startsExpr:j}),_null:Ce("null",{startsExpr:j}),_true:Ce("true",{startsExpr:j}),_false:Ce("false",{startsExpr:j}),_typeof:Ce("typeof",{beforeExpr:me,prefix:$s,startsExpr:j}),_void:Ce("void",{beforeExpr:me,prefix:$s,startsExpr:j}),_delete:Ce("delete",{beforeExpr:me,prefix:$s,startsExpr:j}),_do:Ce("do",{isLoop:RS,beforeExpr:me}),_for:Ce("for",{isLoop:RS}),_while:Ce("while",{isLoop:RS}),_as:he("as",{startsExpr:j}),_assert:he("assert",{startsExpr:j}),_async:he("async",{startsExpr:j}),_await:he("await",{startsExpr:j}),_defer:he("defer",{startsExpr:j}),_from:he("from",{startsExpr:j}),_get:he("get",{startsExpr:j}),_let:he("let",{startsExpr:j}),_meta:he("meta",{startsExpr:j}),_of:he("of",{startsExpr:j}),_sent:he("sent",{startsExpr:j}),_set:he("set",{startsExpr:j}),_source:he("source",{startsExpr:j}),_static:he("static",{startsExpr:j}),_using:he("using",{startsExpr:j}),_yield:he("yield",{startsExpr:j}),_asserts:he("asserts",{startsExpr:j}),_checks:he("checks",{startsExpr:j}),_exports:he("exports",{startsExpr:j}),_global:he("global",{startsExpr:j}),_implements:he("implements",{startsExpr:j}),_intrinsic:he("intrinsic",{startsExpr:j}),_infer:he("infer",{startsExpr:j}),_is:he("is",{startsExpr:j}),_mixins:he("mixins",{startsExpr:j}),_proto:he("proto",{startsExpr:j}),_require:he("require",{startsExpr:j}),_satisfies:he("satisfies",{startsExpr:j}),_keyof:he("keyof",{startsExpr:j}),_readonly:he("readonly",{startsExpr:j}),_unique:he("unique",{startsExpr:j}),_abstract:he("abstract",{startsExpr:j}),_declare:he("declare",{startsExpr:j}),_enum:he("enum",{startsExpr:j}),_module:he("module",{startsExpr:j}),_namespace:he("namespace",{startsExpr:j}),_interface:he("interface",{startsExpr:j}),_type:he("type",{startsExpr:j}),_opaque:he("opaque",{startsExpr:j}),name:Q("name",{startsExpr:j}),string:Q("string",{startsExpr:j}),num:Q("num",{startsExpr:j}),bigint:Q("bigint",{startsExpr:j}),decimal:Q("decimal",{startsExpr:j}),regexp:Q("regexp",{startsExpr:j}),privateName:Q("#name",{startsExpr:j}),eof:Q("eof"),jsxName:Q("jsxName"),jsxText:Q("jsxText",{beforeExpr:!0}),jsxTagStart:Q("jsxTagStart",{startsExpr:!0}),jsxTagEnd:Q("jsxTagEnd"),placeholder:Q("%%",{startsExpr:!0})};function Ne(t){return t>=93&&t<=132}function Dte(t){return t<=92}function wn(t){return t>=58&&t<=132}function oM(t){return t>=58&&t<=136}function xte(t){return l_[t]}function jS(t){return p_[t]}function Ste(t){return t>=29&&t<=33}function Y2(t){return t>=129&&t<=131}function _te(t){return t>=90&&t<=92}function f_(t){return t>=58&&t<=92}function Cte(t){return t>=39&&t<=59}function vte(t){return t===34}function Tte(t){return d_[t]}function wte(t){return t>=121&&t<=123}function Ate(t){return t>=124&&t<=130}function js(t){return u_[t]}function Uh(t){return c_[t]}function Pte(t){return t===57}function Gh(t){return t>=24&&t<=25}function Zi(t){return es[t]}es[8].updateContext=t=>{t.pop()},es[5].updateContext=es[7].updateContext=es[23].updateContext=t=>{t.push(qe.brace)},es[22].updateContext=t=>{t[t.length-1]===qe.template?t.pop():t.push(qe.template)},es[142].updateContext=t=>{t.push(qe.j_expr,qe.j_oTag)};var h_="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",aM="\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Ite=new RegExp("["+h_+"]"),Nte=new RegExp("["+h_+aM+"]");h_=aM=null;var uM=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Fte=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function qS(t,e){let r=65536;for(let n=0,i=e.length;n<i;n+=2){if(r+=e[n],r>t)return!1;if(r+=e[n+1],r>=t)return!0}return!1}function ts(t){return t<65?t===36:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&Ite.test(String.fromCharCode(t)):qS(t,uM)}function cu(t){return t<48?t===36:t<58?!0:t<65?!1:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&Nte.test(String.fromCharCode(t)):qS(t,uM)||qS(t,Fte)}var m_={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Ote=new Set(m_.keyword),kte=new Set(m_.strict),Rte=new Set(m_.strictBind);function cM(t,e){return e&&t==="await"||t==="enum"}function lM(t,e){return cM(t,e)||kte.has(t)}function pM(t){return Rte.has(t)}function dM(t,e){return lM(t,e)||pM(t)}function Mte(t){return Ote.has(t)}function Lte(t,e,r){return t===64&&e===64&&ts(r)}var Bte=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function $te(t){return Bte.has(t)}var jl=class{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}},ql=class{constructor(e,r){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=r}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let e=this.currentThisScopeFlags();return(e&64)>0&&(e&2)===0}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){let{flags:r}=this.scopeStack[e];if(r&128)return!0;if(r&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new jl(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(e.flags&130||!this.parser.inModule&&e.flags&1)}declareName(e,r,n){let i=this.currentScope();if(r&8||r&16){this.checkRedeclarationInScope(i,e,r,n);let s=i.names.get(e)||0;r&16?s=s|4:(i.firstLexicalName||(i.firstLexicalName=e),s=s|2),i.names.set(e,s),r&8&&this.maybeExportDefined(i,e)}else if(r&4)for(let s=this.scopeStack.length-1;s>=0&&(i=this.scopeStack[s],this.checkRedeclarationInScope(i,e,r,n),i.names.set(e,(i.names.get(e)||0)|1),this.maybeExportDefined(i,e),!(i.flags&387));--s);this.parser.inModule&&i.flags&1&&this.undefinedExports.delete(e)}maybeExportDefined(e,r){this.parser.inModule&&e.flags&1&&this.undefinedExports.delete(r)}checkRedeclarationInScope(e,r,n,i){this.isRedeclaredInScope(e,r,n)&&this.parser.raise(C.VarRedeclaration,i,{identifierName:r})}isRedeclaredInScope(e,r,n){if(!(n&1))return!1;if(n&8)return e.names.has(r);let i=e.names.get(r);return n&16?(i&2)>0||!this.treatFunctionsAsVarInScope(e)&&(i&1)>0:(i&2)>0&&!(e.flags&8&&e.firstLexicalName===r)||!this.treatFunctionsAsVarInScope(e)&&(i&4)>0}checkLocalExport(e){let{name:r}=e;this.scopeStack[0].names.has(r)||this.undefinedExports.set(r,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:r}=this.scopeStack[e];if(r&387)return r}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:r}=this.scopeStack[e];if(r&451&&!(r&4))return r}}},GS=class extends jl{constructor(...e){super(...e),this.declareFunctions=new Set}},VS=class extends ql{createScope(e){return new GS(e)}declareName(e,r,n){let i=this.currentScope();if(r&2048){this.checkRedeclarationInScope(i,e,r,n),this.maybeExportDefined(i,e),i.declareFunctions.add(e);return}super.declareName(e,r,n)}isRedeclaredInScope(e,r,n){if(super.isRedeclaredInScope(e,r,n))return!0;if(n&2048&&!e.declareFunctions.has(r)){let i=e.names.get(r);return(i&4)>0||(i&2)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}},KS=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(e){if(typeof e=="string")return this.plugins.has(e);{let[r,n]=e;if(!this.hasPlugin(r))return!1;let i=this.plugins.get(r);for(let s of Object.keys(n))if(i?.[s]!==n[s])return!1;return!0}}getPluginOption(e,r){var n;return(n=this.plugins.get(e))==null?void 0:n[r]}};function fM(t,e){t.trailingComments===void 0?t.trailingComments=e:t.trailingComments.unshift(...e)}function Ute(t,e){t.leadingComments===void 0?t.leadingComments=e:t.leadingComments.unshift(...e)}function Gl(t,e){t.innerComments===void 0?t.innerComments=e:t.innerComments.unshift(...e)}function Ll(t,e,r){let n=null,i=e.length;for(;n===null&&i>0;)n=e[--i];n===null||n.start>r.start?Gl(t,r.comments):fM(n,r.comments)}var HS=class extends KS{addComment(e){this.filename&&(e.loc.filename=this.filename);let{commentsLen:r}=this.state;this.comments.length!==r&&(this.comments.length=r),this.comments.push(e),this.state.commentsLen++}processComment(e){let{commentStack:r}=this.state,n=r.length;if(n===0)return;let i=n-1,s=r[i];s.start===e.end&&(s.leadingNode=e,i--);let{start:o}=e;for(;i>=0;i--){let a=r[i],u=a.end;if(u>o)a.containingNode=e,this.finalizeComment(a),r.splice(i,1);else{u===o&&(a.trailingNode=e);break}}}finalizeComment(e){let{comments:r}=e;if(e.leadingNode!==null||e.trailingNode!==null)e.leadingNode!==null&&fM(e.leadingNode,r),e.trailingNode!==null&&Ute(e.trailingNode,r);else{let{containingNode:n,start:i}=e;if(this.input.charCodeAt(i-1)===44)switch(n.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Ll(n,n.properties,e);break;case"CallExpression":case"OptionalCallExpression":Ll(n,n.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Ll(n,n.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Ll(n,n.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":Ll(n,n.specifiers,e);break;default:Gl(n,r)}else Gl(n,r)}}finalizeRemainingComments(){let{commentStack:e}=this.state;for(let r=e.length-1;r>=0;r--)this.finalizeComment(e[r]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){let{commentStack:r}=this.state,{length:n}=r;if(n===0)return;let i=r[n-1];i.leadingNode===e&&(i.leadingNode=null)}resetPreviousIdentifierLeadingComments(e){let{commentStack:r}=this.state,{length:n}=r;n!==0&&(r[n-1].trailingNode===e?r[n-1].trailingNode=null:n>=2&&r[n-2].trailingNode===e&&(r[n-2].trailingNode=null))}takeSurroundingComments(e,r,n){let{commentStack:i}=this.state,s=i.length;if(s===0)return;let o=s-1;for(;o>=0;o--){let a=i[o],u=a.end;if(a.start===n)a.leadingNode=e;else if(u===r)a.trailingNode=e;else if(u<r)break}}},jte=/\r\n|[\r\n\u2028\u2029]/,Lh=new RegExp(jte.source,"g");function lu(t){switch(t){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function J2(t,e,r){for(let n=e;n<r;n++)if(lu(t.charCodeAt(n)))return!0;return!1}var MS=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,LS=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function qte(t){switch(t){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var zS=class t{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[qe.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:r,startLine:n,startColumn:i}){this.strict=e===!1?!1:e===!0?!0:r==="module",this.curLine=n,this.lineStart=-i,this.startLoc=this.endLoc=new pi(n,i,0)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new pi(this.curLine,this.pos-this.lineStart,this.pos)}clone(){let e=new t;return e.flags=this.flags,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}},Gte=function(e){return e>=48&&e<=57},X2={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Bh={bin:t=>t===48||t===49,oct:t=>t>=48&&t<=55,dec:t=>t>=48&&t<=57,hex:t=>t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};function Q2(t,e,r,n,i,s){let o=r,a=n,u=i,c="",l=null,p=r,{length:d}=e;for(;;){if(r>=d){s.unterminated(o,a,u),c+=e.slice(p,r);break}let f=e.charCodeAt(r);if(Vte(t,f,e,r)){c+=e.slice(p,r);break}if(f===92){c+=e.slice(p,r);let h=Kte(e,r,n,i,t==="template",s);h.ch===null&&!l?l={pos:r,lineStart:n,curLine:i}:c+=h.ch,{pos:r,lineStart:n,curLine:i}=h,p=r}else f===8232||f===8233?(++r,++i,n=r):f===10||f===13?t==="template"?(c+=e.slice(p,r)+`
`,++r,f===13&&e.charCodeAt(r)===10&&++r,++i,p=n=r):s.unterminated(o,a,u):++r}return{pos:r,str:c,firstInvalidLoc:l,lineStart:n,curLine:i,containsInvalid:!!l}}function Vte(t,e,r,n){return t==="template"?e===96||e===36&&r.charCodeAt(n+1)===123:e===(t==="double"?34:39)}function Kte(t,e,r,n,i,s){let o=!i;e++;let a=c=>({pos:e,ch:c,lineStart:r,curLine:n}),u=t.charCodeAt(e++);switch(u){case 110:return a(`
`);case 114:return a("\r");case 120:{let c;return{code:c,pos:e}=WS(t,e,r,n,2,!1,o,s),a(c===null?null:String.fromCharCode(c))}case 117:{let c;return{code:c,pos:e}=mM(t,e,r,n,o,s),a(c===null?null:String.fromCodePoint(c))}case 116:return a("	");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:t.charCodeAt(e)===10&&++e;case 10:r=e,++n;case 8232:case 8233:return a("");case 56:case 57:if(i)return a(null);s.strictNumericEscape(e-1,r,n);default:if(u>=48&&u<=55){let c=e-1,p=/^[0-7]+/.exec(t.slice(c,e+2))[0],d=parseInt(p,8);d>255&&(p=p.slice(0,-1),d=parseInt(p,8)),e+=p.length-1;let f=t.charCodeAt(e);if(p!=="0"||f===56||f===57){if(i)return a(null);s.strictNumericEscape(c,r,n)}return a(String.fromCharCode(d))}return a(String.fromCharCode(u))}}function WS(t,e,r,n,i,s,o,a){let u=e,c;return{n:c,pos:e}=hM(t,e,r,n,16,i,s,!1,a,!o),c===null&&(o?a.invalidEscapeSequence(u,r,n):e=u-1),{code:c,pos:e}}function hM(t,e,r,n,i,s,o,a,u,c){let l=e,p=i===16?X2.hex:X2.decBinOct,d=i===16?Bh.hex:i===10?Bh.dec:i===8?Bh.oct:Bh.bin,f=!1,h=0;for(let m=0,g=s??1/0;m<g;++m){let y=t.charCodeAt(e),b;if(y===95&&a!=="bail"){let _=t.charCodeAt(e-1),E=t.charCodeAt(e+1);if(a){if(Number.isNaN(E)||!d(E)||p.has(_)||p.has(E)){if(c)return{n:null,pos:e};u.unexpectedNumericSeparator(e,r,n)}}else{if(c)return{n:null,pos:e};u.numericSeparatorInEscapeSequence(e,r,n)}++e;continue}if(y>=97?b=y-97+10:y>=65?b=y-65+10:Gte(y)?b=y-48:b=1/0,b>=i){if(b<=9&&c)return{n:null,pos:e};if(b<=9&&u.invalidDigit(e,r,n,i))b=0;else if(o)b=0,f=!0;else break}++e,h=h*i+b}return e===l||s!=null&&e-l!==s||f?{n:null,pos:e}:{n:h,pos:e}}function mM(t,e,r,n,i,s){let o=t.charCodeAt(e),a;if(o===123){if(++e,{code:a,pos:e}=WS(t,e,r,n,t.indexOf("}",e)-e,!0,i,s),++e,a!==null&&a>1114111)if(i)s.invalidCodePoint(e,r,n);else return{code:null,pos:e}}else({code:a,pos:e}=WS(t,e,r,n,4,!1,i,s));return{code:a,pos:e}}function Bl(t,e,r){return new pi(r,t-e,t)}var Hte=new Set([103,109,115,105,121,117,100,118]),li=class{constructor(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,this.loc=new du(e.startLoc,e.endLoc)}},YS=class extends HS{constructor(e,r){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(n,i,s,o)=>this.options.errorRecovery?(this.raise(C.InvalidDigit,Bl(n,i,s),{radix:o}),!0):!1,numericSeparatorInEscapeSequence:this.errorKhulnasoft(C.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorKhulnasoft(C.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorKhulnasoft(C.InvalidEscapeSequence),invalidCodePoint:this.errorKhulnasoft(C.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(n,i,s)=>{this.recordStrictModeErrors(C.StrictNumericEscape,Bl(n,i,s))},unterminated:(n,i,s)=>{throw this.raise(C.UnterminatedString,Bl(n-1,i,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorKhulnasoft(C.StrictNumericEscape),unterminated:(n,i,s)=>{throw this.raise(C.UnterminatedTemplate,Bl(n,i,s))}}),this.state=new zS,this.state.init(e),this.input=r,this.length=r.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new li(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return this.match(e)?(this.next(),!0):!1}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){let e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let r=this.state;return this.state=e,r}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return MS.lastIndex=e,MS.test(this.input)?MS.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return LS.lastIndex=e,LS.test(this.input)?LS.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let r=this.input.charCodeAt(e);if((r&64512)===55296&&++e<this.input.length){let n=this.input.charCodeAt(e);(n&64512)===56320&&(r=65536+((r&1023)<<10)+(n&1023))}return r}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([r,n])=>this.raise(r,n)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(139);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let r;this.isLookahead||(r=this.state.curPosition());let n=this.state.pos,i=this.input.indexOf(e,n+2);if(i===-1)throw this.raise(C.UnterminatedComment,this.state.curPosition());for(this.state.pos=i+e.length,Lh.lastIndex=n+2;Lh.test(this.input)&&Lh.lastIndex<=i;)++this.state.curLine,this.state.lineStart=Lh.lastIndex;if(this.isLookahead)return;let s={type:"CommentBlock",value:this.input.slice(n+2,i),start:n,end:i+e.length,loc:new du(r,this.state.curPosition())};return this.options.tokens&&this.pushToken(s),s}skipLineComment(e){let r=this.state.pos,n;this.isLookahead||(n=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!lu(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,a={type:"CommentLine",value:this.input.slice(r+e,s),start:r,end:s,loc:new du(n,this.state.curPosition())};return this.options.tokens&&this.pushToken(a),a}skipSpace(){let e=this.state.pos,r=[];e:for(;this.state.pos<this.length;){let n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let i=this.skipBlockComment("*/");i!==void 0&&(this.addComment(i),this.options.attachComment&&r.push(i));break}case 47:{let i=this.skipLineComment(2);i!==void 0&&(this.addComment(i),this.options.attachComment&&r.push(i));break}default:break e}break;default:if(qte(n))++this.state.pos;else if(n===45&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===45&&this.input.charCodeAt(i+2)===62&&(e===0||this.state.lineStart>e)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&r.push(s))}else break e}else if(n===60&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===33&&this.input.charCodeAt(i+2)===45&&this.input.charCodeAt(i+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&r.push(s))}else break e}else break e}}if(r.length>0){let n=this.state.pos,i={start:e,end:n,comments:r,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(i)}}finishToken(e,r){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let n=this.state.type;this.state.type=e,this.state.value=r,this.isLookahead||this.updateContext(n)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let e=this.state.pos+1,r=this.codePointAtPos(e);if(r>=48&&r<=57)throw this.raise(C.UnexpectedDigitAfterHash,this.state.curPosition());if(r===123||r===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(r===123?C.RecordExpressionHashIncorrectStartSyntaxType:C.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,r===123?this.finishToken(7):this.finishToken(1)}else ts(r)?(++this.state.pos,this.finishToken(138,this.readWord1(r))):r===92?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57){this.readNumber(!0);return}e===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(e!==33)return!1;let r=this.state.pos;for(this.state.pos+=1;!lu(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);let n=this.input.slice(r+2,this.state.pos);return this.finishToken(28,n),!0}readToken_mult_modulo(e){let r=e===42?55:54,n=1,i=this.input.charCodeAt(this.state.pos+1);e===42&&i===42&&(n++,i=this.input.charCodeAt(this.state.pos+2),r=57),i===61&&!this.state.inType&&(n++,r=e===37?33:30),this.finishOp(r,n)}readToken_pipe_amp(e){let r=this.input.charCodeAt(this.state.pos+1);if(r===e){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(e===124?41:42,2);return}if(e===124){if(r===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&r===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&r===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(r===61){this.finishOp(30,2);return}this.finishOp(e===124?43:45,1)}readToken_caret(){let e=this.input.charCodeAt(this.state.pos+1);e===61&&!this.state.inType?this.finishOp(32,2):e===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){let r=this.input.charCodeAt(this.state.pos+1);if(r===e){this.finishOp(34,2);return}r===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:e}=this.state,r=this.input.charCodeAt(e+1);if(r===60){if(this.input.charCodeAt(e+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(r===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:e}=this.state,r=this.input.charCodeAt(e+1);if(r===62){let n=this.input.charCodeAt(e+2)===62?3:2;if(this.input.charCodeAt(e+n)===61){this.finishOp(30,n+1);return}this.finishOp(52,n);return}if(r===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(e){let r=this.input.charCodeAt(this.state.pos+1);if(r===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(e===61&&r===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(e===61?29:35,1)}readToken_question(){let e=this.input.charCodeAt(this.state.pos+1),r=this.input.charCodeAt(this.state.pos+2);e===63?r===61?this.finishOp(30,3):this.finishOp(40,2):e===46&&!(r>=48&&r<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(e){switch(e){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let r=this.input.charCodeAt(this.state.pos+1);if(r===120||r===88){this.readRadixNumber(16);return}if(r===111||r===79){this.readRadixNumber(8);return}if(r===98||r===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(e);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(e);return;case 124:case 38:this.readToken_pipe_amp(e);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(e);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(e);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(ts(e)){this.readWord(e);return}}throw this.raise(C.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,r){let n=this.input.slice(this.state.pos,this.state.pos+r);this.state.pos+=r,this.finishToken(e,n)}readRegexp(){let e=this.state.startLoc,r=this.state.start+1,n,i,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(C.UnterminatedRegExp,dr(e,1));let c=this.input.charCodeAt(s);if(lu(c))throw this.raise(C.UnterminatedRegExp,dr(e,1));if(n)n=!1;else{if(c===91)i=!0;else if(c===93&&i)i=!1;else if(c===47&&!i)break;n=c===92}}let o=this.input.slice(r,s);++s;let a="",u=()=>dr(e,s+2-r);for(;s<this.length;){let c=this.codePointAtPos(s),l=String.fromCharCode(c);if(Hte.has(c))c===118?a.includes("u")&&this.raise(C.IncompatibleRegExpUVFlags,u()):c===117&&a.includes("v")&&this.raise(C.IncompatibleRegExpUVFlags,u()),a.includes(l)&&this.raise(C.DuplicateRegExpFlags,u());else if(cu(c)||c===92)this.raise(C.MalformedRegExpFlags,u());else break;++s,a+=l}this.state.pos=s,this.finishToken(137,{pattern:o,flags:a})}readInt(e,r,n=!1,i=!0){let{n:s,pos:o}=hM(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,r,n,i,this.errorHandlers_readInt,!1);return this.state.pos=o,s}readRadixNumber(e){let r=this.state.curPosition(),n=!1;this.state.pos+=2;let i=this.readInt(e);i==null&&this.raise(C.InvalidDigit,dr(r,2),{radix:e});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,n=!0;else if(s===109)throw this.raise(C.InvalidDecimal,r);if(ts(this.codePointAtPos(this.state.pos)))throw this.raise(C.NumberIdentifier,this.state.curPosition());if(n){let o=this.input.slice(r.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,o);return}this.finishToken(134,i)}readNumber(e){let r=this.state.pos,n=this.state.curPosition(),i=!1,s=!1,o=!1,a=!1;!e&&this.readInt(10)===null&&this.raise(C.InvalidNumber,this.state.curPosition());let u=this.state.pos-r>=2&&this.input.charCodeAt(r)===48;if(u){let f=this.input.slice(r,this.state.pos);if(this.recordStrictModeErrors(C.StrictOctalLiteral,n),!this.state.strict){let h=f.indexOf("_");h>0&&this.raise(C.ZeroDigitNumericSeparator,dr(n,h))}a=u&&!/[89]/.test(f)}let c=this.input.charCodeAt(this.state.pos);if(c===46&&!a&&(++this.state.pos,this.readInt(10),i=!0,c=this.input.charCodeAt(this.state.pos)),(c===69||c===101)&&!a&&(c=this.input.charCodeAt(++this.state.pos),(c===43||c===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(C.InvalidOrMissingExponent,n),i=!0,o=!0,c=this.input.charCodeAt(this.state.pos)),c===110&&((i||u)&&this.raise(C.InvalidBigIntLiteral,n),++this.state.pos,s=!0),c===109){this.expectPlugin("decimal",this.state.curPosition()),(o||u)&&this.raise(C.InvalidDecimal,n),++this.state.pos;var l=!0}if(ts(this.codePointAtPos(this.state.pos)))throw this.raise(C.NumberIdentifier,this.state.curPosition());let p=this.input.slice(r,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(135,p);return}if(l){this.finishToken(136,p);return}let d=a?parseInt(p,8):parseFloat(p);this.finishToken(134,d)}readCodePoint(e){let{code:r,pos:n}=mM(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=n,r}readString(e){let{str:r,pos:n,curLine:i,lineStart:s}=Q2(e===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=n+1,this.state.lineStart=s,this.state.curLine=i,this.finishToken(133,r)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let e=this.input[this.state.pos],{str:r,firstInvalidLoc:n,pos:i,curLine:s,lineStart:o}=Q2("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=i+1,this.state.lineStart=o,this.state.curLine=s,n&&(this.state.firstInvalidTemplateEscapePos=new pi(n.curLine,n.pos-n.lineStart,n.pos)),this.input.codePointAt(i)===96?this.finishToken(24,n?null:e+r+"`"):(this.state.pos++,this.finishToken(25,n?null:e+r+"${"))}recordStrictModeErrors(e,r){let n=r.index;this.state.strict&&!this.state.strictErrors.has(n)?this.raise(e,r):this.state.strictErrors.set(n,[e,r])}readWord1(e){this.state.containsEsc=!1;let r="",n=this.state.pos,i=this.state.pos;for(e!==void 0&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if(cu(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,r+=this.input.slice(i,this.state.pos);let o=this.state.curPosition(),a=this.state.pos===n?ts:cu;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(C.MissingUnicodeEscape,this.state.curPosition()),i=this.state.pos-1;continue}++this.state.pos;let u=this.readCodePoint(!0);u!==null&&(a(u)||this.raise(C.EscapedCharNotAnIdentifier,o),r+=String.fromCodePoint(u)),i=this.state.pos}else break}return r+this.input.slice(i,this.state.pos)}readWord(e){let r=this.readWord1(e),n=a_.get(r);n!==void 0?this.finishToken(n,js(n)):this.finishToken(132,r)}checkKeywordEscapes(){let{type:e}=this.state;f_(e)&&this.state.containsEsc&&this.raise(C.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:js(e)})}raise(e,r,n={}){let i=r instanceof pi?r:r.loc.start,s=e(i,n);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(e,r,n={}){let i=r instanceof pi?r:r.loc.start,s=i.index,o=this.state.errors;for(let a=o.length-1;a>=0;a--){let u=o[a];if(u.loc.index===s)return o[a]=e(i,n);if(u.loc.index<s)break}return this.raise(e,r,n)}updateContext(e){}unexpected(e,r){throw this.raise(C.UnexpectedToken,e??this.state.startLoc,{expected:r?js(r):null})}expectPlugin(e,r){if(this.hasPlugin(e))return!0;throw this.raise(C.MissingPlugin,r??this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(r=>this.hasPlugin(r)))throw this.raise(C.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorKhulnasoft(e){return(r,n,i)=>{this.raise(e,Bl(r,n,i))}}},JS=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},XS=class{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new JS)}exit(){let e=this.stack.pop(),r=this.current();for(let[n,i]of Array.from(e.undefinedPrivateNames))r?r.undefinedPrivateNames.has(n)||r.undefinedPrivateNames.set(n,i):this.parser.raise(C.InvalidPrivateFieldResolution,i,{identifierName:n})}declarePrivateName(e,r,n){let{privateNames:i,loneAccessors:s,undefinedPrivateNames:o}=this.current(),a=i.has(e);if(r&3){let u=a&&s.get(e);if(u){let c=u&4,l=r&4,p=u&3,d=r&3;a=p===d||c!==l,a||s.delete(e)}else a||s.set(e,r)}a&&this.parser.raise(C.PrivateNameRedeclaration,n,{identifierName:e}),i.add(e),o.delete(e)}usePrivateName(e,r){let n;for(n of this.stack)if(n.privateNames.has(e))return;n?n.undefinedPrivateNames.set(e,r):this.parser.raise(C.InvalidPrivateFieldResolution,r,{identifierName:e})}},fu=class{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}},Vh=class extends fu{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,r){let n=r.index;this.declarationErrors.set(n,[e,r])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}},QS=class{constructor(e){this.parser=void 0,this.stack=[new fu],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,r){let n=r.loc.start,{stack:i}=this,s=i.length-1,o=i[s];for(;!o.isCertainlyParameterDeclaration();){if(o.canBeArrowParameterDeclaration())o.recordDeclarationError(e,n);else return;o=i[--s]}this.parser.raise(e,n)}recordArrowParameterBindingError(e,r){let{stack:n}=this,i=n[n.length-1],s=r.loc.start;if(i.isCertainlyParameterDeclaration())this.parser.raise(e,s);else if(i.canBeArrowParameterDeclaration())i.recordDeclarationError(e,s);else return}recordAsyncArrowParametersError(e){let{stack:r}=this,n=r.length-1,i=r[n];for(;i.canBeArrowParameterDeclaration();)i.type===2&&i.recordDeclarationError(C.AwaitBindingIdentifier,e),i=r[--n]}validateAsPattern(){let{stack:e}=this,r=e[e.length-1];r.canBeArrowParameterDeclaration()&&r.iterateErrors(([n,i])=>{this.parser.raise(n,i);let s=e.length-2,o=e[s];for(;o.canBeArrowParameterDeclaration();)o.clearDeclarationError(i.index),o=e[--s]})}};function zte(){return new fu(3)}function Wte(){return new Vh(1)}function Yte(){return new Vh(2)}function gM(){return new fu}var ZS=class{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}};function jh(t,e){return(t?2:0)|(e?1:0)}var e_=class extends YS{addExtra(e,r,n,i=!0){if(!e)return;let{extra:s}=e;s==null&&(s={},e.extra=s),i?s[r]=n:Object.defineProperty(s,r,{enumerable:i,value:n})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,r){let n=e+r.length;if(this.input.slice(e,n)===r){let i=this.input.charCodeAt(n);return!(cu(i)||(i&64512)===55296)}return!1}isLookaheadContextual(e){let r=this.nextTokenStart();return this.isUnparsedContextual(r,e)}eatContextual(e){return this.isContextual(e)?(this.next(),!0):!1}expectContextual(e,r){if(!this.eatContextual(e)){if(r!=null)throw this.raise(r,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return J2(this.input,this.state.lastTokEndLoc.index,this.state.start)}hasFollowingLineBreak(){return J2(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(C.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,r){this.eat(e)||this.unexpected(r,e)}tryParse(e,r=this.state.clone()){let n={node:null};try{let i=e((s=null)=>{throw n.node=s,n});if(this.state.errors.length>r.errors.length){let s=this.state;return this.state=r,this.state.tokensLength=s.tokensLength,{node:i,error:s.errors[r.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:i,error:null,thrown:!1,aborted:!1,failState:null}}catch(i){let s=this.state;if(this.state=r,i instanceof SyntaxError)return{node:null,error:i,thrown:!0,aborted:!1,failState:s};if(i===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:s};throw i}}checkExpressionErrors(e,r){if(!e)return!1;let{shorthandAssignLoc:n,doubleProtoLoc:i,privateKeyLoc:s,optionalParametersLoc:o}=e,a=!!n||!!i||!!o||!!s;if(!r)return a;n!=null&&this.raise(C.InvalidCoverInitializedName,n),i!=null&&this.raise(C.DuplicateProto,i),s!=null&&this.raise(C.UnexpectedPrivateField,s),o!=null&&this.unexpected(o)}isLiteralPropertyName(){return oM(this.state.type)}isPrivateName(e){return e.type==="PrivateName"}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return(e.type==="MemberExpression"||e.type==="OptionalMemberExpression")&&this.isPrivateName(e.property)}isObjectProperty(e){return e.type==="ObjectProperty"}isObjectMethod(e){return e.type==="ObjectMethod"}initializeScopes(e=this.options.sourceType==="module"){let r=this.state.labels;this.state.labels=[];let n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let i=this.inModule;this.inModule=e;let s=this.scope,o=this.getScopeHandler();this.scope=new o(this,e);let a=this.prodParam;this.prodParam=new ZS;let u=this.classScope;this.classScope=new XS(this);let c=this.expressionScope;return this.expressionScope=new QS(this),()=>{this.state.labels=r,this.exportedIdentifiers=n,this.inModule=i,this.scope=s,this.prodParam=a,this.classScope=u,this.expressionScope=c}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}checkDestructuringPrivate(e){let{privateKeyLoc:r}=e;r!==null&&this.expectPlugin("destructuringPrivate",r)}},pu=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},hu=class{constructor(e,r,n){this.type="",this.start=r,this.end=0,this.loc=new du(n),e!=null&&e.options.ranges&&(this.range=[r,0]),e!=null&&e.filename&&(this.loc.filename=e.filename)}},g_=hu.prototype;g_.__clone=function(){let t=new hu(void 0,this.start,this.loc.start),e=Object.keys(this);for(let r=0,n=e.length;r<n;r++){let i=e[r];i!=="leadingComments"&&i!=="trailingComments"&&i!=="innerComments"&&(t[i]=this[i])}return t};function Jte(t){return ns(t)}function ns(t){let{type:e,start:r,end:n,loc:i,range:s,extra:o,name:a}=t,u=Object.create(g_);return u.type=e,u.start=r,u.end=n,u.loc=i,u.range=s,u.extra=o,u.name=a,e==="Placeholder"&&(u.expectedNode=t.expectedNode),u}function Xte(t){let{type:e,start:r,end:n,loc:i,range:s,extra:o}=t;if(e==="Placeholder")return Jte(t);let a=Object.create(g_);return a.type=e,a.start=r,a.end=n,a.loc=i,a.range=s,t.raw!==void 0?a.raw=t.raw:a.extra=o,a.value=t.value,a}var t_=class extends e_{startNode(){let e=this.state.startLoc;return new hu(this,e.index,e)}startNodeAt(e){return new hu(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,r){return this.finishNodeAt(e,r,this.state.lastTokEndLoc)}finishNodeAt(e,r,n){return e.type=r,e.end=n.index,e.loc.end=n,this.options.ranges&&(e.range[1]=n.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,r){e.start=r.index,e.loc.start=r,this.options.ranges&&(e.range[0]=r.index)}resetEndLocation(e,r=this.state.lastTokEndLoc){e.end=r.index,e.loc.end=r,this.options.ranges&&(e.range[1]=r.index)}resetStartLocationFromNode(e,r){this.resetStartLocation(e,r.loc.start)}},Qte=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),ee=rs`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:t})=>`Cannot overwrite reserved type ${t}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:t,enumName:e})=>`Boolean enum members need to be initialized. Use either \`${t} = true,\` or \`${t} = false,\` in enum \`${e}\`.`,EnumDuplicateMemberName:({memberName:t,enumName:e})=>`Enum member names need to be unique, but the name \`${t}\` has already been used before in enum \`${e}\`.`,EnumInconsistentMemberValues:({enumName:t})=>`Enum \`${t}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:t,enumName:e})=>`Enum type \`${t}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:t})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:t,memberName:e,explicitType:r})=>`Enum \`${t}\` has type \`${r}\`, so the initializer of \`${e}\` needs to be a ${r} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:t,memberName:e})=>`Symbol enum members cannot be initialized. Use \`${e},\` in enum \`${t}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:t,memberName:e})=>`The enum member initializer for \`${e}\` needs to be a literal (either a boolean, number, or string) in enum \`${t}\`.`,EnumInvalidMemberName:({enumName:t,memberName:e,suggestion:r})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${e}\`, consider using \`${r}\`, in enum \`${t}\`.`,EnumNumberMemberNotInitialized:({enumName:t,memberName:e})=>`Number enum members need to be initialized, e.g. \`${e} = 1\` in enum \`${t}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:t})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${t}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:t})=>`Unexpected reserved type ${t}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:t,suggestion:e})=>`\`declare export ${t}\` is not supported. Use \`${e}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function Zte(t){return t.type==="DeclareExportAllDeclaration"||t.type==="DeclareExportDeclaration"&&(!t.declaration||t.declaration.type!=="TypeAlias"&&t.declaration.type!=="InterfaceDeclaration")}function Z2(t){return t.importKind==="type"||t.importKind==="typeof"}var ere={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function tre(t,e){let r=[],n=[];for(let i=0;i<t.length;i++)(e(t[i],i,t)?r:n).push(t[i]);return[r,n]}var rre=/\*?\s*@((?:no)?flow)\b/,nre=t=>class extends t{constructor(...r){super(...r),this.flowPragma=void 0}getScopeHandler(){return VS}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(r,n){r!==133&&r!==13&&r!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(r,n)}addComment(r){if(this.flowPragma===void 0){let n=rre.exec(r.value);if(n)if(n[1]==="flow")this.flowPragma="flow";else if(n[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(r)}flowParseTypeInitialiser(r){let n=this.state.inType;this.state.inType=!0,this.expect(r||14);let i=this.flowParseType();return this.state.inType=n,i}flowParsePredicate(){let r=this.startNode(),n=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>n.index+1&&this.raise(ee.UnexpectedSpaceBetweenModuloChecks,n),this.eat(10)?(r.value=super.parseExpression(),this.expect(11),this.finishNode(r,"DeclaredPredicate")):this.finishNode(r,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let r=this.state.inType;this.state.inType=!0,this.expect(14);let n=null,i=null;return this.match(54)?(this.state.inType=r,i=this.flowParsePredicate()):(n=this.flowParseType(),this.state.inType=r,this.match(54)&&(i=this.flowParsePredicate())),[n,i]}flowParseDeclareClass(r){return this.next(),this.flowParseInterfaceish(r,!0),this.finishNode(r,"DeclareClass")}flowParseDeclareFunction(r){this.next();let n=r.id=this.parseIdentifier(),i=this.startNode(),s=this.startNode();this.match(47)?i.typeParameters=this.flowParseTypeParameterDeclaration():i.typeParameters=null,this.expect(10);let o=this.flowParseFunctionTypeParams();return i.params=o.params,i.rest=o.rest,i.this=o._this,this.expect(11),[i.returnType,r.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(i,"FunctionTypeAnnotation"),n.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(n),this.semicolon(),this.scope.declareName(r.id.name,2048,r.id.loc.start),this.finishNode(r,"DeclareFunction")}flowParseDeclare(r,n){if(this.match(80))return this.flowParseDeclareClass(r);if(this.match(68))return this.flowParseDeclareFunction(r);if(this.match(74))return this.flowParseDeclareVariable(r);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(r):(n&&this.raise(ee.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(r));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(r);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(r);if(this.isContextual(129))return this.flowParseDeclareInterface(r);if(this.match(82))return this.flowParseDeclareExportDeclaration(r,n);this.unexpected()}flowParseDeclareVariable(r){return this.next(),r.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(r.id.name,5,r.id.loc.start),this.semicolon(),this.finishNode(r,"DeclareVariable")}flowParseDeclareModule(r){this.scope.enter(0),this.match(133)?r.id=super.parseExprAtom():r.id=this.parseIdentifier();let n=r.body=this.startNode(),i=n.body=[];for(this.expect(5);!this.match(8);){let a=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(ee.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(a)):(this.expectContextual(125,ee.UnsupportedStatementInDeclareModule),a=this.flowParseDeclare(a,!0)),i.push(a)}this.scope.exit(),this.expect(8),this.finishNode(n,"BlockStatement");let s=null,o=!1;return i.forEach(a=>{Zte(a)?(s==="CommonJS"&&this.raise(ee.AmbiguousDeclareModuleKind,a),s="ES"):a.type==="DeclareModuleExports"&&(o&&this.raise(ee.DuplicateDeclareModuleExports,a),s==="ES"&&this.raise(ee.AmbiguousDeclareModuleKind,a),s="CommonJS",o=!0)}),r.kind=s||"CommonJS",this.finishNode(r,"DeclareModule")}flowParseDeclareExportDeclaration(r,n){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?r.declaration=this.flowParseDeclare(this.startNode()):(r.declaration=this.flowParseType(),this.semicolon()),r.default=!0,this.finishNode(r,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!n){let i=this.state.value;throw this.raise(ee.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:i,suggestion:ere[i]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return r.declaration=this.flowParseDeclare(this.startNode()),r.default=!1,this.finishNode(r,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return r=this.parseExport(r,null),r.type==="ExportNamedDeclaration"&&(r.type="ExportDeclaration",r.default=!1,delete r.exportKind),r.type="Declare"+r.type,r;this.unexpected()}flowParseDeclareModuleExports(r){return this.next(),this.expectContextual(111),r.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(r,"DeclareModuleExports")}flowParseDeclareTypeAlias(r){this.next();let n=this.flowParseTypeAlias(r);return n.type="DeclareTypeAlias",n}flowParseDeclareOpaqueType(r){this.next();let n=this.flowParseOpaqueType(r,!0);return n.type="DeclareOpaqueType",n}flowParseDeclareInterface(r){return this.next(),this.flowParseInterfaceish(r,!1),this.finishNode(r,"DeclareInterface")}flowParseInterfaceish(r,n){if(r.id=this.flowParseRestrictedIdentifier(!n,!0),this.scope.declareName(r.id.name,n?17:8201,r.id.loc.start),this.match(47)?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,r.extends=[],this.eat(81))do r.extends.push(this.flowParseInterfaceExtends());while(!n&&this.eat(12));if(n){if(r.implements=[],r.mixins=[],this.eatContextual(117))do r.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do r.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}r.body=this.flowParseObjectType({allowStatic:n,allowExact:!1,allowSpread:!1,allowProto:n,allowInexact:!1})}flowParseInterfaceExtends(){let r=this.startNode();return r.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?r.typeParameters=this.flowParseTypeParameterInstantiation():r.typeParameters=null,this.finishNode(r,"InterfaceExtends")}flowParseInterface(r){return this.flowParseInterfaceish(r,!1),this.finishNode(r,"InterfaceDeclaration")}checkNotUnderscore(r){r==="_"&&this.raise(ee.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(r,n,i){Qte.has(r)&&this.raise(i?ee.AssignReservedType:ee.UnexpectedReservedType,n,{reservedType:r})}flowParseRestrictedIdentifier(r,n){return this.checkReservedType(this.state.value,this.state.startLoc,n),this.parseIdentifier(r)}flowParseTypeAlias(r){return r.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(r.id.name,8201,r.id.loc.start),this.match(47)?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,r.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(r,"TypeAlias")}flowParseOpaqueType(r,n){return this.expectContextual(130),r.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(r.id.name,8201,r.id.loc.start),this.match(47)?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,r.supertype=null,this.match(14)&&(r.supertype=this.flowParseTypeInitialiser(14)),r.impltype=null,n||(r.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(r,"OpaqueType")}flowParseTypeParameter(r=!1){let n=this.state.startLoc,i=this.startNode(),s=this.flowParseVariance(),o=this.flowParseTypeAnnotatableIdentifier();return i.name=o.name,i.variance=s,i.bound=o.typeAnnotation,this.match(29)?(this.eat(29),i.default=this.flowParseType()):r&&this.raise(ee.MissingTypeParamDefault,n),this.finishNode(i,"TypeParameter")}flowParseTypeParameterDeclaration(){let r=this.state.inType,n=this.startNode();n.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let i=!1;do{let s=this.flowParseTypeParameter(i);n.params.push(s),s.default&&(i=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=r,this.finishNode(n,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let r=this.startNode(),n=this.state.inType;r.params=[],this.state.inType=!0,this.expect(47);let i=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)r.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=i,this.expect(48),this.state.inType=n,this.finishNode(r,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let r=this.startNode(),n=this.state.inType;for(r.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)r.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=n,this.finishNode(r,"TypeParameterInstantiation")}flowParseInterfaceType(){let r=this.startNode();if(this.expectContextual(129),r.extends=[],this.eat(81))do r.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return r.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(r,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(r,n,i){return r.static=n,this.lookahead().type===14?(r.id=this.flowParseObjectPropertyKey(),r.key=this.flowParseTypeInitialiser()):(r.id=null,r.key=this.flowParseType()),this.expect(3),r.value=this.flowParseTypeInitialiser(),r.variance=i,this.finishNode(r,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(r,n){return r.static=n,r.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(r.method=!0,r.optional=!1,r.value=this.flowParseObjectTypeMethodish(this.startNodeAt(r.loc.start))):(r.method=!1,this.eat(17)&&(r.optional=!0),r.value=this.flowParseTypeInitialiser()),this.finishNode(r,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(r){for(r.params=[],r.rest=null,r.typeParameters=null,r.this=null,this.match(47)&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(r.this=this.flowParseFunctionTypeParam(!0),r.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)r.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(r.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),r.returnType=this.flowParseTypeInitialiser(),this.finishNode(r,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(r,n){let i=this.startNode();return r.static=n,r.value=this.flowParseObjectTypeMethodish(i),this.finishNode(r,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:r,allowExact:n,allowSpread:i,allowProto:s,allowInexact:o}){let a=this.state.inType;this.state.inType=!0;let u=this.startNode();u.callProperties=[],u.properties=[],u.indexers=[],u.internalSlots=[];let c,l,p=!1;for(n&&this.match(6)?(this.expect(6),c=9,l=!0):(this.expect(5),c=8,l=!1),u.exact=l;!this.match(c);){let f=!1,h=null,m=null,g=this.startNode();if(s&&this.isContextual(118)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),h=this.state.startLoc,r=!1)}if(r&&this.isContextual(106)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),f=!0)}let y=this.flowParseVariance();if(this.eat(0))h!=null&&this.unexpected(h),this.eat(0)?(y&&this.unexpected(y.loc.start),u.internalSlots.push(this.flowParseObjectTypeInternalSlot(g,f))):u.indexers.push(this.flowParseObjectTypeIndexer(g,f,y));else if(this.match(10)||this.match(47))h!=null&&this.unexpected(h),y&&this.unexpected(y.loc.start),u.callProperties.push(this.flowParseObjectTypeCallProperty(g,f));else{let b="init";if(this.isContextual(99)||this.isContextual(104)){let E=this.lookahead();oM(E.type)&&(b=this.state.value,this.next())}let _=this.flowParseObjectTypeProperty(g,f,h,y,b,i,o??!l);_===null?(p=!0,m=this.state.lastTokStartLoc):u.properties.push(_)}this.flowObjectTypeSemicolon(),m&&!this.match(8)&&!this.match(9)&&this.raise(ee.UnexpectedExplicitInexactInObject,m)}this.expect(c),i&&(u.inexact=p);let d=this.finishNode(u,"ObjectTypeAnnotation");return this.state.inType=a,d}flowParseObjectTypeProperty(r,n,i,s,o,a,u){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(a?u||this.raise(ee.InexactInsideExact,this.state.lastTokStartLoc):this.raise(ee.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(ee.InexactVariance,s),null):(a||this.raise(ee.UnexpectedSpreadType,this.state.lastTokStartLoc),i!=null&&this.unexpected(i),s&&this.raise(ee.SpreadVariance,s),r.argument=this.flowParseType(),this.finishNode(r,"ObjectTypeSpreadProperty"));{r.key=this.flowParseObjectPropertyKey(),r.static=n,r.proto=i!=null,r.kind=o;let c=!1;return this.match(47)||this.match(10)?(r.method=!0,i!=null&&this.unexpected(i),s&&this.unexpected(s.loc.start),r.value=this.flowParseObjectTypeMethodish(this.startNodeAt(r.loc.start)),(o==="get"||o==="set")&&this.flowCheckGetterSetterParams(r),!a&&r.key.name==="constructor"&&r.value.this&&this.raise(ee.ThisParamBannedInConstructor,r.value.this)):(o!=="init"&&this.unexpected(),r.method=!1,this.eat(17)&&(c=!0),r.value=this.flowParseTypeInitialiser(),r.variance=s),r.optional=c,this.finishNode(r,"ObjectTypeProperty")}}flowCheckGetterSetterParams(r){let n=r.kind==="get"?0:1,i=r.value.params.length+(r.value.rest?1:0);r.value.this&&this.raise(r.kind==="get"?ee.GetterMayNotHaveThisParam:ee.SetterMayNotHaveThisParam,r.value.this),i!==n&&this.raise(r.kind==="get"?C.BadGetterArity:C.BadSetterArity,r),r.kind==="set"&&r.value.rest&&this.raise(C.BadSetterRestParameter,r)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(r,n){var i;(i=r)!=null||(r=this.state.startLoc);let s=n||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let o=this.startNodeAt(r);o.qualification=s,o.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(o,"QualifiedTypeIdentifier")}return s}flowParseGenericType(r,n){let i=this.startNodeAt(r);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(r,n),this.match(47)&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")}flowParseTypeofType(){let r=this.startNode();return this.expect(87),r.argument=this.flowParsePrimaryType(),this.finishNode(r,"TypeofTypeAnnotation")}flowParseTupleType(){let r=this.startNode();for(r.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(r.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(r,"TupleTypeAnnotation")}flowParseFunctionTypeParam(r){let n=null,i=!1,s=null,o=this.startNode(),a=this.lookahead(),u=this.state.type===78;return a.type===14||a.type===17?(u&&!r&&this.raise(ee.ThisParamMustBeFirst,o),n=this.parseIdentifier(u),this.eat(17)&&(i=!0,u&&this.raise(ee.ThisParamMayNotBeOptional,o)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),o.name=n,o.optional=i,o.typeAnnotation=s,this.finishNode(o,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(r){let n=this.startNodeAt(r.loc.start);return n.name=null,n.optional=!1,n.typeAnnotation=r,this.finishNode(n,"FunctionTypeParam")}flowParseFunctionTypeParams(r=[]){let n=null,i=null;for(this.match(78)&&(i=this.flowParseFunctionTypeParam(!0),i.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)r.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(n=this.flowParseFunctionTypeParam(!1)),{params:r,rest:n,_this:i}}flowIdentToTypeAnnotation(r,n,i){switch(i.name){case"any":return this.finishNode(n,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(n,"BooleanTypeAnnotation");case"mixed":return this.finishNode(n,"MixedTypeAnnotation");case"empty":return this.finishNode(n,"EmptyTypeAnnotation");case"number":return this.finishNode(n,"NumberTypeAnnotation");case"string":return this.finishNode(n,"StringTypeAnnotation");case"symbol":return this.finishNode(n,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(i.name),this.flowParseGenericType(r,i)}}flowParsePrimaryType(){let r=this.state.startLoc,n=this.startNode(),i,s,o=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=a,s;case 47:{let u=this.startNode();return u.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),i=this.flowParseFunctionTypeParams(),u.params=i.params,u.rest=i.rest,u.this=i._this,this.expect(11),this.expect(19),u.returnType=this.flowParseType(),this.finishNode(u,"FunctionTypeAnnotation")}case 10:{let u=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(Ne(this.state.type)||this.match(78)){let c=this.lookahead().type;o=c!==17&&c!==14}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),s;this.eat(12)}return s?i=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):i=this.flowParseFunctionTypeParams(),u.params=i.params,u.rest=i.rest,u.this=i._this,this.expect(11),this.expect(19),u.returnType=this.flowParseType(),u.typeParameters=null,this.finishNode(u,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return n.value=this.match(85),this.next(),this.finishNode(n,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",n);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",n);throw this.raise(ee.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(n,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(n,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(n,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(n,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(f_(this.state.type)){let u=js(this.state.type);return this.next(),super.createIdentifier(n,u)}else if(Ne(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(r,n,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let r=this.state.startLoc,n=this.flowParsePrimaryType(),i=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let s=this.startNodeAt(r),o=this.eat(18);i=i||o,this.expect(0),!o&&this.match(3)?(s.elementType=n,this.next(),n=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=n,s.indexType=this.flowParseType(),this.expect(3),i?(s.optional=o,n=this.finishNode(s,"OptionalIndexedAccessType")):n=this.finishNode(s,"IndexedAccessType"))}return n}flowParsePrefixType(){let r=this.startNode();return this.eat(17)?(r.typeAnnotation=this.flowParsePrefixType(),this.finishNode(r,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let r=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let n=this.startNodeAt(r.loc.start);return n.params=[this.reinterpretTypeAsFunctionTypeParam(r)],n.rest=null,n.this=null,n.returnType=this.flowParseType(),n.typeParameters=null,this.finishNode(n,"FunctionTypeAnnotation")}return r}flowParseIntersectionType(){let r=this.startNode();this.eat(45);let n=this.flowParseAnonFunctionWithoutParens();for(r.types=[n];this.eat(45);)r.types.push(this.flowParseAnonFunctionWithoutParens());return r.types.length===1?n:this.finishNode(r,"IntersectionTypeAnnotation")}flowParseUnionType(){let r=this.startNode();this.eat(43);let n=this.flowParseIntersectionType();for(r.types=[n];this.eat(43);)r.types.push(this.flowParseIntersectionType());return r.types.length===1?n:this.finishNode(r,"UnionTypeAnnotation")}flowParseType(){let r=this.state.inType;this.state.inType=!0;let n=this.flowParseUnionType();return this.state.inType=r,n}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let r=this.state.startLoc,n=this.parseIdentifier();return this.flowParseGenericType(r,n)}else return this.flowParseType()}flowParseTypeAnnotation(){let r=this.startNode();return r.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(r,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(r){let n=r?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(n.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(n)),n}typeCastToParameter(r){return r.expression.typeAnnotation=r.typeAnnotation,this.resetEndLocation(r.expression,r.typeAnnotation.loc.end),r.expression}flowParseVariance(){let r=null;return this.match(53)?(r=this.startNode(),this.state.value==="+"?r.kind="plus":r.kind="minus",this.next(),this.finishNode(r,"Variance")):r}parseFunctionBody(r,n,i=!1){if(n){this.forwardNoArrowParamsConversionAt(r,()=>super.parseFunctionBody(r,!0,i));return}super.parseFunctionBody(r,!1,i)}parseFunctionBodyAndFinish(r,n,i=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,r.predicate]=this.flowParseTypeAndPredicateInitialiser(),r.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(r,n,i)}parseStatementLike(r){if(this.state.strict&&this.isContextual(129)){let i=this.lookahead();if(wn(i.type)){let s=this.startNode();return this.next(),this.flowParseInterface(s)}}else if(this.plugins.get("flow").enums&&this.isContextual(126)){let i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}let n=super.parseStatementLike(r);return this.flowPragma===void 0&&!this.isValidDirective(n)&&(this.flowPragma=null),n}parseExpressionStatement(r,n,i){if(n.type==="Identifier"){if(n.name==="declare"){if(this.match(80)||Ne(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(r)}else if(Ne(this.state.type)){if(n.name==="interface")return this.flowParseInterface(r);if(n.name==="type")return this.flowParseTypeAlias(r);if(n.name==="opaque")return this.flowParseOpaqueType(r,!1)}}return super.parseExpressionStatement(r,n,i)}shouldParseExportDeclaration(){let{type:r}=this.state;return Y2(r)||this.plugins.get("flow").enums&&r===126?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:r}=this.state;return Y2(r)||this.plugins.get("flow").enums&&r===126?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.plugins.get("flow").enums&&this.isContextual(126)){let r=this.startNode();return this.next(),this.flowParseEnumDeclaration(r)}return super.parseExportDefaultExpression()}parseConditional(r,n,i){if(!this.match(17))return r;if(this.state.maybeInArrowParameters){let d=this.lookaheadCharCode();if(d===44||d===61||d===58||d===41)return this.setOptionalParametersError(i),r}this.expect(17);let s=this.state.clone(),o=this.state.noArrowAt,a=this.startNodeAt(n),{consequent:u,failed:c}=this.tryParseConditionalConsequent(),[l,p]=this.getArrowLikeExpressions(u);if(c||p.length>0){let d=[...o];if(p.length>0){this.state=s,this.state.noArrowAt=d;for(let f=0;f<p.length;f++)d.push(p[f].start);({consequent:u,failed:c}=this.tryParseConditionalConsequent()),[l,p]=this.getArrowLikeExpressions(u)}c&&l.length>1&&this.raise(ee.AmbiguousConditionalArrow,s.startLoc),c&&l.length===1&&(this.state=s,d.push(l[0].start),this.state.noArrowAt=d,{consequent:u,failed:c}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(u,!0),this.state.noArrowAt=o,this.expect(14),a.test=r,a.consequent=u,a.alternate=this.forwardNoArrowParamsConversionAt(a,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(a,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let r=this.parseMaybeAssignAllowIn(),n=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:r,failed:n}}getArrowLikeExpressions(r,n){let i=[r],s=[];for(;i.length!==0;){let o=i.pop();o.type==="ArrowFunctionExpression"&&o.body.type!=="BlockStatement"?(o.typeParameters||!o.returnType?this.finishArrowValidation(o):s.push(o),i.push(o.body)):o.type==="ConditionalExpression"&&(i.push(o.consequent),i.push(o.alternate))}return n?(s.forEach(o=>this.finishArrowValidation(o)),[s,[]]):tre(s,o=>o.params.every(a=>this.isAssignable(a,!0)))}finishArrowValidation(r){var n;this.toAssignableList(r.params,(n=r.extra)==null?void 0:n.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(r,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(r,n){let i;return this.state.noArrowParamsConversionAt.includes(r.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),i=n(),this.state.noArrowParamsConversionAt.pop()):i=n(),i}parseParenItem(r,n){let i=super.parseParenItem(r,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(r)),this.match(14)){let s=this.startNodeAt(n);return s.expression=i,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return i}assertModuleNodeAllowed(r){r.type==="ImportDeclaration"&&(r.importKind==="type"||r.importKind==="typeof")||r.type==="ExportNamedDeclaration"&&r.exportKind==="type"||r.type==="ExportAllDeclaration"&&r.exportKind==="type"||super.assertModuleNodeAllowed(r)}parseExportDeclaration(r){if(this.isContextual(130)){r.exportKind="type";let n=this.startNode();return this.next(),this.match(5)?(r.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(r),null):this.flowParseTypeAlias(n)}else if(this.isContextual(131)){r.exportKind="type";let n=this.startNode();return this.next(),this.flowParseOpaqueType(n,!1)}else if(this.isContextual(129)){r.exportKind="type";let n=this.startNode();return this.next(),this.flowParseInterface(n)}else if(this.plugins.get("flow").enums&&this.isContextual(126)){r.exportKind="value";let n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}else return super.parseExportDeclaration(r)}eatExportStar(r){return super.eatExportStar(r)?!0:this.isContextual(130)&&this.lookahead().type===55?(r.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(r){let{startLoc:n}=this.state,i=super.maybeParseExportNamespaceSpecifier(r);return i&&r.exportKind==="type"&&this.unexpected(n),i}parseClassId(r,n,i){super.parseClassId(r,n,i),this.match(47)&&(r.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(r,n,i){let{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(r,n))return;n.declare=!0}super.parseClassMember(r,n,i),n.declare&&(n.type!=="ClassProperty"&&n.type!=="ClassPrivateProperty"&&n.type!=="PropertyDefinition"?this.raise(ee.DeclareClassElement,s):n.value&&this.raise(ee.DeclareClassFieldInitializer,n.value))}isIterator(r){return r==="iterator"||r==="asyncIterator"}readIterator(){let r=super.readWord1(),n="@@"+r;(!this.isIterator(r)||!this.state.inType)&&this.raise(C.InvalidIdentifier,this.state.curPosition(),{identifierName:n}),this.finishToken(132,n)}getTokenFromCode(r){let n=this.input.charCodeAt(this.state.pos+1);r===123&&n===124?this.finishOp(6,2):this.state.inType&&(r===62||r===60)?this.finishOp(r===62?48:47,1):this.state.inType&&r===63?n===46?this.finishOp(18,2):this.finishOp(17,1):Lte(r,n,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(r)}isAssignable(r,n){return r.type==="TypeCastExpression"?this.isAssignable(r.expression,n):super.isAssignable(r,n)}toAssignable(r,n=!1){!n&&r.type==="AssignmentExpression"&&r.left.type==="TypeCastExpression"&&(r.left=this.typeCastToParameter(r.left)),super.toAssignable(r,n)}toAssignableList(r,n,i){for(let s=0;s<r.length;s++){let o=r[s];o?.type==="TypeCastExpression"&&(r[s]=this.typeCastToParameter(o))}super.toAssignableList(r,n,i)}toReferencedList(r,n){for(let s=0;s<r.length;s++){var i;let o=r[s];o&&o.type==="TypeCastExpression"&&!((i=o.extra)!=null&&i.parenthesized)&&(r.length>1||!n)&&this.raise(ee.TypeCastInPattern,o.typeAnnotation)}return r}parseArrayLike(r,n,i,s){let o=super.parseArrayLike(r,n,i,s);return n&&!this.state.maybeInArrowParameters&&this.toReferencedList(o.elements),o}isValidLVal(r,n,i){return r==="TypeCastExpression"||super.isValidLVal(r,n,i)}parseClassProperty(r){return this.match(14)&&(r.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(r)}parseClassPrivateProperty(r){return this.match(14)&&(r.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(r)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(r){return!this.match(14)&&super.isNonstaticConstructor(r)}pushClassMethod(r,n,i,s,o,a){if(n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(r,n,i,s,o,a),n.params&&o){let u=n.params;u.length>0&&this.isThisParam(u[0])&&this.raise(ee.ThisParamBannedInConstructor,n)}else if(n.type==="MethodDefinition"&&o&&n.value.params){let u=n.value.params;u.length>0&&this.isThisParam(u[0])&&this.raise(ee.ThisParamBannedInConstructor,n)}}pushClassPrivateMethod(r,n,i,s){n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(r,n,i,s)}parseClassSuper(r){if(super.parseClassSuper(r),r.superClass&&this.match(47)&&(r.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();let n=r.implements=[];do{let i=this.startNode();i.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?i.typeParameters=this.flowParseTypeParameterInstantiation():i.typeParameters=null,n.push(this.finishNode(i,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(r){super.checkGetterSetterParams(r);let n=this.getObjectOrClassMethodParams(r);if(n.length>0){let i=n[0];this.isThisParam(i)&&r.kind==="get"?this.raise(ee.GetterMayNotHaveThisParam,i):this.isThisParam(i)&&this.raise(ee.SetterMayNotHaveThisParam,i)}}parsePropertyNamePrefixOperator(r){r.variance=this.flowParseVariance()}parseObjPropValue(r,n,i,s,o,a,u){r.variance&&this.unexpected(r.variance.loc.start),delete r.variance;let c;this.match(47)&&!a&&(c=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let l=super.parseObjPropValue(r,n,i,s,o,a,u);return c&&((l.value||l).typeParameters=c),l}parseFunctionParamType(r){return this.eat(17)&&(r.type!=="Identifier"&&this.raise(ee.PatternIsOptional,r),this.isThisParam(r)&&this.raise(ee.ThisParamMayNotBeOptional,r),r.optional=!0),this.match(14)?r.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(r)&&this.raise(ee.ThisParamAnnotationRequired,r),this.match(29)&&this.isThisParam(r)&&this.raise(ee.ThisParamNoDefault,r),this.resetEndLocation(r),r}parseMaybeDefault(r,n){let i=super.parseMaybeDefault(r,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(ee.TypeBeforeInitializer,i.typeAnnotation),i}checkImportReflection(r){super.checkImportReflection(r),r.module&&r.importKind!=="value"&&this.raise(ee.ImportReflectionHasImportType,r.specifiers[0].loc.start)}parseImportSpecifierLocal(r,n,i){n.local=Z2(r)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),r.specifiers.push(this.finishImportSpecifier(n,i))}isPotentialImportPhase(r){if(super.isPotentialImportPhase(r))return!0;if(this.isContextual(130)){if(!r)return!0;let n=this.lookaheadCharCode();return n===123||n===42}return!r&&this.isContextual(87)}applyImportPhase(r,n,i,s){if(super.applyImportPhase(r,n,i,s),n){if(!i&&this.match(65))return;r.exportKind=i==="type"?i:"value"}else i==="type"&&this.match(55)&&this.unexpected(),r.importKind=i==="type"||i==="typeof"?i:"value"}parseImportSpecifier(r,n,i,s,o){let a=r.imported,u=null;a.type==="Identifier"&&(a.name==="type"?u="type":a.name==="typeof"&&(u="typeof"));let c=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let p=this.parseIdentifier(!0);u!==null&&!wn(this.state.type)?(r.imported=p,r.importKind=u,r.local=ns(p)):(r.imported=a,r.importKind=null,r.local=this.parseIdentifier())}else{if(u!==null&&wn(this.state.type))r.imported=this.parseIdentifier(!0),r.importKind=u;else{if(n)throw this.raise(C.ImportBindingIsString,r,{importName:a.value});r.imported=a,r.importKind=null}this.eatContextual(93)?r.local=this.parseIdentifier():(c=!0,r.local=ns(r.imported))}let l=Z2(r);return i&&l&&this.raise(ee.ImportTypeShorthandOnlyInPureImport,r),(i||l)&&this.checkReservedType(r.local.name,r.local.loc.start,!0),c&&!i&&!l&&this.checkReservedWord(r.local.name,r.loc.start,!0,!0),this.finishImportSpecifier(r,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(r,n){let i=r.kind;i!=="get"&&i!=="set"&&this.match(47)&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(r,n)}parseVarId(r,n){super.parseVarId(r,n),this.match(14)&&(r.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(r.id))}parseAsyncArrowFromCallExpression(r,n){if(this.match(14)){let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,r.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=i}return super.parseAsyncArrowFromCallExpression(r,n)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(r,n){var i;let s=null,o;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(s=this.state.clone(),o=this.tryParse(()=>super.parseMaybeAssign(r,n),s),!o.error)return o.node;let{context:c}=this.state,l=c[c.length-1];(l===qe.j_oTag||l===qe.j_expr)&&c.pop()}if((i=o)!=null&&i.error||this.match(47)){var a,u;s=s||this.state.clone();let c,l=this.tryParse(d=>{var f;c=this.flowParseTypeParameterDeclaration();let h=this.forwardNoArrowParamsConversionAt(c,()=>{let g=super.parseMaybeAssign(r,n);return this.resetStartLocationFromNode(g,c),g});(f=h.extra)!=null&&f.parenthesized&&d();let m=this.maybeUnwrapTypeCastExpression(h);return m.type!=="ArrowFunctionExpression"&&d(),m.typeParameters=c,this.resetStartLocationFromNode(m,c),h},s),p=null;if(l.node&&this.maybeUnwrapTypeCastExpression(l.node).type==="ArrowFunctionExpression"){if(!l.error&&!l.aborted)return l.node.async&&this.raise(ee.UnexpectedTypeParameterBeforeAsyncArrowFunction,c),l.node;p=l.node}if((a=o)!=null&&a.node)return this.state=o.failState,o.node;if(p)return this.state=l.failState,p;throw(u=o)!=null&&u.thrown?o.error:l.thrown?l.error:this.raise(ee.UnexpectedTokenAfterTypeParameter,c)}return super.parseMaybeAssign(r,n)}parseArrow(r){if(this.match(14)){let n=this.tryParse(()=>{let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,r.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=i,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(n.thrown)return null;n.error&&(this.state=n.failState),r.returnType=n.node.typeAnnotation?this.finishNode(n.node,"TypeAnnotation"):null}return super.parseArrow(r)}shouldParseArrow(r){return this.match(14)||super.shouldParseArrow(r)}setArrowFunctionParameters(r,n){this.state.noArrowParamsConversionAt.includes(r.start)?r.params=n:super.setArrowFunctionParameters(r,n)}checkParams(r,n,i,s=!0){if(!(i&&this.state.noArrowParamsConversionAt.includes(r.start))){for(let o=0;o<r.params.length;o++)this.isThisParam(r.params[o])&&o>0&&this.raise(ee.ThisParamMustBeFirst,r.params[o]);super.checkParams(r,n,i,s)}}parseParenAndDistinguishExpression(r){return super.parseParenAndDistinguishExpression(r&&!this.state.noArrowAt.includes(this.state.start))}parseSubscripts(r,n,i){if(r.type==="Identifier"&&r.name==="async"&&this.state.noArrowAt.includes(n.index)){this.next();let s=this.startNodeAt(n);s.callee=r,s.arguments=super.parseCallExpressionArguments(11,!1),r=this.finishNode(s,"CallExpression")}else if(r.type==="Identifier"&&r.name==="async"&&this.match(47)){let s=this.state.clone(),o=this.tryParse(u=>this.parseAsyncArrowWithTypeParameters(n)||u(),s);if(!o.error&&!o.aborted)return o.node;let a=this.tryParse(()=>super.parseSubscripts(r,n,i),s);if(a.node&&!a.error)return a.node;if(o.node)return this.state=o.failState,o.node;if(a.node)return this.state=a.failState,a.node;throw o.error||a.error}return super.parseSubscripts(r,n,i)}parseSubscript(r,n,i,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,i)return s.stop=!0,r;this.next();let o=this.startNodeAt(n);return o.callee=r,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),o.arguments=this.parseCallExpressionArguments(11,!1),o.optional=!0,this.finishCallExpression(o,!0)}else if(!i&&this.shouldParseTypes()&&this.match(47)){let o=this.startNodeAt(n);o.callee=r;let a=this.tryParse(()=>(o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),o.arguments=super.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(o.optional=!1),this.finishCallExpression(o,s.optionalChainMember)));if(a.node)return a.error&&(this.state=a.failState),a.node}return super.parseSubscript(r,n,i,s)}parseNewCallee(r){super.parseNewCallee(r);let n=null;this.shouldParseTypes()&&this.match(47)&&(n=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),r.typeArguments=n}parseAsyncArrowWithTypeParameters(r){let n=this.startNodeAt(r);if(this.parseFunctionParams(n,!1),!!this.parseArrow(n))return super.parseArrowExpression(n,void 0,!0)}readToken_mult_modulo(r){let n=this.input.charCodeAt(this.state.pos+1);if(r===42&&n===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(r)}readToken_pipe_amp(r){let n=this.input.charCodeAt(this.state.pos+1);if(r===124&&n===125){this.finishOp(9,2);return}super.readToken_pipe_amp(r)}parseTopLevel(r,n){let i=super.parseTopLevel(r,n);return this.state.hasFlowComment&&this.raise(ee.UnterminatedFlowComment,this.state.curPosition()),i}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(ee.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let r=this.skipFlowComment();r&&(this.state.pos+=r,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:r}=this.state,n=2;for(;[32,9].includes(this.input.charCodeAt(r+n));)n++;let i=this.input.charCodeAt(n+r),s=this.input.charCodeAt(n+r+1);return i===58&&s===58?n+2:this.input.slice(n+r,n+r+12)==="flow-include"?n+12:i===58&&s!==58?n:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(C.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(r,{enumName:n,memberName:i}){this.raise(ee.EnumBooleanMemberNotInitialized,r,{memberName:i,enumName:n})}flowEnumErrorInvalidMemberInitializer(r,n){return this.raise(n.explicitType?n.explicitType==="symbol"?ee.EnumInvalidMemberInitializerSymbolType:ee.EnumInvalidMemberInitializerPrimaryType:ee.EnumInvalidMemberInitializerUnknownType,r,n)}flowEnumErrorNumberMemberNotInitialized(r,n){this.raise(ee.EnumNumberMemberNotInitialized,r,n)}flowEnumErrorStringMemberInconsistentlyInitialized(r,n){this.raise(ee.EnumStringMemberInconsistentlyInitialized,r,n)}flowEnumMemberInit(){let r=this.state.startLoc,n=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{let i=this.parseNumericLiteral(this.state.value);return n()?{type:"number",loc:i.loc.start,value:i}:{type:"invalid",loc:r}}case 133:{let i=this.parseStringLiteral(this.state.value);return n()?{type:"string",loc:i.loc.start,value:i}:{type:"invalid",loc:r}}case 85:case 86:{let i=this.parseBooleanLiteral(this.match(85));return n()?{type:"boolean",loc:i.loc.start,value:i}:{type:"invalid",loc:r}}default:return{type:"invalid",loc:r}}}flowEnumMemberRaw(){let r=this.state.startLoc,n=this.parseIdentifier(!0),i=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:r};return{id:n,init:i}}flowEnumCheckExplicitTypeMismatch(r,n,i){let{explicitType:s}=n;s!==null&&s!==i&&this.flowEnumErrorInvalidMemberInitializer(r,n)}flowEnumMembers({enumName:r,explicitType:n}){let i=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},o=!1;for(;!this.match(8);){if(this.eat(21)){o=!0;break}let a=this.startNode(),{id:u,init:c}=this.flowEnumMemberRaw(),l=u.name;if(l==="")continue;/^[a-z]/.test(l)&&this.raise(ee.EnumInvalidMemberName,u,{memberName:l,suggestion:l[0].toUpperCase()+l.slice(1),enumName:r}),i.has(l)&&this.raise(ee.EnumDuplicateMemberName,u,{memberName:l,enumName:r}),i.add(l);let p={enumName:r,explicitType:n,memberName:l};switch(a.id=u,c.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(c.loc,p,"boolean"),a.init=c.value,s.booleanMembers.push(this.finishNode(a,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(c.loc,p,"number"),a.init=c.value,s.numberMembers.push(this.finishNode(a,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(c.loc,p,"string"),a.init=c.value,s.stringMembers.push(this.finishNode(a,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(c.loc,p);case"none":switch(n){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(c.loc,p);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(c.loc,p);break;default:s.defaultedMembers.push(this.finishNode(a,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:o}}flowEnumStringMembers(r,n,{enumName:i}){if(r.length===0)return n;if(n.length===0)return r;if(n.length>r.length){for(let s of r)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return n}else{for(let s of n)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return r}}flowEnumParseExplicitType({enumName:r}){if(!this.eatContextual(102))return null;if(!Ne(this.state.type))throw this.raise(ee.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:r});let{value:n}=this.state;return this.next(),n!=="boolean"&&n!=="number"&&n!=="string"&&n!=="symbol"&&this.raise(ee.EnumInvalidExplicitType,this.state.startLoc,{enumName:r,invalidEnumType:n}),n}flowEnumBody(r,n){let i=n.name,s=n.loc.start,o=this.flowEnumParseExplicitType({enumName:i});this.expect(5);let{members:a,hasUnknownMembers:u}=this.flowEnumMembers({enumName:i,explicitType:o});switch(r.hasUnknownMembers=u,o){case"boolean":return r.explicitType=!0,r.members=a.booleanMembers,this.expect(8),this.finishNode(r,"EnumBooleanBody");case"number":return r.explicitType=!0,r.members=a.numberMembers,this.expect(8),this.finishNode(r,"EnumNumberBody");case"string":return r.explicitType=!0,r.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(r,"EnumStringBody");case"symbol":return r.members=a.defaultedMembers,this.expect(8),this.finishNode(r,"EnumSymbolBody");default:{let c=()=>(r.members=[],this.expect(8),this.finishNode(r,"EnumStringBody"));r.explicitType=!1;let l=a.booleanMembers.length,p=a.numberMembers.length,d=a.stringMembers.length,f=a.defaultedMembers.length;if(!l&&!p&&!d&&!f)return c();if(!l&&!p)return r.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(r,"EnumStringBody");if(!p&&!d&&l>=f){for(let h of a.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(h.loc.start,{enumName:i,memberName:h.id.name});return r.members=a.booleanMembers,this.expect(8),this.finishNode(r,"EnumBooleanBody")}else if(!l&&!d&&p>=f){for(let h of a.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(h.loc.start,{enumName:i,memberName:h.id.name});return r.members=a.numberMembers,this.expect(8),this.finishNode(r,"EnumNumberBody")}else return this.raise(ee.EnumInconsistentMemberValues,s,{enumName:i}),c()}}}flowParseEnumDeclaration(r){let n=this.parseIdentifier();return r.id=n,r.body=this.flowEnumBody(this.startNode(),n),this.finishNode(r,"EnumDeclaration")}isLookaheadToken_lt(){let r=this.nextTokenStart();if(this.input.charCodeAt(r)===60){let n=this.input.charCodeAt(r+1);return n!==60&&n!==61}return!1}maybeUnwrapTypeCastExpression(r){return r.type==="TypeCastExpression"?r.expression:r}},ire={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},jo=rs`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:t})=>`Expected corresponding JSX closing tag for <${t}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:t,HTMLEntity:e})=>`Unexpected token \`${t}\`. Did you mean \`${e}\` or \`{'${t}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Us(t){return t?t.type==="JSXOpeningFragment"||t.type==="JSXClosingFragment":!1}function uu(t){if(t.type==="JSXIdentifier")return t.name;if(t.type==="JSXNamespacedName")return t.namespace.name+":"+t.name.name;if(t.type==="JSXMemberExpression")return uu(t.object)+"."+uu(t.property);throw new Error("Node had unexpected type: "+t.type)}var sre=t=>class extends t{jsxReadToken(){let r="",n=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(jo.UnterminatedJsxContent,this.state.startLoc);let i=this.input.charCodeAt(this.state.pos);switch(i){case 60:case 123:if(this.state.pos===this.state.start){i===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(i);return}r+=this.input.slice(n,this.state.pos),this.finishToken(141,r);return;case 38:r+=this.input.slice(n,this.state.pos),r+=this.jsxReadEntity(),n=this.state.pos;break;case 62:case 125:default:lu(i)?(r+=this.input.slice(n,this.state.pos),r+=this.jsxReadNewLine(!0),n=this.state.pos):++this.state.pos}}}jsxReadNewLine(r){let n=this.input.charCodeAt(this.state.pos),i;return++this.state.pos,n===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,i=r?`
`:`\r
`):i=String.fromCharCode(n),++this.state.curLine,this.state.lineStart=this.state.pos,i}jsxReadString(r){let n="",i=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(C.UnterminatedString,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);if(s===r)break;s===38?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadEntity(),i=this.state.pos):lu(s)?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadNewLine(!1),i=this.state.pos):++this.state.pos}n+=this.input.slice(i,this.state.pos++),this.finishToken(133,n)}jsxReadEntity(){let r=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let n=10;this.codePointAtPos(this.state.pos)===120&&(n=16,++this.state.pos);let i=this.readInt(n,void 0,!1,"bail");if(i!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(i)}else{let n=0,i=!1;for(;n++<10&&this.state.pos<this.length&&!(i=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(i){let s=this.input.slice(r,this.state.pos),o=ire[s];if(++this.state.pos,o)return o}}return this.state.pos=r,"&"}jsxReadWord(){let r,n=this.state.pos;do r=this.input.charCodeAt(++this.state.pos);while(cu(r)||r===45);this.finishToken(140,this.input.slice(n,this.state.pos))}jsxParseIdentifier(){let r=this.startNode();return this.match(140)?r.name=this.state.value:f_(this.state.type)?r.name=js(this.state.type):this.unexpected(),this.next(),this.finishNode(r,"JSXIdentifier")}jsxParseNamespacedName(){let r=this.state.startLoc,n=this.jsxParseIdentifier();if(!this.eat(14))return n;let i=this.startNodeAt(r);return i.namespace=n,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")}jsxParseElementName(){let r=this.state.startLoc,n=this.jsxParseNamespacedName();if(n.type==="JSXNamespacedName")return n;for(;this.eat(16);){let i=this.startNodeAt(r);i.object=n,i.property=this.jsxParseIdentifier(),n=this.finishNode(i,"JSXMemberExpression")}return n}jsxParseAttributeValue(){let r;switch(this.state.type){case 5:return r=this.startNode(),this.setContext(qe.brace),this.next(),r=this.jsxParseExpressionContainer(r,qe.j_oTag),r.expression.type==="JSXEmptyExpression"&&this.raise(jo.AttributeIsEmpty,r),r;case 142:case 133:return this.parseExprAtom();default:throw this.raise(jo.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let r=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(r,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(r){return this.next(),r.expression=this.parseExpression(),this.setContext(qe.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(r,"JSXSpreadChild")}jsxParseExpressionContainer(r,n){if(this.match(8))r.expression=this.jsxParseEmptyExpression();else{let i=this.parseExpression();r.expression=i}return this.setContext(n),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(r,"JSXExpressionContainer")}jsxParseAttribute(){let r=this.startNode();return this.match(5)?(this.setContext(qe.brace),this.next(),this.expect(21),r.argument=this.parseMaybeAssignAllowIn(),this.setContext(qe.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(r,"JSXSpreadAttribute")):(r.name=this.jsxParseNamespacedName(),r.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(r,"JSXAttribute"))}jsxParseOpeningElementAt(r){let n=this.startNodeAt(r);return this.eat(143)?this.finishNode(n,"JSXOpeningFragment"):(n.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(n))}jsxParseOpeningElementAfterName(r){let n=[];for(;!this.match(56)&&!this.match(143);)n.push(this.jsxParseAttribute());return r.attributes=n,r.selfClosing=this.eat(56),this.expect(143),this.finishNode(r,"JSXOpeningElement")}jsxParseClosingElementAt(r){let n=this.startNodeAt(r);return this.eat(143)?this.finishNode(n,"JSXClosingFragment"):(n.name=this.jsxParseElementName(),this.expect(143),this.finishNode(n,"JSXClosingElement"))}jsxParseElementAt(r){let n=this.startNodeAt(r),i=[],s=this.jsxParseOpeningElementAt(r),o=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 142:if(r=this.state.startLoc,this.next(),this.eat(56)){o=this.jsxParseClosingElementAt(r);break e}i.push(this.jsxParseElementAt(r));break;case 141:i.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let a=this.startNode();this.setContext(qe.brace),this.next(),this.match(21)?i.push(this.jsxParseSpreadChild(a)):i.push(this.jsxParseExpressionContainer(a,qe.j_expr));break}default:this.unexpected()}Us(s)&&!Us(o)&&o!==null?this.raise(jo.MissingClosingTagFragment,o):!Us(s)&&Us(o)?this.raise(jo.MissingClosingTagElement,o,{openingTagName:uu(s.name)}):!Us(s)&&!Us(o)&&uu(o.name)!==uu(s.name)&&this.raise(jo.MissingClosingTagElement,o,{openingTagName:uu(s.name)})}if(Us(s)?(n.openingFragment=s,n.closingFragment=o):(n.openingElement=s,n.closingElement=o),n.children=i,this.match(47))throw this.raise(jo.UnwrappedAdjacentJSXElements,this.state.startLoc);return Us(s)?this.finishNode(n,"JSXFragment"):this.finishNode(n,"JSXElement")}jsxParseElement(){let r=this.state.startLoc;return this.next(),this.jsxParseElementAt(r)}setContext(r){let{context:n}=this.state;n[n.length-1]=r}parseExprAtom(r){return this.match(142)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(r)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(r){let n=this.curContext();if(n===qe.j_expr){this.jsxReadToken();return}if(n===qe.j_oTag||n===qe.j_cTag){if(ts(r)){this.jsxReadWord();return}if(r===62){++this.state.pos,this.finishToken(143);return}if((r===34||r===39)&&n===qe.j_oTag){this.jsxReadString(r);return}}if(r===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(142);return}super.getTokenFromCode(r)}updateContext(r){let{context:n,type:i}=this.state;if(i===56&&r===142)n.splice(-2,2,qe.j_cTag),this.state.canStartJSXElement=!1;else if(i===142)n.push(qe.j_oTag);else if(i===143){let s=n[n.length-1];s===qe.j_oTag&&r===56||s===qe.j_cTag?(n.pop(),this.state.canStartJSXElement=n[n.length-1]===qe.j_expr):(this.setContext(qe.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=xte(i)}},r_=class extends jl{constructor(...e){super(...e),this.tsNames=new Map}},n_=class extends ql{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new r_(e)}enter(e){e===256&&this.importsStack.push(new Set),super.enter(e)}exit(){let e=super.exit();return e===256&&this.importsStack.pop(),e}hasImport(e,r){let n=this.importsStack.length;if(this.importsStack[n-1].has(e))return!0;if(!r&&n>1){for(let i=0;i<n-1;i++)if(this.importsStack[i].has(e))return!0}return!1}declareName(e,r,n){if(r&4096){this.hasImport(e,!0)&&this.parser.raise(C.VarRedeclaration,n,{identifierName:e}),this.importsStack[this.importsStack.length-1].add(e);return}let i=this.currentScope(),s=i.tsNames.get(e)||0;if(r&1024){this.maybeExportDefined(i,e),i.tsNames.set(e,s|16);return}super.declareName(e,r,n),r&2&&(r&1||(this.checkRedeclarationInScope(i,e,r,n),this.maybeExportDefined(i,e)),s=s|1),r&256&&(s=s|2),r&512&&(s=s|4),r&128&&(s=s|8),s&&i.tsNames.set(e,s)}isRedeclaredInScope(e,r,n){let i=e.tsNames.get(r);if((i&2)>0){if(n&256){let s=!!(n&512),o=(i&4)>0;return s!==o}return!0}return n&128&&(i&8)>0?e.names.get(r)&2?!!(n&1):!1:n&2&&(i&1)>0?!0:super.isRedeclaredInScope(e,r,n)}checkLocalExport(e){let{name:r}=e;if(this.hasImport(r))return;let n=this.scopeStack.length;for(let i=n-1;i>=0;i--){let o=this.scopeStack[i].tsNames.get(r);if((o&1)>0||(o&16)>0)return}super.checkLocalExport(e)}},yM=t=>t.type==="ParenthesizedExpression"?yM(t.expression):t,i_=class extends t_{toAssignable(e,r=!1){var n,i;let s;switch((e.type==="ParenthesizedExpression"||(n=e.extra)!=null&&n.parenthesized)&&(s=yM(e),r?s.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(C.InvalidParenthesizedAssignment,e):s.type!=="MemberExpression"&&!this.isOptionalMemberExpression(s)&&this.raise(C.InvalidParenthesizedAssignment,e):this.raise(C.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let a=0,u=e.properties.length,c=u-1;a<u;a++){var o;let l=e.properties[a],p=a===c;this.toAssignableObjectExpressionProp(l,p,r),p&&l.type==="RestElement"&&(o=e.extra)!=null&&o.trailingCommaLoc&&this.raise(C.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:a,value:u}=e;this.isPrivateName(a)&&this.classScope.usePrivateName(this.getPrivateNameSV(a),a.loc.start),this.toAssignable(u,r);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,(i=e.extra)==null?void 0:i.trailingCommaLoc,r);break;case"AssignmentExpression":e.operator!=="="&&this.raise(C.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,r);break;case"ParenthesizedExpression":this.toAssignable(s,r);break}}toAssignableObjectExpressionProp(e,r,n){if(e.type==="ObjectMethod")this.raise(e.kind==="get"||e.kind==="set"?C.PatternHasAccessor:C.PatternHasMethod,e.key);else if(e.type==="SpreadElement"){e.type="RestElement";let i=e.argument;this.checkToRestConversion(i,!1),this.toAssignable(i,n),r||this.raise(C.RestTrailingComma,e)}else this.toAssignable(e,n)}toAssignableList(e,r,n){let i=e.length-1;for(let s=0;s<=i;s++){let o=e[s];if(o){if(o.type==="SpreadElement"){o.type="RestElement";let a=o.argument;this.checkToRestConversion(a,!0),this.toAssignable(a,n)}else this.toAssignable(o,n);o.type==="RestElement"&&(s<i?this.raise(C.RestTrailingComma,o):r&&this.raise(C.RestTrailingComma,r))}}}isAssignable(e,r){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let n=e.properties.length-1;return e.properties.every((i,s)=>i.type!=="ObjectMethod"&&(s===n||i.type!=="SpreadElement")&&this.isAssignable(i))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(n=>n===null||this.isAssignable(n));case"AssignmentExpression":return e.operator==="=";case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!r;default:return!1}}toReferencedList(e,r){return e}toReferencedListDeep(e,r){this.toReferencedList(e,r);for(let n of e)n?.type==="ArrayExpression"&&this.toReferencedListDeep(n.elements)}parseSpread(e){let r=this.startNode();return this.next(),r.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(r,"SpreadElement")}parseRestBinding(){let e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,r,n){let i=n&1,s=[],o=!0;for(;!this.eat(e);)if(o?o=!1:this.expect(12),i&&this.match(12))s.push(null);else{if(this.eat(e))break;if(this.match(21)){let a=this.parseRestBinding();if((this.hasPlugin("flow")||n&2)&&(a=this.parseFunctionParamType(a)),s.push(a),!this.checkCommaAfterRest(r)){this.expect(e);break}}else{let a=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(C.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)a.push(this.parseDecorator());s.push(this.parseAssignableListItem(n,a))}}return s}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){let{type:e,startLoc:r}=this.state;if(e===21)return this.parseBindingRestProperty(this.startNode());let n=this.startNode();return e===138?(this.expectPlugin("destructuringPrivate",r),this.classScope.usePrivateName(this.state.value,r),n.key=this.parsePrivateName()):this.parsePropertyName(n),n.method=!1,this.parseObjPropValue(n,r,!1,!1,!0,!1)}parseAssignableListItem(e,r){let n=this.parseMaybeDefault();(this.hasPlugin("flow")||e&2)&&this.parseFunctionParamType(n);let i=this.parseMaybeDefault(n.loc.start,n);return r.length&&(n.decorators=r),i}parseFunctionParamType(e){return e}parseMaybeDefault(e,r){var n,i;if((n=e)!=null||(e=this.state.startLoc),r=(i=r)!=null?i:this.parseBindingAtom(),!this.eat(29))return r;let s=this.startNodeAt(e);return s.left=r,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(e,r,n){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(e){return e.type==="OptionalMemberExpression"}checkLVal(e,r,n=64,i=!1,s=!1,o=!1){var a;let u=e.type;if(this.isObjectMethod(e))return;let c=this.isOptionalMemberExpression(e);if(c||u==="MemberExpression"){c&&(this.expectPlugin("optionalChainingAssign",e.loc.start),r.type!=="AssignmentExpression"&&this.raise(C.InvalidLhsOptionalChaining,e,{ancestor:r})),n!==64&&this.raise(C.InvalidPropertyBindingPattern,e);return}if(u==="Identifier"){this.checkIdentifier(e,n,s);let{name:m}=e;i&&(i.has(m)?this.raise(C.ParamDupe,e):i.add(m));return}let l=this.isValidLVal(u,!(o||(a=e.extra)!=null&&a.parenthesized)&&r.type==="AssignmentExpression",n);if(l===!0)return;if(l===!1){let m=n===64?C.InvalidLhs:C.InvalidLhsBinding;this.raise(m,e,{ancestor:r});return}let p,d;typeof l=="string"?(p=l,d=u==="ParenthesizedExpression"):[p,d]=l;let f=u==="ArrayPattern"||u==="ObjectPattern"?{type:u}:r,h=e[p];if(Array.isArray(h))for(let m of h)m&&this.checkLVal(m,f,n,i,s,d);else h&&this.checkLVal(h,f,n,i,s,d)}checkIdentifier(e,r,n=!1){this.state.strict&&(n?dM(e.name,this.inModule):pM(e.name))&&(r===64?this.raise(C.StrictEvalArguments,e,{referenceName:e.name}):this.raise(C.StrictEvalArgumentsBinding,e,{bindingName:e.name})),r&8192&&e.name==="let"&&this.raise(C.LetInLexicalBinding,e),r&64||this.declareNameFromIdentifier(e,r)}declareNameFromIdentifier(e,r){this.scope.declareName(e.name,r,e.loc.start)}checkToRestConversion(e,r){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,r);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(r)break;default:this.raise(C.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return this.match(12)?(this.raise(this.lookaheadCharCode()===e?C.RestTrailingComma:C.ElementAfterRest,this.state.startLoc),!0):!1}};function ore(t){if(t==null)throw new Error(`Unexpected ${t} value.`);return t}function eM(t){if(!t)throw new Error("Assert fail")}var H=rs`typescript`({AbstractMethodHasImplementation:({methodName:t})=>`Method '${t}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:t})=>`Property '${t}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:t})=>`'declare' is not allowed in ${t}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:t})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:t})=>`Duplicate modifier: '${t}'.`,EmptyHeritageClauseType:({token:t})=>`'${t}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:t})=>`'${t[0]}' modifier cannot be used with '${t[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:t})=>`Index signatures cannot have an accessibility modifier ('${t}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:t})=>`'${t}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:t})=>`'${t}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:t})=>`'${t}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:t})=>`'${t[0]}' modifier must precede '${t[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:t})=>`Private elements cannot have an accessibility modifier ('${t}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:t})=>`Single type parameter ${t} should have a trailing comma. Example usage: <${t},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:t})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${t}.`});function are(t){switch(t){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function tM(t){return t==="private"||t==="public"||t==="protected"}function ure(t){return t==="in"||t==="out"}var cre=t=>class extends t{constructor(...r){super(...r),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:H.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:H.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:H.InvalidModifierOnTypeParameter})}getScopeHandler(){return n_}tsIsIdentifier(){return Ne(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(r,n){if(!Ne(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let i=this.state.value;if(r.includes(i)){if(n&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return i}}tsParseModifiers({allowedModifiers:r,disallowedModifiers:n,stopOnStartOfClassStaticBlock:i,errorTemplate:s=H.InvalidModifierOnTypeMember},o){let a=(c,l,p,d)=>{l===p&&o[d]&&this.raise(H.InvalidModifiersOrder,c,{orderedModifiers:[p,d]})},u=(c,l,p,d)=>{(o[p]&&l===d||o[d]&&l===p)&&this.raise(H.IncompatibleModifiers,c,{modifiers:[p,d]})};for(;;){let{startLoc:c}=this.state,l=this.tsParseModifier(r.concat(n??[]),i);if(!l)break;tM(l)?o.accessibility?this.raise(H.DuplicateAccessibilityModifier,c,{modifier:l}):(a(c,l,l,"override"),a(c,l,l,"static"),a(c,l,l,"readonly"),o.accessibility=l):ure(l)?(o[l]&&this.raise(H.DuplicateModifier,c,{modifier:l}),o[l]=!0,a(c,l,"in","out")):(hasOwnProperty.call(o,l)?this.raise(H.DuplicateModifier,c,{modifier:l}):(a(c,l,"static","readonly"),a(c,l,"static","override"),a(c,l,"override","readonly"),a(c,l,"abstract","override"),u(c,l,"declare","override"),u(c,l,"static","abstract")),o[l]=!0),n!=null&&n.includes(l)&&this.raise(s,c,{modifier:l})}}tsIsListTerminator(r){switch(r){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(r,n){let i=[];for(;!this.tsIsListTerminator(r);)i.push(n());return i}tsParseDelimitedList(r,n,i){return ore(this.tsParseDelimitedListWorker(r,n,!0,i))}tsParseDelimitedListWorker(r,n,i,s){let o=[],a=-1;for(;!this.tsIsListTerminator(r);){a=-1;let u=n();if(u==null)return;if(o.push(u),this.eat(12)){a=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(r))break;i&&this.expect(12);return}return s&&(s.value=a),o}tsParseBracketedList(r,n,i,s,o){s||(i?this.expect(0):this.expect(47));let a=this.tsParseDelimitedList(r,n,o);return i?this.expect(3):this.expect(48),a}tsParseImportType(){let r=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(H.UnsupportedImportTypeArgument,this.state.startLoc),r.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(r.options=null),this.eat(12)&&(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(r.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(r.qualifier=this.tsParseEntityName()),this.match(47)&&(r.typeParameters=this.tsParseTypeArguments()),this.finishNode(r,"TSImportType")}tsParseEntityName(r=!0){let n=this.parseIdentifier(r);for(;this.eat(16);){let i=this.startNodeAtNode(n);i.left=n,i.right=this.parseIdentifier(r),n=this.finishNode(i,"TSQualifiedName")}return n}tsParseTypeReference(){let r=this.startNode();return r.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(r.typeParameters=this.tsParseTypeArguments()),this.finishNode(r,"TSTypeReference")}tsParseThisTypePredicate(r){this.next();let n=this.startNodeAtNode(r);return n.parameterName=r,n.typeAnnotation=this.tsParseTypeAnnotation(!1),n.asserts=!1,this.finishNode(n,"TSTypePredicate")}tsParseThisTypeNode(){let r=this.startNode();return this.next(),this.finishNode(r,"TSThisType")}tsParseTypeQuery(){let r=this.startNode();return this.expect(87),this.match(83)?r.exprName=this.tsParseImportType():r.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(r.typeParameters=this.tsParseTypeArguments()),this.finishNode(r,"TSTypeQuery")}tsParseTypeParameter(r){let n=this.startNode();return r(n),n.name=this.tsParseTypeParameterName(),n.constraint=this.tsEatThenParseType(81),n.default=this.tsEatThenParseType(29),this.finishNode(n,"TSTypeParameter")}tsTryParseTypeParameters(r){if(this.match(47))return this.tsParseTypeParameters(r)}tsParseTypeParameters(r){let n=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();let i={value:-1};return n.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,r),!1,!0,i),n.params.length===0&&this.raise(H.EmptyTypeParameters,n),i.value!==-1&&this.addExtra(n,"trailingComma",i.value),this.finishNode(n,"TSTypeParameterDeclaration")}tsFillSignature(r,n){let i=r===19,s="parameters",o="typeAnnotation";n.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),n[s]=this.tsParseBindingListForSignature(),i?n[o]=this.tsParseTypeOrTypePredicateAnnotation(r):this.match(r)&&(n[o]=this.tsParseTypeOrTypePredicateAnnotation(r))}tsParseBindingListForSignature(){let r=super.parseBindingList(11,41,2);for(let n of r){let{type:i}=n;(i==="AssignmentPattern"||i==="TSParameterProperty")&&this.raise(H.UnsupportedSignatureParameterKind,n,{type:i})}return r}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(r,n){return this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon(),this.finishNode(n,r)}tsIsUnambiguouslyIndexSignature(){return this.next(),Ne(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(r){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let n=this.parseIdentifier();n.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(n),this.expect(3),r.parameters=[n];let i=this.tsTryParseTypeAnnotation();return i&&(r.typeAnnotation=i),this.tsParseTypeMemberSemicolon(),this.finishNode(r,"TSIndexSignature")}tsParsePropertyOrMethodSignature(r,n){this.eat(17)&&(r.optional=!0);let i=r;if(this.match(10)||this.match(47)){n&&this.raise(H.ReadonlyForMethodSignature,r);let s=i;s.kind&&this.match(47)&&this.raise(H.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let o="parameters",a="typeAnnotation";if(s.kind==="get")s[o].length>0&&(this.raise(C.BadGetterArity,this.state.curPosition()),this.isThisParam(s[o][0])&&this.raise(H.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(s.kind==="set"){if(s[o].length!==1)this.raise(C.BadSetterArity,this.state.curPosition());else{let u=s[o][0];this.isThisParam(u)&&this.raise(H.AccessorCannotDeclareThisParameter,this.state.curPosition()),u.type==="Identifier"&&u.optional&&this.raise(H.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),u.type==="RestElement"&&this.raise(H.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[a]&&this.raise(H.SetAccessorCannotHaveReturnType,s[a])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=i;n&&(s.readonly=!0);let o=this.tsTryParseTypeAnnotation();return o&&(s.typeAnnotation=o),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let r=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",r);if(this.match(77)){let i=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",r):(r.key=this.createIdentifier(i,"new"),this.tsParsePropertyOrMethodSignature(r,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},r);let n=this.tsTryParseIndexSignature(r);return n||(super.parsePropertyName(r),!r.computed&&r.key.type==="Identifier"&&(r.key.name==="get"||r.key.name==="set")&&this.tsTokenCanFollowModifier()&&(r.kind=r.key.name,super.parsePropertyName(r)),this.tsParsePropertyOrMethodSignature(r,!!r.readonly))}tsParseTypeLiteral(){let r=this.startNode();return r.members=this.tsParseObjectTypeMembers(),this.finishNode(r,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let r=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),r}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){let r=this.startNode();this.expect(5),this.match(53)?(r.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(r.readonly=!0),this.expect(0);{let n=this.startNode();n.name=this.tsParseTypeParameterName(),n.constraint=this.tsExpectThenParseType(58),r.typeParameter=this.finishNode(n,"TSTypeParameter")}return r.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(r.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(r.optional=!0),r.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(r,"TSMappedType")}tsParseTupleType(){let r=this.startNode();r.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let n=!1;return r.elementTypes.forEach(i=>{let{type:s}=i;n&&s!=="TSRestType"&&s!=="TSOptionalType"&&!(s==="TSNamedTupleMember"&&i.optional)&&this.raise(H.OptionalTypeBeforeRequired,i),n||(n=s==="TSNamedTupleMember"&&i.optional||s==="TSOptionalType")}),this.finishNode(r,"TSTupleType")}tsParseTupleElementType(){let{startLoc:r}=this.state,n=this.eat(21),i,s,o,a,c=wn(this.state.type)?this.lookaheadCharCode():null;if(c===58)i=!0,o=!1,s=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(c===63){o=!0;let l=this.state.startLoc,p=this.state.value,d=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(i=!0,s=this.createIdentifier(this.startNodeAt(l),p),this.expect(17),this.expect(14),a=this.tsParseType()):(i=!1,a=d,this.expect(17))}else a=this.tsParseType(),o=this.eat(17),i=this.eat(14);if(i){let l;s?(l=this.startNodeAtNode(s),l.optional=o,l.label=s,l.elementType=a,this.eat(17)&&(l.optional=!0,this.raise(H.TupleOptionalAfterType,this.state.lastTokStartLoc))):(l=this.startNodeAtNode(a),l.optional=o,this.raise(H.InvalidTupleMemberLabel,a),l.label=a,l.elementType=this.tsParseType()),a=this.finishNode(l,"TSNamedTupleMember")}else if(o){let l=this.startNodeAtNode(a);l.typeAnnotation=a,a=this.finishNode(l,"TSOptionalType")}if(n){let l=this.startNodeAt(r);l.typeAnnotation=a,a=this.finishNode(l,"TSRestType")}return a}tsParseParenthesizedType(){let r=this.startNode();return this.expect(10),r.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(r,"TSParenthesizedType")}tsParseFunctionOrConstructorType(r,n){let i=this.startNode();return r==="TSConstructorType"&&(i.abstract=!!n,n&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,i)),this.finishNode(i,r)}tsParseLiteralTypeNode(){let r=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:r.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(r,"TSLiteralType")}tsParseTemplateLiteralType(){let r=this.startNode();return r.literal=super.parseTemplate(!1),this.finishNode(r,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let r=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(r):r}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let r=this.startNode(),n=this.lookahead();return n.type!==134&&n.type!==135&&this.unexpected(),r.literal=this.parseMaybeUnary(),this.finishNode(r,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:r}=this.state;if(Ne(r)||r===88||r===84){let n=r===88?"TSVoidKeyword":r===84?"TSNullKeyword":are(this.state.value);if(n!==void 0&&this.lookaheadCharCode()!==46){let i=this.startNode();return this.next(),this.finishNode(i,n)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let r=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let n=this.startNodeAtNode(r);n.elementType=r,this.expect(3),r=this.finishNode(n,"TSArrayType")}else{let n=this.startNodeAtNode(r);n.objectType=r,n.indexType=this.tsParseType(),this.expect(3),r=this.finishNode(n,"TSIndexedAccessType")}return r}tsParseTypeOperator(){let r=this.startNode(),n=this.state.value;return this.next(),r.operator=n,r.typeAnnotation=this.tsParseTypeOperatorOrHigher(),n==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(r),this.finishNode(r,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(r){switch(r.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(H.UnexpectedReadonly,r)}}tsParseInferType(){let r=this.startNode();this.expectContextual(115);let n=this.startNode();return n.name=this.tsParseTypeParameterName(),n.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),r.typeParameter=this.finishNode(n,"TSTypeParameter"),this.finishNode(r,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let r=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return r}}tsParseTypeOperatorOrHigher(){return wte(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(r,n,i){let s=this.startNode(),o=this.eat(i),a=[];do a.push(n());while(this.eat(i));return a.length===1&&!o?a[0]:(s.types=a,this.finishNode(s,r))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(Ne(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:r}=this.state,n=r.length;try{return this.parseObjectLike(8,!0),r.length===n}catch{return!1}}if(this.match(0)){this.next();let{errors:r}=this.state,n=r.length;try{return super.parseBindingList(3,93,1),r.length===n}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(r){return this.tsInType(()=>{let n=this.startNode();this.expect(r);let i=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let u=this.tsParseThisTypeOrThisTypePredicate();return u.type==="TSThisType"?(i.parameterName=u,i.asserts=!0,i.typeAnnotation=null,u=this.finishNode(i,"TSTypePredicate")):(this.resetStartLocationFromNode(u,i),u.asserts=!0),n.typeAnnotation=u,this.finishNode(n,"TSTypeAnnotation")}let o=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!o)return s?(i.parameterName=this.parseIdentifier(),i.asserts=s,i.typeAnnotation=null,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,n);let a=this.tsParseTypeAnnotation(!1);return i.parameterName=o,i.typeAnnotation=a,i.asserts=s,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let r=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),r}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let r=this.state.containsEsc;return this.next(),!Ne(this.state.type)&&!this.match(78)?!1:(r&&this.raise(C.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(r=!0,n=this.startNode()){return this.tsInType(()=>{r&&this.expect(14),n.typeAnnotation=this.tsParseType()}),this.finishNode(n,"TSTypeAnnotation")}tsParseType(){eM(this.state.inType);let r=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return r;let n=this.startNodeAtNode(r);return n.checkType=r,n.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),n.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),n.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(n,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(H.ReservedTypeAssertion,this.state.startLoc);let r=this.startNode();return r.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),r.expression=this.parseMaybeUnary(),this.finishNode(r,"TSTypeAssertion")}tsParseHeritageClause(r){let n=this.state.startLoc,i=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return i.length||this.raise(H.EmptyHeritageClauseType,n,{token:r}),i}tsParseInterfaceDeclaration(r,n={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),n.declare&&(r.declare=!0),Ne(this.state.type)?(r.id=this.parseIdentifier(),this.checkIdentifier(r.id,130)):(r.id=null,this.raise(H.MissingInterfaceName,this.state.startLoc)),r.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(r.extends=this.tsParseHeritageClause("extends"));let i=this.startNode();return i.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),r.body=this.finishNode(i,"TSInterfaceBody"),this.finishNode(r,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(r){return r.id=this.parseIdentifier(),this.checkIdentifier(r.id,2),r.typeAnnotation=this.tsInType(()=>{if(r.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){let n=this.startNode();return this.next(),this.finishNode(n,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(r,"TSTypeAliasDeclaration")}tsInNoContext(r){let n=this.state.context;this.state.context=[n[0]];try{return r()}finally{this.state.context=n}}tsInType(r){let n=this.state.inType;this.state.inType=!0;try{return r()}finally{this.state.inType=n}}tsInDisallowConditionalTypesContext(r){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return r()}finally{this.state.inDisallowConditionalTypesContext=n}}tsInAllowConditionalTypesContext(r){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return r()}finally{this.state.inDisallowConditionalTypesContext=n}}tsEatThenParseType(r){if(this.match(r))return this.tsNextThenParseType()}tsExpectThenParseType(r){return this.tsInType(()=>(this.expect(r),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let r=this.startNode();return r.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(r.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(r,"TSEnumMember")}tsParseEnumDeclaration(r,n={}){return n.const&&(r.const=!0),n.declare&&(r.declare=!0),this.expectContextual(126),r.id=this.parseIdentifier(),this.checkIdentifier(r.id,r.const?8971:8459),this.expect(5),r.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(r,"TSEnumDeclaration")}tsParseModuleBlock(){let r=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(r.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(r,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(r,n=!1){if(r.id=this.parseIdentifier(),n||this.checkIdentifier(r.id,1024),this.eat(16)){let i=this.startNode();this.tsParseModuleOrNamespaceDeclaration(i,!0),r.body=i}else this.scope.enter(256),this.prodParam.enter(0),r.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(r,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(r){return this.isContextual(112)?(r.global=!0,r.id=this.parseIdentifier()):this.match(133)?r.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),r.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(r,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(r,n,i){r.isExport=i||!1,r.id=n||this.parseIdentifier(),this.checkIdentifier(r.id,4096),this.expect(29);let s=this.tsParseModuleReference();return r.importKind==="type"&&s.type!=="TSExternalModuleReference"&&this.raise(H.ImportAliasHasImportType,s),r.moduleReference=s,this.semicolon(),this.finishNode(r,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let r=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),r.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(r,"TSExternalModuleReference")}tsLookAhead(r){let n=this.state.clone(),i=r();return this.state=n,i}tsTryParseAndCatch(r){let n=this.tryParse(i=>r()||i());if(!(n.aborted||!n.node))return n.error&&(this.state=n.failState),n.node}tsTryParse(r){let n=this.state.clone(),i=r();if(i!==void 0&&i!==!1)return i;this.state=n}tsTryParseDeclare(r){if(this.isLineTerminator())return;let n=this.state.type,i;return this.isContextual(100)&&(n=74,i="let"),this.tsInAmbientContext(()=>{switch(n){case 68:return r.declare=!0,super.parseFunctionStatement(r,!1,!1);case 80:return r.declare=!0,this.parseClass(r,!0,!1);case 126:return this.tsParseEnumDeclaration(r,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(r);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(r.declare=!0,this.parseVarStatement(r,i||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(r,{const:!0,declare:!0}));case 129:{let s=this.tsParseInterfaceDeclaration(r,{declare:!0});if(s)return s}default:if(Ne(n))return this.tsParseDeclaration(r,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(r,n,i){switch(n.name){case"declare":{let s=this.tsTryParseDeclare(r);return s&&(s.declare=!0),s}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);let s=r;return s.global=!0,s.id=n,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(r,n.name,!1,i)}}tsParseDeclaration(r,n,i,s){switch(n){case"abstract":if(this.tsCheckLineTerminator(i)&&(this.match(80)||Ne(this.state.type)))return this.tsParseAbstractDeclaration(r,s);break;case"module":if(this.tsCheckLineTerminator(i)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(r);if(Ne(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(r)}break;case"namespace":if(this.tsCheckLineTerminator(i)&&Ne(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(r);break;case"type":if(this.tsCheckLineTerminator(i)&&Ne(this.state.type))return this.tsParseTypeAliasDeclaration(r);break}}tsCheckLineTerminator(r){return r?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(r){if(!this.match(47))return;let n=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let i=this.tsTryParseAndCatch(()=>{let s=this.startNodeAt(r);return s.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(s),s.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),s});if(this.state.maybeInArrowParameters=n,!!i)return super.parseArrowExpression(i,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let r=this.startNode();return r.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),r.params.length===0?this.raise(H.EmptyTypeArguments,r):!this.state.inType&&this.curContext()===qe.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(r,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return Ate(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(r,n){let i=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);let o=s.accessibility,a=s.override,u=s.readonly;!(r&4)&&(o||u||a)&&this.raise(H.UnexpectedParameterModifier,i);let c=this.parseMaybeDefault();r&2&&this.parseFunctionParamType(c);let l=this.parseMaybeDefault(c.loc.start,c);if(o||u||a){let p=this.startNodeAt(i);return n.length&&(p.decorators=n),o&&(p.accessibility=o),u&&(p.readonly=u),a&&(p.override=a),l.type!=="Identifier"&&l.type!=="AssignmentPattern"&&this.raise(H.UnsupportedParameterPropertyKind,p),p.parameter=l,this.finishNode(p,"TSParameterProperty")}return n.length&&(c.decorators=n),l}isSimpleParameter(r){return r.type==="TSParameterProperty"&&super.isSimpleParameter(r.parameter)||super.isSimpleParameter(r)}tsDisallowOptionalPattern(r){for(let n of r.params)n.type!=="Identifier"&&n.optional&&!this.state.isAmbientContext&&this.raise(H.PatternIsOptional,n)}setArrowFunctionParameters(r,n,i){super.setArrowFunctionParameters(r,n,i),this.tsDisallowOptionalPattern(r)}parseFunctionBodyAndFinish(r,n,i=!1){this.match(14)&&(r.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=n==="FunctionDeclaration"?"TSDeclareFunction":n==="ClassMethod"||n==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(r,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(H.DeclareFunctionHasImplementation,r),r.declare)?super.parseFunctionBodyAndFinish(r,s,i):(this.tsDisallowOptionalPattern(r),super.parseFunctionBodyAndFinish(r,n,i))}registerFunctionStatementId(r){!r.body&&r.id?this.checkIdentifier(r.id,1024):super.registerFunctionStatementId(r)}tsCheckForInvalidTypeCasts(r){r.forEach(n=>{n?.type==="TSTypeCastExpression"&&this.raise(H.UnexpectedTypeAnnotation,n.typeAnnotation)})}toReferencedList(r,n){return this.tsCheckForInvalidTypeCasts(r),r}parseArrayLike(r,n,i,s){let o=super.parseArrayLike(r,n,i,s);return o.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(o.elements),o}parseSubscript(r,n,i,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let a=this.startNodeAt(n);return a.expression=r,this.finishNode(a,"TSNonNullExpression")}let o=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(i)return s.stop=!0,r;s.optionalChainMember=o=!0,this.next()}if(this.match(47)||this.match(51)){let a,u=this.tsTryParseAndCatch(()=>{if(!i&&this.atPossibleAsyncArrow(r)){let d=this.tsTryParseGenericAsyncArrowFunction(n);if(d)return d}let c=this.tsParseTypeArgumentsInExpression();if(!c)return;if(o&&!this.match(10)){a=this.state.curPosition();return}if(Gh(this.state.type)){let d=super.parseTaggedTemplateExpression(r,n,s);return d.typeParameters=c,d}if(!i&&this.eat(10)){let d=this.startNodeAt(n);return d.callee=r,d.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(d.arguments),d.typeParameters=c,s.optionalChainMember&&(d.optional=o),this.finishCallExpression(d,s.optionalChainMember)}let l=this.state.type;if(l===48||l===52||l!==10&&jS(l)&&!this.hasPrecedingLineBreak())return;let p=this.startNodeAt(n);return p.expression=r,p.typeParameters=c,this.finishNode(p,"TSInstantiationExpression")});if(a&&this.unexpected(a,10),u)return u.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(H.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),u}return super.parseSubscript(r,n,i,s)}parseNewCallee(r){var n;super.parseNewCallee(r);let{callee:i}=r;i.type==="TSInstantiationExpression"&&!((n=i.extra)!=null&&n.parenthesized)&&(r.typeParameters=i.typeParameters,r.callee=i.expression)}parseExprOp(r,n,i){let s;if(Uh(58)>i&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){let o=this.startNodeAt(n);return o.expression=r,o.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(s&&this.raise(C.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(o,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(o,n,i)}return super.parseExprOp(r,n,i)}checkReservedWord(r,n,i,s){this.state.isAmbientContext||super.checkReservedWord(r,n,i,s)}checkImportReflection(r){super.checkImportReflection(r),r.module&&r.importKind!=="value"&&this.raise(H.ImportReflectionHasImportType,r.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(r){if(super.isPotentialImportPhase(r))return!0;if(this.isContextual(130)){let n=this.lookaheadCharCode();return r?n===123||n===42:n!==61}return!r&&this.isContextual(87)}applyImportPhase(r,n,i,s){super.applyImportPhase(r,n,i,s),n?r.exportKind=i==="type"?"type":"value":r.importKind=i==="type"||i==="typeof"?i:"value"}parseImport(r){if(this.match(133))return r.importKind="value",super.parseImport(r);let n;if(Ne(this.state.type)&&this.lookaheadCharCode()===61)return r.importKind="value",this.tsParseImportEqualsDeclaration(r);if(this.isContextual(130)){let i=this.parseMaybeImportPhase(r,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(r,i);n=super.parseImportSpecifiersAndAfter(r,i)}else n=super.parseImport(r);return n.importKind==="type"&&n.specifiers.length>1&&n.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(H.TypeImportCannotSpecifyDefaultAndNamed,n),n}parseExport(r,n){if(this.match(83)){this.next();let i=r,s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(i,!1):i.importKind="value",this.tsParseImportEqualsDeclaration(i,s,!0)}else if(this.eat(29)){let i=r;return i.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(i,"TSExportAssignment")}else if(this.eatContextual(93)){let i=r;return this.expectContextual(128),i.id=this.parseIdentifier(),this.semicolon(),this.finishNode(i,"TSNamespaceExportDeclaration")}else return super.parseExport(r,n)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let r=this.startNode();return this.next(),r.abstract=!0,this.parseClass(r,!0,!0)}if(this.match(129)){let r=this.tsParseInterfaceDeclaration(this.startNode());if(r)return r}return super.parseExportDefaultExpression()}parseVarStatement(r,n,i=!1){let{isAmbientContext:s}=this.state,o=super.parseVarStatement(r,n,i||s);if(!s)return o;for(let{id:a,init:u}of o.declarations)u&&(n!=="const"||a.typeAnnotation?this.raise(H.InitializerNotAllowedInAmbientContext,u):pre(u,this.hasPlugin("estree"))||this.raise(H.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,u));return o}parseStatementContent(r,n){if(this.match(75)&&this.isLookaheadContextual("enum")){let i=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(i,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let i=this.tsParseInterfaceDeclaration(this.startNode());if(i)return i}return super.parseStatementContent(r,n)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(r,n){return n.some(i=>tM(i)?r.accessibility===i:!!r[i])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(r,n,i){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:H.InvalidModifierOnTypeParameterPositions},n);let o=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(n,s)&&this.raise(H.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(r,n)):this.parseClassMemberWithIsStatic(r,n,i,!!n.static)};n.declare?this.tsInAmbientContext(o):o()}parseClassMemberWithIsStatic(r,n,i,s){let o=this.tsTryParseIndexSignature(n);if(o){r.body.push(o),n.abstract&&this.raise(H.IndexSignatureHasAbstract,n),n.accessibility&&this.raise(H.IndexSignatureHasAccessibility,n,{modifier:n.accessibility}),n.declare&&this.raise(H.IndexSignatureHasDeclare,n),n.override&&this.raise(H.IndexSignatureHasOverride,n);return}!this.state.inAbstractClass&&n.abstract&&this.raise(H.NonAbstractClassHasAbstractMethod,n),n.override&&(i.hadSuperClass||this.raise(H.OverrideNotInSubClass,n)),super.parseClassMemberWithIsStatic(r,n,i,s)}parsePostMemberNameModifiers(r){this.eat(17)&&(r.optional=!0),r.readonly&&this.match(10)&&this.raise(H.ClassMethodHasReadonly,r),r.declare&&this.match(10)&&this.raise(H.ClassMethodHasDeclare,r)}parseExpressionStatement(r,n,i){return(n.type==="Identifier"?this.tsParseExpressionStatement(r,n,i):void 0)||super.parseExpressionStatement(r,n,i)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(r,n,i){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(r,n,i);let s=this.tryParse(()=>super.parseConditional(r,n));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(i,s.error),r)}parseParenItem(r,n){let i=super.parseParenItem(r,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(r)),this.match(14)){let s=this.startNodeAt(n);return s.expression=r,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return r}parseExportDeclaration(r){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(r));let n=this.state.startLoc,i=this.eatContextual(125);if(i&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(H.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let o=Ne(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(r);return o?((o.type==="TSInterfaceDeclaration"||o.type==="TSTypeAliasDeclaration"||i)&&(r.exportKind="type"),i&&(this.resetStartLocation(o,n),o.declare=!0),o):null}parseClassId(r,n,i,s){if((!n||i)&&this.isContextual(113))return;super.parseClassId(r,n,i,r.declare?1024:8331);let o=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);o&&(r.typeParameters=o)}parseClassPropertyAnnotation(r){r.optional||(this.eat(35)?r.definite=!0:this.eat(17)&&(r.optional=!0));let n=this.tsTryParseTypeAnnotation();n&&(r.typeAnnotation=n)}parseClassProperty(r){if(this.parseClassPropertyAnnotation(r),this.state.isAmbientContext&&!(r.readonly&&!r.typeAnnotation)&&this.match(29)&&this.raise(H.DeclareClassFieldHasInitializer,this.state.startLoc),r.abstract&&this.match(29)){let{key:n}=r;this.raise(H.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:n.type==="Identifier"&&!r.computed?n.name:`[${this.input.slice(n.start,n.end)}]`})}return super.parseClassProperty(r)}parseClassPrivateProperty(r){return r.abstract&&this.raise(H.PrivateElementHasAbstract,r),r.accessibility&&this.raise(H.PrivateElementHasAccessibility,r,{modifier:r.accessibility}),this.parseClassPropertyAnnotation(r),super.parseClassPrivateProperty(r)}parseClassAccessorProperty(r){return this.parseClassPropertyAnnotation(r),r.optional&&this.raise(H.AccessorCannotBeOptional,r),super.parseClassAccessorProperty(r)}pushClassMethod(r,n,i,s,o,a){let u=this.tsTryParseTypeParameters(this.tsParseConstModifier);u&&o&&this.raise(H.ConstructorHasTypeParameters,u);let{declare:c=!1,kind:l}=n;c&&(l==="get"||l==="set")&&this.raise(H.DeclareAccessor,n,{kind:l}),u&&(n.typeParameters=u),super.pushClassMethod(r,n,i,s,o,a)}pushClassPrivateMethod(r,n,i,s){let o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&(n.typeParameters=o),super.pushClassPrivateMethod(r,n,i,s)}declareClassPrivateMethodInScope(r,n){r.type!=="TSDeclareMethod"&&(r.type==="MethodDefinition"&&!hasOwnProperty.call(r.value,"body")||super.declareClassPrivateMethodInScope(r,n))}parseClassSuper(r){super.parseClassSuper(r),r.superClass&&(this.match(47)||this.match(51))&&(r.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(r.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(r,n,i,s,o,a,u){let c=this.tsTryParseTypeParameters(this.tsParseConstModifier);return c&&(r.typeParameters=c),super.parseObjPropValue(r,n,i,s,o,a,u)}parseFunctionParams(r,n){let i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(r.typeParameters=i),super.parseFunctionParams(r,n)}parseVarId(r,n){super.parseVarId(r,n),r.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(r.definite=!0);let i=this.tsTryParseTypeAnnotation();i&&(r.id.typeAnnotation=i,this.resetEndLocation(r.id))}parseAsyncArrowFromCallExpression(r,n){return this.match(14)&&(r.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(r,n)}parseMaybeAssign(r,n){var i,s,o,a,u;let c,l,p;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(c=this.state.clone(),l=this.tryParse(()=>super.parseMaybeAssign(r,n),c),!l.error)return l.node;let{context:h}=this.state,m=h[h.length-1];(m===qe.j_oTag||m===qe.j_expr)&&h.pop()}if(!((i=l)!=null&&i.error)&&!this.match(47))return super.parseMaybeAssign(r,n);(!c||c===this.state)&&(c=this.state.clone());let d,f=this.tryParse(h=>{var m,g;d=this.tsParseTypeParameters(this.tsParseConstModifier);let y=super.parseMaybeAssign(r,n);return(y.type!=="ArrowFunctionExpression"||(m=y.extra)!=null&&m.parenthesized)&&h(),((g=d)==null?void 0:g.params.length)!==0&&this.resetStartLocationFromNode(y,d),y.typeParameters=d,y},c);if(!f.error&&!f.aborted)return d&&this.reportReservedArrowTypeParam(d),f.node;if(!l&&(eM(!this.hasPlugin("jsx")),p=this.tryParse(()=>super.parseMaybeAssign(r,n),c),!p.error))return p.node;if((s=l)!=null&&s.node)return this.state=l.failState,l.node;if(f.node)return this.state=f.failState,d&&this.reportReservedArrowTypeParam(d),f.node;if((o=p)!=null&&o.node)return this.state=p.failState,p.node;throw((a=l)==null?void 0:a.error)||f.error||((u=p)==null?void 0:u.error)}reportReservedArrowTypeParam(r){var n;r.params.length===1&&!r.params[0].constraint&&!((n=r.extra)!=null&&n.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(H.ReservedArrowTypeParam,r)}parseMaybeUnary(r,n){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(r,n)}parseArrow(r){if(this.match(14)){let n=this.tryParse(i=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&i(),s});if(n.aborted)return;n.thrown||(n.error&&(this.state=n.failState),r.returnType=n.node)}return super.parseArrow(r)}parseFunctionParamType(r){this.eat(17)&&(r.optional=!0);let n=this.tsTryParseTypeAnnotation();return n&&(r.typeAnnotation=n),this.resetEndLocation(r),r}isAssignable(r,n){switch(r.type){case"TSTypeCastExpression":return this.isAssignable(r.expression,n);case"TSParameterProperty":return!0;default:return super.isAssignable(r,n)}}toAssignable(r,n=!1){switch(r.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(r,n);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":n?this.expressionScope.recordArrowParameterBindingError(H.UnexpectedTypeCastInParameter,r):this.raise(H.UnexpectedTypeCastInParameter,r),this.toAssignable(r.expression,n);break;case"AssignmentExpression":!n&&r.left.type==="TSTypeCastExpression"&&(r.left=this.typeCastToParameter(r.left));default:super.toAssignable(r,n)}}toAssignableParenthesizedExpression(r,n){switch(r.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(r.expression,n);break;default:super.toAssignable(r,n)}}checkToRestConversion(r,n){switch(r.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(r.expression,!1);break;default:super.checkToRestConversion(r,n)}}isValidLVal(r,n,i){switch(r){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(i!==64||!n)&&["expression",!0];default:return super.isValidLVal(r,n,i)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(r){if(this.match(47)||this.match(51)){let n=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let i=super.parseMaybeDecoratorArguments(r);return i.typeParameters=n,i}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(r)}checkCommaAfterRest(r){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===r?(this.next(),!1):super.checkCommaAfterRest(r)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(r,n){let i=super.parseMaybeDefault(r,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(H.TypeAnnotationAfterAssign,i.typeAnnotation),i}getTokenFromCode(r){if(this.state.inType){if(r===62){this.finishOp(48,1);return}if(r===60){this.finishOp(47,1);return}}super.getTokenFromCode(r)}reScan_lt_gt(){let{type:r}=this.state;r===47?(this.state.pos-=1,this.readToken_lt()):r===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:r}=this.state;return r===51?(this.state.pos-=2,this.finishOp(47,1),47):r}toAssignableList(r,n,i){for(let s=0;s<r.length;s++){let o=r[s];o?.type==="TSTypeCastExpression"&&(r[s]=this.typeCastToParameter(o))}super.toAssignableList(r,n,i)}typeCastToParameter(r){return r.expression.typeAnnotation=r.typeAnnotation,this.resetEndLocation(r.expression,r.typeAnnotation.loc.end),r.expression}shouldParseArrow(r){return this.match(14)?r.every(n=>this.isAssignable(n,!0)):super.shouldParseArrow(r)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(r){if(this.match(47)||this.match(51)){let n=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());n&&(r.typeParameters=n)}return super.jsxParseOpeningElementAfterName(r)}getGetterSetterExpectedParamCount(r){let n=super.getGetterSetterExpectedParamCount(r),s=this.getObjectOrClassMethodParams(r)[0];return s&&this.isThisParam(s)?n+1:n}parseCatchClauseParam(){let r=super.parseCatchClauseParam(),n=this.tsTryParseTypeAnnotation();return n&&(r.typeAnnotation=n,this.resetEndLocation(r)),r}tsInAmbientContext(r){let{isAmbientContext:n,strict:i}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return r()}finally{this.state.isAmbientContext=n,this.state.strict=i}}parseClass(r,n,i){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!r.abstract;try{return super.parseClass(r,n,i)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(r,n){if(this.match(80))return r.abstract=!0,this.maybeTakeDecorators(n,this.parseClass(r,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return r.abstract=!0,this.raise(H.NonClassMethodPropertyHasAbstractModifer,r),this.tsParseInterfaceDeclaration(r)}else this.unexpected(null,80)}parseMethod(r,n,i,s,o,a,u){let c=super.parseMethod(r,n,i,s,o,a,u);if(c.abstract&&(this.hasPlugin("estree")?!!c.value.body:!!c.body)){let{key:p}=c;this.raise(H.AbstractMethodHasImplementation,c,{methodName:p.type==="Identifier"&&!c.computed?p.name:`[${this.input.slice(p.start,p.end)}]`})}return c}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(r,n,i,s){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(r,!1,i),this.finishNode(r,"ExportSpecifier")):(r.exportKind="value",super.parseExportSpecifier(r,n,i,s))}parseImportSpecifier(r,n,i,s,o){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(r,!0,i),this.finishNode(r,"ImportSpecifier")):(r.importKind="value",super.parseImportSpecifier(r,n,i,s,i?4098:4096))}parseTypeOnlyImportExportSpecifier(r,n,i){let s=n?"imported":"local",o=n?"local":"exported",a=r[s],u,c=!1,l=!0,p=a.loc.start;if(this.isContextual(93)){let f=this.parseIdentifier();if(this.isContextual(93)){let h=this.parseIdentifier();wn(this.state.type)?(c=!0,a=f,u=n?this.parseIdentifier():this.parseModuleExportName(),l=!1):(u=h,l=!1)}else wn(this.state.type)?(l=!1,u=n?this.parseIdentifier():this.parseModuleExportName()):(c=!0,a=f)}else wn(this.state.type)&&(c=!0,n?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());c&&i&&this.raise(n?H.TypeModifierIsUsedInTypeImports:H.TypeModifierIsUsedInTypeExports,p),r[s]=a,r[o]=u;let d=n?"importKind":"exportKind";r[d]=c?"type":"value",l&&this.eatContextual(93)&&(r[o]=n?this.parseIdentifier():this.parseModuleExportName()),r[o]||(r[o]=ns(r[s])),n&&this.checkIdentifier(r[o],c?4098:4096)}};function lre(t){if(t.type!=="MemberExpression")return!1;let{computed:e,property:r}=t;return e&&r.type!=="StringLiteral"&&(r.type!=="TemplateLiteral"||r.expressions.length>0)?!1:EM(t.object)}function pre(t,e){var r;let{type:n}=t;if((r=t.extra)!=null&&r.parenthesized)return!1;if(e){if(n==="Literal"){let{value:i}=t;if(typeof i=="string"||typeof i=="boolean")return!0}}else if(n==="StringLiteral"||n==="BooleanLiteral")return!0;return!!(bM(t,e)||dre(t,e)||n==="TemplateLiteral"&&t.expressions.length===0||lre(t))}function bM(t,e){return e?t.type==="Literal"&&(typeof t.value=="number"||"bigint"in t):t.type==="NumericLiteral"||t.type==="BigIntLiteral"}function dre(t,e){if(t.type==="UnaryExpression"){let{operator:r,argument:n}=t;if(r==="-"&&bM(n,e))return!0}return!1}function EM(t){return t.type==="Identifier"?!0:t.type!=="MemberExpression"||t.computed?!1:EM(t.object)}var rM=rs`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),fre=t=>class extends t{parsePlaceholder(r){if(this.match(144)){let n=this.startNode();return this.next(),this.assertNoSpace(),n.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(n,r)}}finishPlaceholder(r,n){let i=r;return(!i.expectedNode||!i.type)&&(i=this.finishNode(i,"Placeholder")),i.expectedNode=n,i}getTokenFromCode(r){r===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(144,2):super.getTokenFromCode(r)}parseExprAtom(r){return this.parsePlaceholder("Expression")||super.parseExprAtom(r)}parseIdentifier(r){return this.parsePlaceholder("Identifier")||super.parseIdentifier(r)}checkReservedWord(r,n,i,s){r!==void 0&&super.checkReservedWord(r,n,i,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(r,n,i){return r==="Placeholder"||super.isValidLVal(r,n,i)}toAssignable(r,n){r&&r.type==="Placeholder"&&r.expectedNode==="Expression"?r.expectedNode="Pattern":super.toAssignable(r,n)}chStartsBindingIdentifier(r,n){return!!(super.chStartsBindingIdentifier(r,n)||this.lookahead().type===144)}verifyBreakContinue(r,n){r.label&&r.label.type==="Placeholder"||super.verifyBreakContinue(r,n)}parseExpressionStatement(r,n){var i;if(n.type!=="Placeholder"||(i=n.extra)!=null&&i.parenthesized)return super.parseExpressionStatement(r,n);if(this.match(14)){let o=r;return o.label=this.finishPlaceholder(n,"Identifier"),this.next(),o.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(o,"LabeledStatement")}this.semicolon();let s=r;return s.name=n.name,this.finishPlaceholder(s,"Statement")}parseBlock(r,n,i){return this.parsePlaceholder("BlockStatement")||super.parseBlock(r,n,i)}parseFunctionId(r){return this.parsePlaceholder("Identifier")||super.parseFunctionId(r)}parseClass(r,n,i){let s=n?"ClassDeclaration":"ClassExpression";this.next();let o=this.state.strict,a=this.parsePlaceholder("Identifier");if(a)if(this.match(81)||this.match(144)||this.match(5))r.id=a;else{if(i||!n)return r.id=null,r.body=this.finishPlaceholder(a,"ClassBody"),this.finishNode(r,s);throw this.raise(rM.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(r,n,i);return super.parseClassSuper(r),r.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!r.superClass,o),this.finishNode(r,s)}parseExport(r,n){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseExport(r,n);let s=r;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(i,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let o=this.startNode();return o.exported=i,s.specifiers=[this.finishNode(o,"ExportDefaultSpecifier")],super.parseExport(s,n)}isExportDefaultSpecifier(){if(this.match(65)){let r=this.nextTokenStart();if(this.isUnparsedContextual(r,"from")&&this.input.startsWith(js(144),this.nextTokenStartSince(r+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(r,n){var i;return(i=r.specifiers)!=null&&i.length?!0:super.maybeParseExportDefaultSpecifier(r,n)}checkExport(r){let{specifiers:n}=r;n!=null&&n.length&&(r.specifiers=n.filter(i=>i.exported.type==="Placeholder")),super.checkExport(r),r.specifiers=n}parseImport(r){let n=this.parsePlaceholder("Identifier");if(!n)return super.parseImport(r);if(r.specifiers=[],!this.isContextual(98)&&!this.match(12))return r.source=this.finishPlaceholder(n,"StringLiteral"),this.semicolon(),this.finishNode(r,"ImportDeclaration");let i=this.startNodeAtNode(n);return i.local=n,r.specifiers.push(this.finishNode(i,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(r)||this.parseNamedImportSpecifiers(r)),this.expectContextual(98),r.source=this.parseImportSource(),this.semicolon(),this.finishNode(r,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(rM.UnexpectedSpace,this.state.lastTokEndLoc)}},hre=t=>class extends t{parseV8Intrinsic(){if(this.match(54)){let r=this.state.startLoc,n=this.startNode();if(this.next(),Ne(this.state.type)){let i=this.parseIdentifierName(),s=this.createIdentifier(n,i);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(r)}}parseExprAtom(r){return this.parseV8Intrinsic()||super.parseExprAtom(r)}},nM=["minimal","fsharp","hack","smart"],iM=["^^","@@","^","%","#"];function mre(t){if(t.has("decorators")){if(t.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let r=t.get("decorators").decoratorsBeforeExport;if(r!=null&&typeof r!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let n=t.get("decorators").allowCallParenthesized;if(n!=null&&typeof n!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(t.has("flow")&&t.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(t.has("placeholders")&&t.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(t.has("pipelineOperator")){var e;let r=t.get("pipelineOperator").proposal;if(!nM.includes(r)){let i=nM.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${i}.`)}let n=((e=t.get("recordAndTuple"))==null?void 0:e.syntaxType)==="hash";if(r==="hack"){if(t.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(t.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let i=t.get("pipelineOperator").topicToken;if(!iM.includes(i)){let s=iM.map(o=>`"${o}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${s}.`)}if(i==="#"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",t.get("recordAndTuple")])}\`.`)}else if(r==="smart"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",t.get("recordAndTuple")])}\`.`)}if(t.has("moduleAttributes")){if(t.has("importAttributes")||t.has("importAssertions"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(t.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(t.has("importAssertions")&&t.has("importAttributes"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(t.has("recordAndTuple")){let r=t.get("recordAndTuple").syntaxType;if(r!=null){let n=["hash","bar"];if(!n.includes(r))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+n.map(i=>`'${i}'`).join(", "))}}if(t.has("asyncDoExpressions")&&!t.has("doExpressions")){let r=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw r.missingPlugins="doExpressions",r}if(t.has("optionalChainingAssign")&&t.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}var DM={estree:yte,jsx:sre,flow:nre,typescript:cre,v8intrinsic:hre,placeholders:fre},gre=Object.keys(DM),BS={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function yre(t){if(t==null)return Object.assign({},BS);if(t.annexB!=null&&t.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let e={};for(let n of Object.keys(BS)){var r;e[n]=(r=t[n])!=null?r:BS[n]}return e}var s_=class extends i_{checkProto(e,r,n,i){if(e.type==="SpreadElement"||this.isObjectMethod(e)||e.computed||e.shorthand)return;let s=e.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(r){this.raise(C.RecordNoProto,s);return}n.used&&(i?i.doubleProtoLoc===null&&(i.doubleProtoLoc=s.loc.start):this.raise(C.DuplicateProto,s)),n.used=!0}}shouldExitDescending(e,r){return e.type==="ArrowFunctionExpression"&&e.start===r}getExpression(){this.enterInitialScopes(),this.nextToken();let e=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,r){return e?this.disallowInAnd(()=>this.parseExpressionBase(r)):this.allowInAnd(()=>this.parseExpressionBase(r))}parseExpressionBase(e){let r=this.state.startLoc,n=this.parseMaybeAssign(e);if(this.match(12)){let i=this.startNodeAt(r);for(i.expressions=[n];this.eat(12);)i.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(i.expressions),this.finishNode(i,"SequenceExpression")}return n}parseMaybeAssignDisallowIn(e,r){return this.disallowInAnd(()=>this.parseMaybeAssign(e,r))}parseMaybeAssignAllowIn(e,r){return this.allowInAnd(()=>this.parseMaybeAssign(e,r))}setOptionalParametersError(e,r){var n;e.optionalParametersLoc=(n=r?.loc)!=null?n:this.state.startLoc}parseMaybeAssign(e,r){let n=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let a=this.parseYield();return r&&(a=r.call(this,a,n)),a}let i;e?i=!1:(e=new pu,i=!0);let{type:s}=this.state;(s===10||Ne(s))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(e);if(r&&(o=r.call(this,o,n)),Ste(this.state.type)){let a=this.startNodeAt(n),u=this.state.value;if(a.operator=u,this.match(29)){this.toAssignable(o,!0),a.left=o;let c=n.index;e.doubleProtoLoc!=null&&e.doubleProtoLoc.index>=c&&(e.doubleProtoLoc=null),e.shorthandAssignLoc!=null&&e.shorthandAssignLoc.index>=c&&(e.shorthandAssignLoc=null),e.privateKeyLoc!=null&&e.privateKeyLoc.index>=c&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)}else a.left=o;return this.next(),a.right=this.parseMaybeAssign(),this.checkLVal(o,this.finishNode(a,"AssignmentExpression")),a}else i&&this.checkExpressionErrors(e,!0);return o}parseMaybeConditional(e){let r=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprOps(e);return this.shouldExitDescending(i,n)?i:this.parseConditional(i,r,e)}parseConditional(e,r,n){if(this.eat(17)){let i=this.startNodeAt(r);return i.test=e,i.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),i.alternate=this.parseMaybeAssign(),this.finishNode(i,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){let r=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(i,n)?i:this.parseExprOp(i,r,-1)}parseExprOp(e,r,n){if(this.isPrivateName(e)){let s=this.getPrivateNameSV(e);(n>=Uh(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(C.PrivateInExpectedIn,e,{identifierName:s}),this.classScope.usePrivateName(s,e.loc.start)}let i=this.state.type;if(Cte(i)&&(this.prodParam.hasIn||!this.match(58))){let s=Uh(i);if(s>n){if(i===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,r)}let o=this.startNodeAt(r);o.left=e,o.operator=this.state.value;let a=i===41||i===42,u=i===40;if(u&&(s=Uh(42)),this.next(),i===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(C.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);o.right=this.parseExprOpRightExpr(i,s);let c=this.finishNode(o,a||u?"LogicalExpression":"BinaryExpression"),l=this.state.type;if(u&&(l===41||l===42)||a&&l===40)throw this.raise(C.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(c,r,n)}}return e}parseExprOpRightExpr(e,r){let n=this.state.startLoc;switch(e){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(C.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,r),n)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(r))}default:return this.parseExprOpBaseRightExpr(e,r)}}parseExprOpBaseRightExpr(e,r){let n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,Pte(e)?r-1:r)}parseHackPipeBody(){var e;let{startLoc:r}=this.state,n=this.parseMaybeAssign();return dte.has(n.type)&&!((e=n.extra)!=null&&e.parenthesized)&&this.raise(C.PipeUnparenthesizedBody,r,{type:n.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(C.PipeTopicUnused,r),n}checkExponentialAfterUnary(e){this.match(57)&&this.raise(C.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,r){let n=this.state.startLoc,i=this.isContextual(96);if(i&&this.recordAwaitIfAllowed()){this.next();let u=this.parseAwait(n);return r||this.checkExponentialAfterUnary(u),u}let s=this.match(34),o=this.startNode();if(Tte(this.state.type)){o.operator=this.state.value,o.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let u=this.match(89);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&u){let c=o.argument;c.type==="Identifier"?this.raise(C.StrictDelete,o):this.hasPropertyAsPrivateName(c)&&this.raise(C.DeletePrivateField,o)}if(!s)return r||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}let a=this.parseUpdate(o,s,e);if(i){let{type:u}=this.state;if((this.hasPlugin("v8intrinsic")?jS(u):jS(u)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(C.AwaitNotInAsyncContext,n),this.parseAwait(n)}return a}parseUpdate(e,r,n){if(r){let o=e;return this.checkLVal(o.argument,this.finishNode(o,"UpdateExpression")),e}let i=this.state.startLoc,s=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return s;for(;vte(this.state.type)&&!this.canInsertSemicolon();){let o=this.startNodeAt(i);o.operator=this.state.value,o.prefix=!1,o.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(o,"UpdateExpression"))}return s}parseExprSubscripts(e){let r=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprAtom(e);return this.shouldExitDescending(i,n)?i:this.parseSubscripts(i,r)}parseSubscripts(e,r,n){let i={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do e=this.parseSubscript(e,r,n,i),i.maybeAsyncArrow=!1;while(!i.stop);return e}parseSubscript(e,r,n,i){let{type:s}=this.state;if(!n&&s===15)return this.parseBind(e,r,n,i);if(Gh(s))return this.parseTaggedTemplateExpression(e,r,i);let o=!1;if(s===18){if(n&&(this.raise(C.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return i.stop=!0,e;i.optionalChainMember=o=!0,this.next()}if(!n&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,r,i,o);{let a=this.eat(0);return a||o||this.eat(16)?this.parseMember(e,r,i,a,o):(i.stop=!0,e)}}parseMember(e,r,n,i,s){let o=this.startNodeAt(r);return o.object=e,o.computed=i,i?(o.property=this.parseExpression(),this.expect(3)):this.match(138)?(e.type==="Super"&&this.raise(C.SuperPrivateField,r),this.classScope.usePrivateName(this.state.value,this.state.startLoc),o.property=this.parsePrivateName()):o.property=this.parseIdentifier(!0),n.optionalChainMember?(o.optional=s,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(e,r,n,i){let s=this.startNodeAt(r);return s.object=e,this.next(),s.callee=this.parseNoCallExpr(),i.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),r,n)}parseCoverCallAndAsyncArrowHead(e,r,n,i){let s=this.state.maybeInArrowParameters,o=null;this.state.maybeInArrowParameters=!0,this.next();let a=this.startNodeAt(r);a.callee=e;let{maybeAsyncArrow:u,optionalChainMember:c}=n;u&&(this.expressionScope.enter(Yte()),o=new pu),c&&(a.optional=i),i?a.arguments=this.parseCallExpressionArguments(11):a.arguments=this.parseCallExpressionArguments(11,e.type==="Import",e.type!=="Super",a,o);let l=this.finishCallExpression(a,c);return u&&this.shouldParseAsyncArrow()&&!i?(n.stop=!0,this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),l=this.parseAsyncArrowFromCallExpression(this.startNodeAt(r),l)):(u&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(l)),this.state.maybeInArrowParameters=s,l}toReferencedArguments(e,r){this.toReferencedListDeep(e.arguments,r)}parseTaggedTemplateExpression(e,r,n){let i=this.startNodeAt(r);return i.tag=e,i.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(C.OptionalChainingNoTemplate,r),this.finishNode(i,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return e.type==="Identifier"&&e.name==="async"&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&e.start===this.state.potentialArrowAt}finishCallExpression(e,r){if(e.callee.type==="Import")if(e.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")),e.arguments.length===0||e.arguments.length>2)this.raise(C.ImportCallArity,e,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let n of e.arguments)n.type==="SpreadElement"&&this.raise(C.ImportCallSpreadArgument,n);return this.finishNode(e,r?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,r,n,i,s){let o=[],a=!0,u=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){r&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(C.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),i&&this.addTrailingCommaExtraToNode(i),this.next();break}o.push(this.parseExprListItem(!1,s,n))}return this.state.inFSharpPipelineDirectBody=u,o}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,r){var n;return this.resetPreviousNodeTrailingComments(r),this.expect(19),this.parseArrowExpression(e,r.arguments,!0,(n=r.extra)==null?void 0:n.trailingCommaLoc),r.innerComments&&Gl(e,r.innerComments),r.callee.trailingComments&&Gl(e,r.callee.trailingComments),e}parseNoCallExpr(){let e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let r,n=null,{type:i}=this.state;switch(i){case 79:return this.parseSuper();case 83:return r=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(r):this.match(10)?this.options.createImportExpressions?this.parseImportCall(r):this.finishNode(r,"Import"):(this.raise(C.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(r,"Import"));case 78:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let s=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(s)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:n=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(n,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{r=this.startNode(),this.next(),r.object=null;let s=r.callee=this.parseNoCallExpr();if(s.type==="MemberExpression")return this.finishNode(r,"BindExpression");throw this.raise(C.UnsupportedBind,s)}case 138:return this.raise(C.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.parseTopicReference(s);this.unexpected();break}case 47:{let s=this.input.codePointAt(this.nextTokenStart());ts(s)||s===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(i===136)return this.parseDecimalLiteral(this.state.value);if(Ne(i)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let s=this.state.potentialArrowAt===this.state.start,o=this.state.containsEsc,a=this.parseIdentifier();if(!o&&a.name==="async"&&!this.canInsertSemicolon()){let{type:u}=this.state;if(u===68)return this.resetPreviousNodeTrailingComments(a),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(a));if(Ne(u))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(a)):a;if(u===90)return this.resetPreviousNodeTrailingComments(a),this.parseDo(this.startNodeAtNode(a),!0)}return s&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a}else this.unexpected()}}parseTopicReferenceThenEqualsSign(e,r){let n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=e,this.state.value=r,this.state.pos--,this.state.end--,this.state.endLoc=dr(this.state.endLoc,-1),this.parseTopicReference(n);this.unexpected()}parseTopicReference(e){let r=this.startNode(),n=this.state.startLoc,i=this.state.type;return this.next(),this.finishTopicReference(r,n,e,i)}finishTopicReference(e,r,n,i){if(this.testTopicReferenceConfiguration(n,r,i)){let s=n==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(n==="smart"?C.PrimaryTopicNotAllowed:C.PipeTopicUnbound,r),this.registerTopicReference(),this.finishNode(e,s)}else throw this.raise(C.PipeTopicUnconfiguredToken,r,{token:js(i)})}testTopicReferenceConfiguration(e,r,n){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:js(n)}]);case"smart":return n===27;default:throw this.raise(C.PipeTopicRequiresHackPipes,r)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(jh(!0,this.prodParam.hasYield));let r=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(C.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,r,!0)}parseDo(e,r){this.expectPlugin("doExpressions"),r&&this.expectPlugin("asyncDoExpressions"),e.async=r,this.next();let n=this.state.labels;return this.state.labels=[],r?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=n,this.finishNode(e,"DoExpression")}parseSuper(){let e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(C.SuperNotAllowed,e):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(C.UnexpectedSuper,e),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(C.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){let e=this.startNode(),r=this.startNodeAt(dr(this.state.startLoc,1)),n=this.state.value;return this.next(),e.id=this.createIdentifier(r,n),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){let e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let r=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,r,"sent")}return this.parseFunction(e)}parseMetaProperty(e,r,n){e.meta=r;let i=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==n||i)&&this.raise(C.UnsupportedMetaProperty,e.property,{target:r.name,onlyValidPropertyName:n}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){let r=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(C.ImportMetaOutsideModule,r),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let n=this.isContextual(105);if(n||this.unexpected(),this.expectPlugin(n?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(C.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=n?"source":"defer",this.parseImportCall(e)}return this.parseMetaProperty(e,r,"meta")}parseLiteralAtNode(e,r,n){return this.addExtra(n,"rawValue",e),this.addExtra(n,"raw",this.input.slice(n.start,this.state.end)),n.value=e,this.next(),this.finishNode(n,r)}parseLiteral(e,r){let n=this.startNode();return this.parseLiteralAtNode(e,r,n)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){let r=this.startNode();return this.addExtra(r,"raw",this.input.slice(r.start,this.state.end)),r.pattern=e.pattern,r.flags=e.flags,this.next(),this.finishNode(r,"RegExpLiteral")}parseBooleanLiteral(e){let r=this.startNode();return r.value=e,this.next(),this.finishNode(r,"BooleanLiteral")}parseNullLiteral(){let e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){let r=this.state.startLoc,n;this.next(),this.expressionScope.enter(Wte());let i=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let o=this.state.startLoc,a=[],u=new pu,c=!0,l,p;for(;!this.match(11);){if(c)c=!1;else if(this.expect(12,u.optionalParametersLoc===null?null:u.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break}if(this.match(21)){let h=this.state.startLoc;if(l=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),h)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowIn(u,this.parseParenItem))}let d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=i,this.state.inFSharpPipelineDirectBody=s;let f=this.startNodeAt(r);return e&&this.shouldParseArrow(a)&&(f=this.parseArrow(f))?(this.checkDestructuringPrivate(u),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(f,a,!1),f):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),l&&this.unexpected(l),this.checkExpressionErrors(u,!0),this.toReferencedListDeep(a,!0),a.length>1?(n=this.startNodeAt(o),n.expressions=a,this.finishNode(n,"SequenceExpression"),this.resetEndLocation(n,d)):n=a[0],this.wrapParenthesis(r,n))}wrapParenthesis(e,r){if(!this.options.createParenthesizedExpressions)return this.addExtra(r,"parenthesized",!0),this.addExtra(r,"parenStart",e.index),this.takeSurroundingComments(r,e.index,this.state.lastTokEndLoc.index),r;let n=this.startNodeAt(e);return n.expression=r,this.finishNode(n,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,r){return e}parseNewOrNewTarget(){let e=this.startNode();if(this.next(),this.match(16)){let r=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();let n=this.parseMetaProperty(e,r,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(C.UnexpectedNewTarget,n),n}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){let r=this.parseExprList(11);this.toReferencedList(r),e.arguments=r}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){let r=this.match(83),n=this.parseNoCallExpr();e.callee=n,r&&(n.type==="Import"||n.type==="ImportExpression")&&this.raise(C.ImportCallNotNewExpression,n)}parseTemplateElement(e){let{start:r,startLoc:n,end:i,value:s}=this.state,o=r+1,a=this.startNodeAt(dr(n,1));s===null&&(e||this.raise(C.InvalidEscapeSequenceTemplate,dr(this.state.firstInvalidTemplateEscapePos,1)));let u=this.match(24),c=u?-1:-2,l=i+c;a.value={raw:this.input.slice(o,l).replace(/\r\n?/g,`
`),cooked:s===null?null:s.slice(1,c)},a.tail=u,this.next();let p=this.finishNode(a,"TemplateElement");return this.resetEndLocation(p,dr(this.state.lastTokEndLoc,c)),p}parseTemplate(e){let r=this.startNode(),n=this.parseTemplateElement(e),i=[n],s=[];for(;!n.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),i.push(n=this.parseTemplateElement(e));return r.expressions=s,r.quasis=i,this.finishNode(r,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,r,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=Object.create(null),a=!0,u=this.startNode();for(u.properties=[],this.next();!this.match(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(u);break}let l;r?l=this.parseBindingProperty():(l=this.parsePropertyDefinition(i),this.checkProto(l,n,o,i)),n&&!this.isObjectProperty(l)&&l.type!=="SpreadElement"&&this.raise(C.InvalidRecordProperty,l),l.shorthand&&this.addExtra(l,"shorthand",!0),u.properties.push(l)}this.next(),this.state.inFSharpPipelineDirectBody=s;let c="ObjectExpression";return r?c="ObjectPattern":n&&(c="RecordExpression"),this.finishNode(u,c)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&e.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let r=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(C.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)r.push(this.parseDecorator());let n=this.startNode(),i=!1,s=!1,o;if(this.match(21))return r.length&&this.unexpected(),this.parseSpread();r.length&&(n.decorators=r,r=[]),n.method=!1,e&&(o=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(n);let u=this.state.containsEsc;if(this.parsePropertyName(n,e),!a&&!u&&this.maybeAsyncOrAccessorProp(n)){let{key:c}=n,l=c.name;l==="async"&&!this.hasPrecedingLineBreak()&&(i=!0,this.resetPreviousNodeTrailingComments(c),a=this.eat(55),this.parsePropertyName(n)),(l==="get"||l==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(c),n.kind=l,this.match(55)&&(a=!0,this.raise(C.AccessorIsGenerator,this.state.curPosition(),{kind:l}),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,o,a,i,!1,s,e)}getGetterSetterExpectedParamCount(e){return e.kind==="get"?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var r;let n=this.getGetterSetterExpectedParamCount(e),i=this.getObjectOrClassMethodParams(e);i.length!==n&&this.raise(e.kind==="get"?C.BadGetterArity:C.BadSetterArity,e),e.kind==="set"&&((r=i[i.length-1])==null?void 0:r.type)==="RestElement"&&this.raise(C.BadSetterRestParameter,e)}parseObjectMethod(e,r,n,i,s){if(s){let o=this.parseMethod(e,r,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(o),o}if(n||r||this.match(10))return i&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,r,n,!1,!1,"ObjectMethod")}parseObjectProperty(e,r,n,i){if(e.shorthand=!1,this.eat(14))return e.value=n?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(i),this.finishNode(e,"ObjectProperty");if(!e.computed&&e.key.type==="Identifier"){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),n)e.value=this.parseMaybeDefault(r,ns(e.key));else if(this.match(29)){let s=this.state.startLoc;i!=null?i.shorthandAssignLoc===null&&(i.shorthandAssignLoc=s):this.raise(C.InvalidCoverInitializedName,s),e.value=this.parseMaybeDefault(r,ns(e.key))}else e.value=ns(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,r,n,i,s,o,a){let u=this.parseObjectMethod(e,n,i,s,o)||this.parseObjectProperty(e,r,s,a);return u||this.unexpected(),u}parsePropertyName(e,r){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:n,value:i}=this.state,s;if(wn(n))s=this.parseIdentifier(!0);else switch(n){case 134:s=this.parseNumericLiteral(i);break;case 133:s=this.parseStringLiteral(i);break;case 135:s=this.parseBigIntLiteral(i);break;case 138:{let o=this.state.startLoc;r!=null?r.privateKeyLoc===null&&(r.privateKeyLoc=o):this.raise(C.UnexpectedPrivateField,o),s=this.parsePrivateName();break}default:if(n===136){s=this.parseDecimalLiteral(i);break}this.unexpected()}e.key=s,n!==138&&(e.computed=!1)}}initFunction(e,r){e.id=null,e.generator=!1,e.async=r}parseMethod(e,r,n,i,s,o,a=!1){this.initFunction(e,n),e.generator=r,this.scope.enter(18|(a?64:0)|(s?32:0)),this.prodParam.enter(jh(n,e.generator)),this.parseFunctionParams(e,i);let u=this.parseFunctionBodyAndFinish(e,o,!0);return this.prodParam.exit(),this.scope.exit(),u}parseArrayLike(e,r,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=this.startNode();return this.next(),o.elements=this.parseExprList(e,!n,i,o),this.state.inFSharpPipelineDirectBody=s,this.finishNode(o,n?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,r,n,i){this.scope.enter(6);let s=jh(n,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(e,n);let o=this.state.maybeInArrowParameters;return r&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,r,i)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=o,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,r,n){this.toAssignableList(r,n,!1),e.params=r}parseFunctionBodyAndFinish(e,r,n=!1){return this.parseFunctionBody(e,!1,n),this.finishNode(e,r)}parseFunctionBody(e,r,n=!1){let i=r&&!this.match(5);if(this.expressionScope.enter(gM()),i)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,r,!1);else{let s=this.state.strict,o=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),e.body=this.parseBlock(!0,!1,a=>{let u=!this.isSimpleParamList(e.params);a&&u&&this.raise(C.IllegalLanguageModeDirective,(e.kind==="method"||e.kind==="constructor")&&e.key?e.key.loc.end:e);let c=!s&&this.state.strict;this.checkParams(e,!this.state.strict&&!r&&!n&&!u,r,c),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,c)}),this.prodParam.exit(),this.state.labels=o}this.expressionScope.exit()}isSimpleParameter(e){return e.type==="Identifier"}isSimpleParamList(e){for(let r=0,n=e.length;r<n;r++)if(!this.isSimpleParameter(e[r]))return!1;return!0}checkParams(e,r,n,i=!0){let s=!r&&new Set,o={type:"FormalParameters"};for(let a of e.params)this.checkLVal(a,o,5,s,i)}parseExprList(e,r,n,i){let s=[],o=!0;for(;!this.eat(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){i&&this.addTrailingCommaExtraToNode(i),this.next();break}s.push(this.parseExprListItem(r,n))}return s}parseExprListItem(e,r,n){let i;if(this.match(12))e||this.raise(C.UnexpectedToken,this.state.curPosition(),{unexpected:","}),i=null;else if(this.match(21)){let s=this.state.startLoc;i=this.parseParenItem(this.parseSpread(r),s)}else if(this.match(17)){this.expectPlugin("partialApplication"),n||this.raise(C.UnexpectedArgumentPlaceholder,this.state.startLoc);let s=this.startNode();this.next(),i=this.finishNode(s,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowIn(r,this.parseParenItem);return i}parseIdentifier(e){let r=this.startNode(),n=this.parseIdentifierName(e);return this.createIdentifier(r,n)}createIdentifier(e,r){return e.name=r,e.loc.identifierName=r,this.finishNode(e,"Identifier")}parseIdentifierName(e){let r,{startLoc:n,type:i}=this.state;wn(i)?r=this.state.value:this.unexpected();let s=Dte(i);return e?s&&this.replaceToken(132):this.checkReservedWord(r,n,s,!1),this.next(),r}checkReservedWord(e,r,n,i){if(e.length>10||!$te(e))return;if(n&&Mte(e)){this.raise(C.UnexpectedKeyword,r,{keyword:e});return}if((this.state.strict?i?dM:lM:cM)(e,this.inModule)){this.raise(C.UnexpectedReservedWord,r,{reservedWord:e});return}else if(e==="yield"){if(this.prodParam.hasYield){this.raise(C.YieldBindingIdentifier,r);return}}else if(e==="await"){if(this.prodParam.hasAwait){this.raise(C.AwaitBindingIdentifier,r);return}if(this.scope.inStaticBlock){this.raise(C.AwaitBindingIdentifierInStaticBlock,r);return}this.expressionScope.recordAsyncArrowParametersError(r)}else if(e==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(C.ArgumentsInClass,r);return}}recordAwaitIfAllowed(){let e=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){let r=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(C.AwaitExpressionFormalParameter,r),this.eat(55)&&this.raise(C.ObsoleteAwaitStar,r),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(r.argument=this.parseMaybeUnary(null,!0)),this.finishNode(r,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:e}=this.state;return e===53||e===10||e===0||Gh(e)||e===102&&!this.state.containsEsc||e===137||e===56||this.hasPlugin("v8intrinsic")&&e===54}parseYield(){let e=this.startNode();this.expressionScope.recordParameterInitializerError(C.YieldInParameter,e),this.next();let r=!1,n=null;if(!this.hasPrecedingLineBreak())switch(r=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!r)break;default:n=this.parseMaybeAssign()}return e.delegate=r,e.argument=n,this.finishNode(e,"YieldExpression")}parseImportCall(e){return this.next(),e.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(e.options=null),this.eat(12)&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(e.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,r){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&e.type==="SequenceExpression"&&this.raise(C.PipelineHeadSequenceExpression,r)}parseSmartPipelineBodyInStyle(e,r){if(this.isSimpleReference(e)){let n=this.startNodeAt(r);return n.callee=e,this.finishNode(n,"PipelineBareFunction")}else{let n=this.startNodeAt(r);return this.checkSmartPipeTopicBodyEarlyErrors(r),n.expression=e,this.finishNode(n,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(C.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(C.PipelineTopicUnused,e)}withTopicBindingContext(e){let r=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=r}}withSmartMixTopicForbiddingContext(e){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let r=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=r}}else return e()}withSoloAwaitPermittingContext(e){let r=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=r}}allowInAnd(e){let r=this.prodParam.currentFlags();if(8&~r){this.prodParam.enter(r|8);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){let r=this.prodParam.currentFlags();if(8&r){this.prodParam.enter(r&-9);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){let r=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let i=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),r,e);return this.state.inFSharpPipelineDirectBody=n,i}parseModuleExpression(){this.expectPlugin("moduleBlocks");let e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let r=this.startNodeAt(this.state.endLoc);this.next();let n=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(r,8,"module")}finally{n()}return this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}},$S={kind:1},bre={kind:2},Ere=/[\uD800-\uDFFF]/u,US=/in(?:stanceof)?/y;function Dre(t,e){for(let r=0;r<t.length;r++){let n=t[r],{type:i}=n;if(typeof i=="number"){{if(i===138){let{loc:s,start:o,value:a,end:u}=n,c=o+1,l=dr(s.start,1);t.splice(r,1,new li({type:Zi(27),value:"#",start:o,end:c,startLoc:s.start,endLoc:l}),new li({type:Zi(132),value:a,start:c,end:u,startLoc:l,endLoc:s.end})),r++;continue}if(Gh(i)){let{loc:s,start:o,value:a,end:u}=n,c=o+1,l=dr(s.start,1),p;e.charCodeAt(o)===96?p=new li({type:Zi(22),value:"`",start:o,end:c,startLoc:s.start,endLoc:l}):p=new li({type:Zi(8),value:"}",start:o,end:c,startLoc:s.start,endLoc:l});let d,f,h,m;i===24?(f=u-1,h=dr(s.end,-1),d=a===null?null:a.slice(1,-1),m=new li({type:Zi(22),value:"`",start:f,end:u,startLoc:h,endLoc:s.end})):(f=u-2,h=dr(s.end,-2),d=a===null?null:a.slice(1,-2),m=new li({type:Zi(23),value:"${",start:f,end:u,startLoc:h,endLoc:s.end})),t.splice(r,1,p,new li({type:Zi(20),value:d,start:c,end:f,startLoc:l,endLoc:h}),m),r+=2;continue}}n.type=Zi(i)}}return t}var o_=class extends s_{parseTopLevel(e,r){return e.program=this.parseProgram(r),e.comments=this.comments,this.options.tokens&&(e.tokens=Dre(this.tokens,this.input)),this.finishNode(e,"File")}parseProgram(e,r=139,n=this.options.sourceType){if(e.sourceType=n,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,r),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[s,o]of Array.from(this.scope.undefinedExports))this.raise(C.ModuleExportUndefined,o,{localName:s});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let i;return r===139?i=this.finishNode(e,"Program"):i=this.finishNodeAt(e,"Program",dr(this.state.startLoc,-1)),i}stmtToDirective(e){let r=e;r.type="Directive",r.value=r.expression,delete r.expression;let n=r.value,i=n.value,s=this.input.slice(n.start,n.end),o=n.value=s.slice(1,-1);return this.addExtra(n,"raw",s),this.addExtra(n,"rawValue",o),this.addExtra(n,"expressionValue",i),n.type="DirectiveLiteral",r}parseInterpreterDirective(){if(!this.match(28))return null;let e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(e,r){if(ts(e)){if(US.lastIndex=r,US.test(this.input)){let n=this.codePointAtPos(US.lastIndex);if(!cu(n)&&n!==92)return!1}return!0}else return e===92}chStartsBindingPattern(e){return e===91||e===123}hasFollowingBindingAtom(){let e=this.nextTokenStart(),r=this.codePointAtPos(e);return this.chStartsBindingPattern(r)||this.chStartsBindingIdentifier(r,e)}hasInLineFollowingBindingIdentifierOrBrace(){let e=this.nextTokenInLineStart(),r=this.codePointAtPos(e);return r===123||this.chStartsBindingIdentifier(r,e)}startsUsingForOf(){let{type:e,containsEsc:r}=this.lookahead();if(e===102&&!r)return!1;if(Ne(e)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);let r=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(r,e))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let r=0;return this.options.annexB&&!this.state.strict&&(r|=4,e&&(r|=8)),this.parseStatementLike(r)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let r=null;return this.match(26)&&(r=this.parseDecorators(!0)),this.parseStatementContent(e,r)}parseStatementContent(e,r){let n=this.state.type,i=this.startNode(),s=!!(e&2),o=!!(e&4),a=e&1;switch(n){case 60:return this.parseBreakContinueStatement(i,!0);case 63:return this.parseBreakContinueStatement(i,!1);case 64:return this.parseDebuggerStatement(i);case 90:return this.parseDoWhileStatement(i);case 91:return this.parseForStatement(i);case 68:if(this.lookaheadCharCode()===46)break;return o||this.raise(this.state.strict?C.StrictFunction:this.options.annexB?C.SloppyFunctionAnnexB:C.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(i,!1,!s&&o);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(r,i),!0);case 69:return this.parseIfStatement(i);case 70:return this.parseReturnStatement(i);case 71:return this.parseSwitchStatement(i);case 72:return this.parseThrowStatement(i);case 73:return this.parseTryStatement(i);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?s||this.raise(C.UnexpectedLexicalDeclaration,i):this.raise(C.AwaitUsingNotInAsyncContext,i),this.next(),this.parseVarStatement(i,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(C.UnexpectedUsingDeclaration,this.state.startLoc):s||this.raise(C.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(i,"using");case 100:{if(this.state.containsEsc)break;let l=this.nextTokenStart(),p=this.codePointAtPos(l);if(p!==91&&(!s&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(p,l)&&p!==123))break}case 75:s||this.raise(C.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let l=this.state.value;return this.parseVarStatement(i,l)}case 92:return this.parseWhileStatement(i);case 76:return this.parseWithStatement(i);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(i);case 83:{let l=this.lookaheadCharCode();if(l===40||l===46)break}case 82:{!this.options.allowImportExportEverywhere&&!a&&this.raise(C.UnexpectedImportExport,this.state.startLoc),this.next();let l;return n===83?(l=this.parseImport(i),l.type==="ImportDeclaration"&&(!l.importKind||l.importKind==="value")&&(this.sawUnambiguousESM=!0)):(l=this.parseExport(i,r),(l.type==="ExportNamedDeclaration"&&(!l.exportKind||l.exportKind==="value")||l.type==="ExportAllDeclaration"&&(!l.exportKind||l.exportKind==="value")||l.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(l),l}default:if(this.isAsyncFunction())return s||this.raise(C.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(i,!0,!s&&o)}let u=this.state.value,c=this.parseExpression();return Ne(n)&&c.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(i,u,c,e):this.parseExpressionStatement(i,c,r)}assertModuleNodeAllowed(e){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(C.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(e,r,n){return e&&(r.decorators&&r.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(C.DecoratorsBeforeAfterExport,r.decorators[0]),r.decorators.unshift(...e)):r.decorators=e,this.resetStartLocationFromNode(r,e[0]),n&&this.resetStartLocationFromNode(n,r)),r}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){let r=[];do r.push(this.parseDecorator());while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(C.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(C.UnexpectedLeadingDecorator,this.state.startLoc);return r}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let e=this.startNode();if(this.next(),this.hasPlugin("decorators")){let r=this.state.startLoc,n;if(this.match(10)){let i=this.state.startLoc;this.next(),n=this.parseExpression(),this.expect(11),n=this.wrapParenthesis(i,n);let s=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(n),this.getPluginOption("decorators","allowCallParenthesized")===!1&&e.expression!==n&&this.raise(C.DecoratorArgumentsOutsideParentheses,s)}else{for(n=this.parseIdentifier(!1);this.eat(16);){let i=this.startNodeAt(r);i.object=n,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),i.property=this.parsePrivateName()):i.property=this.parseIdentifier(!0),i.computed=!1,n=this.finishNode(i,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(n)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){let r=this.startNodeAtNode(e);return r.callee=e,r.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(r.arguments),this.finishNode(r,"CallExpression")}return e}parseBreakContinueStatement(e,r){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,r),this.finishNode(e,r?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,r){let n;for(n=0;n<this.state.labels.length;++n){let i=this.state.labels[n];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(r||i.kind===1)||e.label&&r))break}if(n===this.state.labels.length){let i=r?"BreakStatement":"ContinueStatement";this.raise(C.IllegalBreakContinue,e,{type:i})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push($S),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push($S);let r=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(r=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return r!==null&&this.unexpected(r),this.parseFor(e,null);let n=this.isContextual(100);{let u=this.isContextual(96)&&this.startsAwaitUsing(),c=u||this.isContextual(107)&&this.startsUsingForOf(),l=n&&this.hasFollowingBindingAtom()||c;if(this.match(74)||this.match(75)||l){let p=this.startNode(),d;u?(d="await using",this.recordAwaitIfAllowed()||this.raise(C.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):d=this.state.value,this.next(),this.parseVar(p,!0,d);let f=this.finishNode(p,"VariableDeclaration"),h=this.match(58);return h&&c&&this.raise(C.ForInUsing,f),(h||this.isContextual(102))&&f.declarations.length===1?this.parseForIn(e,f,r):(r!==null&&this.unexpected(r),this.parseFor(e,f))}}let i=this.isContextual(95),s=new pu,o=this.parseExpression(!0,s),a=this.isContextual(102);if(a&&(n&&this.raise(C.ForOfLet,o),r===null&&i&&o.type==="Identifier"&&this.raise(C.ForOfAsync,o)),a||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(o,!0);let u=a?"ForOfStatement":"ForInStatement";return this.checkLVal(o,{type:u}),this.parseForIn(e,o,r)}else this.checkExpressionErrors(s,!0);return r!==null&&this.unexpected(r),this.parseFor(e,o)}parseFunctionStatement(e,r,n){return this.next(),this.parseFunction(e,1|(n?2:0)|(r?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(C.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();let r=e.cases=[];this.expect(5),this.state.labels.push(bre),this.scope.enter(0);let n;for(let i;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);n&&this.finishNode(n,"SwitchCase"),r.push(n=this.startNode()),n.consequent=[],this.next(),s?n.test=this.parseExpression():(i&&this.raise(C.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),i=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(C.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){let e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&e.type==="Identifier"?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){let r=this.startNode();this.next(),this.match(10)?(this.expect(10),r.param=this.parseCatchClauseParam(),this.expect(11)):(r.param=null,this.scope.enter(0)),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(r,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(C.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,r,n=!1){return this.next(),this.parseVar(e,!1,r,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push($S),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(C.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,r,n,i){for(let o of this.state.labels)o.name===r&&this.raise(C.LabelRedeclaration,n,{labelName:r});let s=_te(this.state.type)?1:this.match(71)?2:null;for(let o=this.state.labels.length-1;o>=0;o--){let a=this.state.labels[o];if(a.statementStart===e.start)a.statementStart=this.state.start,a.kind=s;else break}return this.state.labels.push({name:r,kind:s,statementStart:this.state.start}),e.body=i&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,r,n){return e.expression=r,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,r=!0,n){let i=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),r&&this.scope.enter(0),this.parseBlockBody(i,e,!1,8,n),r&&this.scope.exit(),this.finishNode(i,"BlockStatement")}isValidDirective(e){return e.type==="ExpressionStatement"&&e.expression.type==="StringLiteral"&&!e.expression.extra.parenthesized}parseBlockBody(e,r,n,i,s){let o=e.body=[],a=e.directives=[];this.parseBlockOrModuleBlockBody(o,r?a:void 0,n,i,s)}parseBlockOrModuleBlockBody(e,r,n,i,s){let o=this.state.strict,a=!1,u=!1;for(;!this.match(i);){let c=n?this.parseModuleItem():this.parseStatementListItem();if(r&&!u){if(this.isValidDirective(c)){let l=this.stmtToDirective(c);r.push(l),!a&&l.value.value==="use strict"&&(a=!0,this.setStrict(!0));continue}u=!0,this.state.strictErrors.clear()}e.push(c)}s?.call(this,a),o||this.setStrict(!1),this.next()}parseFor(e,r){return e.init=r,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,r,n){let i=this.match(58);return this.next(),i?n!==null&&this.unexpected(n):e.await=n!==null,r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!i||!this.options.annexB||this.state.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(C.ForInOfLoopInitializer,r,{type:i?"ForInStatement":"ForOfStatement"}),r.type==="AssignmentPattern"&&this.raise(C.InvalidLhs,r,{ancestor:{type:"ForStatement"}}),e.left=r,e.right=i?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")}parseVar(e,r,n,i=!1){let s=e.declarations=[];for(e.kind=n;;){let o=this.startNode();if(this.parseVarId(o,n),o.init=this.eat(29)?r?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,o.init===null&&!i&&(o.id.type!=="Identifier"&&!(r&&(this.match(58)||this.isContextual(102)))?this.raise(C.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(n==="const"||n==="using"||n==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(C.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:n})),s.push(this.finishNode(o,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,r){let n=this.parseBindingAtom();(r==="using"||r==="await using")&&(n.type==="ArrayPattern"||n.type==="ObjectPattern")&&this.raise(C.UsingDeclarationHasBindingPattern,n.loc.start),this.checkLVal(n,{type:"VariableDeclarator"},r==="var"?5:8201),e.id=n}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,r=0){let n=r&2,i=!!(r&1),s=i&&!(r&4),o=!!(r&8);this.initFunction(e,o),this.match(55)&&(n&&this.raise(C.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),i&&(e.id=this.parseFunctionId(s));let a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(jh(o,e.generator)),i||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,i?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),i&&!n&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=a,e}parseFunctionId(e){return e||Ne(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,r){this.expect(10),this.expressionScope.enter(zte()),e.params=this.parseBindingList(11,41,2|(r?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,r,n){this.next();let i=this.state.strict;return this.state.strict=!0,this.parseClassId(e,r,n),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,i),this.finishNode(e,r?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return e.type==="Identifier"&&e.name==="constructor"||e.type==="StringLiteral"&&e.value==="constructor"}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,r){this.classScope.enter();let n={hadConstructor:!1,hadSuperClass:e},i=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(i.length>0)throw this.raise(C.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){i.push(this.parseDecorator());continue}let o=this.startNode();i.length&&(o.decorators=i,this.resetStartLocationFromNode(o,i[0]),i=[]),this.parseClassMember(s,o,n),o.kind==="constructor"&&o.decorators&&o.decorators.length>0&&this.raise(C.DecoratorConstructor,o)}}),this.state.strict=r,this.next(),i.length)throw this.raise(C.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(e,r){let n=this.parseIdentifier(!0);if(this.isClassMethod()){let i=r;return i.kind="method",i.computed=!1,i.key=n,i.static=!1,this.pushClassMethod(e,i,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let i=r;return i.computed=!1,i.key=n,i.static=!1,e.body.push(this.parseClassProperty(i)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(e,r,n){let i=this.isContextual(106);if(i){if(this.parseClassMemberFromModifier(e,r))return;if(this.eat(5)){this.parseClassStaticBlock(e,r);return}}this.parseClassMemberWithIsStatic(e,r,n,i)}parseClassMemberWithIsStatic(e,r,n,i){let s=r,o=r,a=r,u=r,c=r,l=s,p=s;if(r.static=i,this.parsePropertyNamePrefixOperator(r),this.eat(55)){l.kind="method";let y=this.match(138);if(this.parseClassElementName(l),y){this.pushClassPrivateMethod(e,o,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(C.ConstructorIsGenerator,s.key),this.pushClassMethod(e,s,!0,!1,!1,!1);return}let d=!this.state.containsEsc&&Ne(this.state.type),f=this.parseClassElementName(r),h=d?f.name:null,m=this.isPrivateName(f),g=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(l.kind="method",m){this.pushClassPrivateMethod(e,o,!1,!1);return}let y=this.isNonstaticConstructor(s),b=!1;y&&(s.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(C.DuplicateConstructor,f),y&&this.hasPlugin("typescript")&&r.override&&this.raise(C.OverrideOnConstructor,f),n.hadConstructor=!0,b=n.hadSuperClass),this.pushClassMethod(e,s,!1,!1,y,b)}else if(this.isClassProperty())m?this.pushClassPrivateProperty(e,u):this.pushClassProperty(e,a);else if(h==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(f);let y=this.eat(55);p.optional&&this.unexpected(g),l.kind="method";let b=this.match(138);this.parseClassElementName(l),this.parsePostMemberNameModifiers(p),b?this.pushClassPrivateMethod(e,o,y,!0):(this.isNonstaticConstructor(s)&&this.raise(C.ConstructorIsAsync,s.key),this.pushClassMethod(e,s,y,!0,!1,!1))}else if((h==="get"||h==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(f),l.kind=h;let y=this.match(138);this.parseClassElementName(s),y?this.pushClassPrivateMethod(e,o,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(C.ConstructorIsAccessor,s.key),this.pushClassMethod(e,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(h==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(f);let y=this.match(138);this.parseClassElementName(a),this.pushClassAccessorProperty(e,c,y)}else this.isLineTerminator()?m?this.pushClassPrivateProperty(e,u):this.pushClassProperty(e,a):this.unexpected()}parseClassElementName(e){let{type:r,value:n}=this.state;if((r===132||r===133)&&e.static&&n==="prototype"&&this.raise(C.StaticPrototype,this.state.startLoc),r===138){n==="constructor"&&this.raise(C.ConstructorClassPrivateField,this.state.startLoc);let i=this.parsePrivateName();return e.key=i,i}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,r){var n;this.scope.enter(208);let i=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let s=r.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=i,e.body.push(this.finishNode(r,"StaticBlock")),(n=r.decorators)!=null&&n.length&&this.raise(C.DecoratorStaticBlock,r)}pushClassProperty(e,r){!r.computed&&this.nameIsConstructor(r.key)&&this.raise(C.ConstructorClassField,r.key),e.body.push(this.parseClassProperty(r))}pushClassPrivateProperty(e,r){let n=this.parseClassPrivateProperty(r);e.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassAccessorProperty(e,r,n){!n&&!r.computed&&this.nameIsConstructor(r.key)&&this.raise(C.ConstructorClassField,r.key);let i=this.parseClassAccessorProperty(r);e.body.push(i),n&&this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassMethod(e,r,n,i,s,o){e.body.push(this.parseMethod(r,n,i,s,o,"ClassMethod",!0))}pushClassPrivateMethod(e,r,n,i){let s=this.parseMethod(r,n,i,!1,!1,"ClassPrivateMethod",!0);e.body.push(s);let o=s.kind==="get"?s.static?6:2:s.kind==="set"?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,o)}declareClassPrivateMethodInScope(e,r){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),r,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(gM()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,r,n,i=8331){if(Ne(this.state.type))e.id=this.parseIdentifier(),r&&this.declareNameFromIdentifier(e.id,i);else if(n||!r)e.id=null;else throw this.raise(C.MissingClassName,this.state.startLoc)}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,r){let n=this.parseMaybeImportPhase(e,!0),i=this.maybeParseExportDefaultSpecifier(e,n),s=!i||this.eat(12),o=s&&this.eatExportStar(e),a=o&&this.maybeParseExportNamespaceSpecifier(e),u=s&&(!a||this.eat(12)),c=i||o;if(o&&!a){if(i&&this.unexpected(),r)throw this.raise(C.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration")}let l=this.maybeParseExportNamedSpecifiers(e);i&&s&&!o&&!l&&this.unexpected(null,5),a&&u&&this.unexpected(null,98);let p;if(c||l){if(p=!1,r)throw this.raise(C.UnsupportedDecoratorExport,e);this.parseExportFrom(e,c)}else p=this.maybeParseExportDeclaration(e);if(c||l||p){var d;let f=e;if(this.checkExport(f,!0,!1,!!f.source),((d=f.declaration)==null?void 0:d.type)==="ClassDeclaration")this.maybeTakeDecorators(r,f.declaration,f);else if(r)throw this.raise(C.UnsupportedDecoratorExport,e);return this.finishNode(f,"ExportNamedDeclaration")}if(this.eat(65)){let f=e,h=this.parseExportDefaultExpression();if(f.declaration=h,h.type==="ClassDeclaration")this.maybeTakeDecorators(r,h,f);else if(r)throw this.raise(C.UnsupportedDecoratorExport,e);return this.checkExport(f,!0,!0),this.finishNode(f,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,r){if(r||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",r?.loc.start);let n=r||this.parseIdentifier(!0),i=this.startNodeAtNode(n);return i.exported=n,e.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var r,n;(n=(r=e).specifiers)!=null||(r.specifiers=[]);let i=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),i.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(i,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){let r=e;r.specifiers||(r.specifiers=[]);let n=r.exportKind==="type";return r.specifiers.push(...this.parseExportSpecifiers(n)),r.source=null,r.declaration=null,this.hasPlugin("importAssertions")&&(r.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return this.shouldParseExportDeclaration()?(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){let e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(C.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(C.UnsupportedDefaultExport,this.state.startLoc);let r=this.parseMaybeAssignAllowIn();return this.semicolon(),r}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:e}=this.state;if(Ne(e)){if(e===95&&!this.state.containsEsc||e===100)return!1;if((e===130||e===129)&&!this.state.containsEsc){let{type:i}=this.lookahead();if(Ne(i)&&i!==98||i===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let r=this.nextTokenStart(),n=this.isUnparsedContextual(r,"from");if(this.input.charCodeAt(r)===44||Ne(this.state.type)&&n)return!0;if(this.match(65)&&n){let i=this.input.charCodeAt(this.nextTokenStartSince(r+4));return i===34||i===39}return!1}parseExportFrom(e,r){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):r&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:e}=this.state;return e===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(C.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(C.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(C.UsingDeclarationExport,this.state.startLoc),!0):e===74||e===75||e===68||e===80||this.isLet()||this.isAsyncFunction()}checkExport(e,r,n,i){if(r){var s;if(n){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var o;let a=e.declaration;a.type==="Identifier"&&a.name==="from"&&a.end-a.start===4&&!((o=a.extra)!=null&&o.parenthesized)&&this.raise(C.ExportDefaultFromAsIdentifier,a)}}else if((s=e.specifiers)!=null&&s.length)for(let a of e.specifiers){let{exported:u}=a,c=u.type==="Identifier"?u.name:u.value;if(this.checkDuplicateExports(a,c),!i&&a.local){let{local:l}=a;l.type!=="Identifier"?this.raise(C.ExportBindingIsString,a,{localName:l.value,exportName:c}):(this.checkReservedWord(l.name,l.loc.start,!0,!1),this.scope.checkLocalExport(l))}}else if(e.declaration){let a=e.declaration;if(a.type==="FunctionDeclaration"||a.type==="ClassDeclaration"){let{id:u}=a;if(!u)throw new Error("Assertion failure");this.checkDuplicateExports(e,u.name)}else if(a.type==="VariableDeclaration")for(let u of a.declarations)this.checkDeclaration(u.id)}}}checkDeclaration(e){if(e.type==="Identifier")this.checkDuplicateExports(e,e.name);else if(e.type==="ObjectPattern")for(let r of e.properties)this.checkDeclaration(r);else if(e.type==="ArrayPattern")for(let r of e.elements)r&&this.checkDeclaration(r);else e.type==="ObjectProperty"?this.checkDeclaration(e.value):e.type==="RestElement"?this.checkDeclaration(e.argument):e.type==="AssignmentPattern"&&this.checkDeclaration(e.left)}checkDuplicateExports(e,r){this.exportedIdentifiers.has(r)&&(r==="default"?this.raise(C.DuplicateDefaultExport,e):this.raise(C.DuplicateExport,e,{exportName:r})),this.exportedIdentifiers.add(r)}parseExportSpecifiers(e){let r=[],n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;let i=this.isContextual(130),s=this.match(133),o=this.startNode();o.local=this.parseModuleExportName(),r.push(this.parseExportSpecifier(o,s,e,i))}return r}parseExportSpecifier(e,r,n,i){return this.eatContextual(93)?e.exported=this.parseModuleExportName():r?e.exported=Xte(e.local):e.exported||(e.exported=ns(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){let e=this.parseStringLiteral(this.state.value),r=Ere.exec(e.value);return r&&this.raise(C.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:r[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return e.assertions!=null?e.assertions.some(({key:r,value:n})=>n.value==="json"&&(r.type==="Identifier"?r.name==="type":r.value==="type")):!1}checkImportReflection(e){let{specifiers:r}=e,n=r.length===1?r[0].type:null;if(e.phase==="source")n!=="ImportDefaultSpecifier"&&this.raise(C.SourcePhaseImportRequiresDefault,r[0].loc.start);else if(e.phase==="defer")n!=="ImportNamespaceSpecifier"&&this.raise(C.DeferImportRequiresNamespace,r[0].loc.start);else if(e.module){var i;n!=="ImportDefaultSpecifier"&&this.raise(C.ImportReflectionNotBinding,r[0].loc.start),((i=e.assertions)==null?void 0:i.length)>0&&this.raise(C.ImportReflectionHasAssertion,r[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&e.type!=="ExportAllDeclaration"){let{specifiers:r}=e;if(r!=null){let n=r.find(i=>{let s;if(i.type==="ExportSpecifier"?s=i.local:i.type==="ImportSpecifier"&&(s=i.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});n!==void 0&&this.raise(C.ImportJSONBindingNotDefault,n.loc.start)}}}isPotentialImportPhase(e){return e?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(e,r,n,i){r||(n==="module"?(this.expectPlugin("importReflection",i),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),n==="source"?(this.expectPlugin("sourcePhaseImports",i),e.phase="source"):n==="defer"?(this.expectPlugin("deferredImportEvaluation",i),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,r){if(!this.isPotentialImportPhase(r))return this.applyImportPhase(e,r,null),null;let n=this.parseIdentifier(!0),{type:i}=this.state;return(wn(i)?i!==98||this.lookaheadCharCode()===102:i!==12)?(this.resetPreviousIdentifierLeadingComments(n),this.applyImportPhase(e,r,n.name,n.loc.start),null):(this.applyImportPhase(e,r,null),n)}isPrecedingIdImportPhase(e){let{type:r}=this.state;return Ne(r)?r!==98||this.lookaheadCharCode()===102:r!==12}parseImport(e){return this.match(133)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,r){e.specifiers=[];let i=!this.maybeParseDefaultImportSpecifier(e,r)||this.eat(12),s=i&&this.maybeParseStarImportSpecifier(e);return i&&!s&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){var r;return(r=e.specifiers)!=null||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,r,n){r.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(r,n))}finishImportSpecifier(e,r,n=8201){return this.checkLVal(e.local,{type:r},n),this.finishNode(e,r)}parseImportAttributes(){this.expect(5);let e=[],r=new Set;do{if(this.match(8))break;let n=this.startNode(),i=this.state.value;if(r.has(i)&&this.raise(C.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:i}),r.add(i),this.match(133)?n.key=this.parseStringLiteral(i):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(C.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){let e=[],r=new Set;do{let n=this.startNode();if(n.key=this.parseIdentifier(!0),n.key.name!=="type"&&this.raise(C.ModuleAttributeDifferentFromType,n.key),r.has(n.key.name)&&this.raise(C.ModuleAttributesWithDuplicateKeys,n.key,{key:n.key.name}),r.add(n.key.name),this.expect(14),!this.match(133))throw this.raise(C.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let r;var n=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?r=this.parseModuleAttributes():(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),r=this.parseImportAttributes()),n=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(C.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(e,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),r=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))r=[];else if(this.hasPlugin("moduleAttributes"))r=[];else return;!n&&this.hasPlugin("importAssertions")?e.assertions=r:e.attributes=r}maybeParseDefaultImportSpecifier(e,r){if(r){let n=this.startNodeAtNode(r);return n.local=r,e.specifiers.push(this.finishImportSpecifier(n,"ImportDefaultSpecifier")),!0}else if(wn(this.state.type))return this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(e){if(this.match(55)){let r=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,r,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let r=!0;for(this.expect(5);!this.eat(8);){if(r)r=!1;else{if(this.eat(14))throw this.raise(C.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let n=this.startNode(),i=this.match(133),s=this.isContextual(130);n.imported=this.parseModuleExportName();let o=this.parseImportSpecifier(n,i,e.importKind==="type"||e.importKind==="typeof",s,void 0);e.specifiers.push(o)}}parseImportSpecifier(e,r,n,i,s){if(this.eatContextual(93))e.local=this.parseIdentifier();else{let{imported:o}=e;if(r)throw this.raise(C.ImportBindingIsString,e,{importName:o.value});this.checkReservedWord(o.name,e.loc.start,!0,!0),e.local||(e.local=ns(o))}return this.finishImportSpecifier(e,"ImportSpecifier",s)}isThisParam(e){return e.type==="Identifier"&&e.name==="this"}},Kh=class extends o_{constructor(e,r,n){e=yre(e),super(e,r),this.options=e,this.initializeScopes(),this.plugins=n,this.filename=e.sourceFilename}getScopeHandler(){return ql}parse(){this.enterInitialScopes();let e=this.startNode(),r=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,r),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e}};function xre(t,e){var r;if(((r=e)==null?void 0:r.sourceType)==="unambiguous"){e=Object.assign({},e);try{e.sourceType="module";let n=$l(e,t),i=n.parse();if(n.sawUnambiguousESM)return i;if(n.ambiguousScriptDifferentAst)try{return e.sourceType="script",$l(e,t).parse()}catch{}else i.program.sourceType="script";return i}catch(n){try{return e.sourceType="script",$l(e,t).parse()}catch{}throw n}}else return $l(e,t).parse()}function Sre(t,e){let r=$l(e,t);return r.options.strictMode&&(r.state.strict=!0),r.getExpression()}function _re(t){let e={};for(let r of Object.keys(t))e[r]=Zi(t[r]);return e}var Cre=_re(Ete);function $l(t,e){let r=Kh,n=new Map;if(t!=null&&t.plugins){for(let i of t.plugins){let s,o;typeof i=="string"?s=i:[s,o]=i,n.has(s)||n.set(s,o||{})}mre(n),r=vre(n)}return new r(t,e,n)}var sM=new Map;function vre(t){let e=[];for(let i of gre)t.has(i)&&e.push(i);let r=e.join("|"),n=sM.get(r);if(!n){n=Kh;for(let i of e)n=DM[i](n);sM.set(r,n)}return n}Vl.parse=xre;Vl.parseExpression=Sre;Vl.tokTypes=Cre});var kL=D(vu=>{"use strict";vu.__esModule=!0;vu.distance=vu.closest=void 0;var os=new Uint32Array(65536),lie=function(t,e){for(var r=t.length,n=e.length,i=1<<r-1,s=-1,o=0,a=r,u=r;u--;)os[t.charCodeAt(u)]|=1<<u;for(u=0;u<n;u++){var c=os[e.charCodeAt(u)],l=c|o;c|=(c&s)+s^s,o|=~(c|s),s&=c,o&i&&a++,s&i&&a--,o=o<<1|1,s=s<<1|~(l|o),o&=l}for(u=r;u--;)os[t.charCodeAt(u)]=0;return a},pie=function(t,e){for(var r=e.length,n=t.length,i=[],s=[],o=Math.ceil(r/32),a=Math.ceil(n/32),u=0;u<o;u++)s[u]=-1,i[u]=0;for(var c=0;c<a-1;c++){for(var l=0,p=-1,d=c*32,f=Math.min(32,n)+d,h=d;h<f;h++)os[t.charCodeAt(h)]|=1<<h;for(var u=0;u<r;u++){var m=os[e.charCodeAt(u)],g=s[u/32|0]>>>u&1,y=i[u/32|0]>>>u&1,b=m|l,_=((m|y)&p)+p^p|m|y,E=l|~(_|p),x=p&_;E>>>31^g&&(s[u/32|0]^=1<<u),x>>>31^y&&(i[u/32|0]^=1<<u),E=E<<1|g,x=x<<1|y,p=x|~(b|E),l=E&b}for(var h=d;h<f;h++)os[t.charCodeAt(h)]=0}for(var S=0,T=-1,w=c*32,k=Math.min(32,n-w)+w,h=w;h<k;h++)os[t.charCodeAt(h)]|=1<<h;for(var R=n,u=0;u<r;u++){var m=os[e.charCodeAt(u)],g=s[u/32|0]>>>u&1,y=i[u/32|0]>>>u&1,b=m|S,_=((m|y)&T)+T^T|m|y,E=S|~(_|T),x=T&_;R+=E>>>n-1&1,R-=x>>>n-1&1,E>>>31^g&&(s[u/32|0]^=1<<u),x>>>31^y&&(i[u/32|0]^=1<<u),E=E<<1|g,x=x<<1|y,T=x|~(b|E),S=E&b}for(var h=w;h<k;h++)os[t.charCodeAt(h)]=0;return R},OL=function(t,e){if(t.length<e.length){var r=e;e=t,t=r}return e.length===0?t.length:t.length<=32?lie(t,e):pie(t,e)};vu.distance=OL;var die=function(t,e){for(var r=1/0,n=0,i=0;i<e.length;i++){var s=OL(t,e[i]);s<r&&(r=s,n=i)}return e[n]};vu.closest=die});var iB=D((xxe,nB)=>{nB.exports=rB;rB.sync=Hie;var eB=require("fs");function Kie(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function tB(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Kie(e,r)}function rB(t,e,r){eB.stat(t,function(n,i){r(n,n?!1:tB(i,t,e))})}function Hie(t,e){return tB(eB.statSync(t),t,e)}});var cB=D((Sxe,uB)=>{uB.exports=oB;oB.sync=zie;var sB=require("fs");function oB(t,e,r){sB.stat(t,function(n,i){r(n,n?!1:aB(i,e))})}function zie(t,e){return aB(sB.statSync(t),e)}function aB(t,e){return t.isFile()&&Wie(t,e)}function Wie(t,e){var r=t.mode,n=t.uid,i=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&i===o||r&a&&n===s||r&l&&s===0;return p}});var pB=D((Cxe,lB)=>{var _xe=require("fs"),xm;process.platform==="win32"||global.TESTING_WINDOWS?xm=iB():xm=cB();lB.exports=t0;t0.sync=Yie;function t0(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){t0(t,e||{},function(s,o){s?i(s):n(o)})})}xm(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Yie(t,e){try{return xm.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var bB=D((vxe,yB)=>{var Au=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",dB=require("path"),Jie=Au?";":":",fB=pB(),hB=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),mB=(t,e)=>{let r=e.colon||Jie,n=t.match(/\//)||Au&&t.match(/\\/)?[""]:[...Au?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=Au?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Au?i.split(r):[""];return Au&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},gB=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=mB(t,e),o=[],a=c=>new Promise((l,p)=>{if(c===n.length)return e.all&&o.length?l(o):p(hB(t));let d=n[c],f=/^".*"$/.test(d)?d.slice(1,-1):d,h=dB.join(f,t),m=!f&&/^\.[\\\/]/.test(t)?t.slice(0,2)+h:h;l(u(m,c,0))}),u=(c,l,p)=>new Promise((d,f)=>{if(p===i.length)return d(a(l+1));let h=i[p];fB(c+h,{pathExt:s},(m,g)=>{if(!m&&g)if(e.all)o.push(c+h);else return d(c+h);return d(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},Xie=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=mB(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=dB.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(fB.sync(d,{pathExt:i}))if(e.all)s.push(d);else return d}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw hB(t)};yB.exports=gB;gB.sync=Xie});var DB=D((Txe,r0)=>{"use strict";var EB=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};r0.exports=EB;r0.exports.default=EB});var CB=D((wxe,_B)=>{"use strict";var xB=require("path"),Qie=bB(),Zie=DB();function SB(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=Qie.sync(t.command,{path:r[Zie({env:r})],pathExt:e?xB.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=xB.resolve(i?t.options.cwd:"",o)),o}function ese(t){return SB(t)||SB(t,!0)}_B.exports=ese});var vB=D((Axe,i0)=>{"use strict";var n0=/([()\][%!^"`<>&|;, *?])/g;function tse(t){return t=t.replace(n0,"^$1"),t}function rse(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(n0,"^$1"),e&&(t=t.replace(n0,"^$1")),t}i0.exports.command=tse;i0.exports.argument=rse});var wB=D((Pxe,TB)=>{"use strict";TB.exports=/^#!(.*)/});var PB=D((Ixe,AB)=>{"use strict";var nse=wB();AB.exports=(t="")=>{let e=t.match(nse);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var NB=D((Nxe,IB)=>{"use strict";var s0=require("fs"),ise=PB();function sse(t){let r=Buffer.alloc(150),n;try{n=s0.openSync(t,"r"),s0.readSync(n,r,0,150,0),s0.closeSync(n)}catch{}return ise(r.toString())}IB.exports=sse});var RB=D((Fxe,kB)=>{"use strict";var ose=require("path"),FB=CB(),OB=vB(),ase=NB(),use=process.platform==="win32",cse=/\.(?:com|exe)$/i,lse=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function pse(t){t.file=FB(t);let e=t.file&&ase(t.file);return e?(t.args.unshift(t.file),t.command=e,FB(t)):t.file}function dse(t){if(!use)return t;let e=pse(t),r=!cse.test(e);if(t.options.forceShell||r){let n=lse.test(e);t.command=ose.normalize(t.command),t.command=OB.command(t.command),t.args=t.args.map(s=>OB.argument(s,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function fse(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:dse(n)}kB.exports=fse});var BB=D((Oxe,LB)=>{"use strict";var o0=process.platform==="win32";function a0(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function hse(t,e){if(!o0)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let s=MB(i,e,"spawn");if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function MB(t,e){return o0&&t===1&&!e.file?a0(e.original,"spawn"):null}function mse(t,e){return o0&&t===1&&!e.file?a0(e.original,"spawnSync"):null}LB.exports={hookChildProcess:hse,verifyENOENT:MB,verifyENOENTSync:mse,notFoundError:a0}});var jB=D((kxe,Pu)=>{"use strict";var $B=require("child_process"),u0=RB(),c0=BB();function UB(t,e,r){let n=u0(t,e,r),i=$B.spawn(n.command,n.args,n.options);return c0.hookChildProcess(i,n),i}function gse(t,e,r){let n=u0(t,e,r),i=$B.spawnSync(n.command,n.args,n.options);return i.error=i.error||c0.verifyENOENTSync(i.status,n),i}Pu.exports=UB;Pu.exports.spawn=UB;Pu.exports.sync=gse;Pu.exports._parse=u0;Pu.exports._enoent=c0});var ioe={};module.exports=yr(ioe);var N3=require("../core/index.cjs"),F3=require("../node/index.cjs"),O3=require("../server/index.cjs"),k3=Y(A0(),1);var Dm=require("fs/promises");var Mu=Y(require("prettier"),1);async function Pr(t,e,r){try{let n=await Mu.default.resolveConfigFile(process.cwd());if(n){let i=await Mu.default.resolveConfig(n);return await Mu.default.format(t,{...i,filepath:r,parser:e})}else return await Mu.default.format(t,{filepath:r,parser:e})}catch(n){return console.warn("Error formatting code",n),t}}var e0=require("http");var km="preview-url";var zo="framework",fp="platform",hp="node",P0="/~khulnasoft-connect",Xs="/~khulnasoft-connected",Rm="/~khulnasoft-dev-tools",Mm="/~khulnasoft-dev-tools.js",Qs="/~khulnasoft-dev-tools-close";var XL=require("os"),Em=require("path"),gi=require("fs");var Yt=Y(He(),1),Yo=require("node:process"),ls=Y(require("node:readline"),1),qm=Y(require("node:readline"),1),q0=require("node:tty"),bp=Y(br(),1);function Q3({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var Z3=Q3();function G0(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Z3,"")}function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K0={exports:{}};(function(t){var e={};t.exports=e,e.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},e.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}e.length=function(n){for(var i=r(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},e.slice=function(n,i,s){textLen=e.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",a=0,u=r(n),c=0;c<u.length;c++){var l=u[c],p=e.length(l);if(a>=i-(p==2?1:0))if(a+p<=s)o+=l;else break;a+=p}return o}})(K0);var e8=K0.exports,t8=V0(e8),r8=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},n8=V0(r8);function Lu(t,e={}){if(typeof t!="string"||t.length===0||(e={ambiguousIsNarrow:!0,...e},t=G0(t),t.length===0))return 0;t=t.replace(n8(),"  ");let r=e.ambiguousIsNarrow?1:2,n=0;for(let i of t){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(t8.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var Um=10,O0=(t=0)=>e=>`\x1B[${e+t}m`,k0=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,R0=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,rt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(rt.modifier);var i8=Object.keys(rt.color),s8=Object.keys(rt.bgColor);[...i8,...s8];function o8(){let t=new Map;for(let[e,r]of Object.entries(rt)){for(let[n,i]of Object.entries(r))rt[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=rt[n],t.set(i[0],i[1]);Object.defineProperty(rt,e,{value:r,enumerable:!1})}return Object.defineProperty(rt,"codes",{value:t,enumerable:!1}),rt.color.close="\x1B[39m",rt.bgColor.close="\x1B[49m",rt.color.ansi=O0(),rt.color.ansi256=k0(),rt.color.ansi16m=R0(),rt.bgColor.ansi=O0(Um),rt.bgColor.ansi256=k0(Um),rt.bgColor.ansi16m=R0(Um),Object.defineProperties(rt,{rgbToAnsi256:{value:(e,r,n)=>e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>rt.rgbToAnsi256(...rt.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,i;if(e>=232)r=((e-232)*10+8)/255,n=r,i=r;else{e-=16;let a=e%36;r=Math.floor(e/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>rt.ansi256ToAnsi(rt.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>rt.ansi256ToAnsi(rt.hexToAnsi256(e)),enumerable:!1}}),rt}var a8=o8(),xp=new Set(["\x1B","\x9B"]),u8=39,Gm="\x07",H0="[",c8="]",z0="m",Vm=`${c8}8;;`,M0=t=>`${xp.values().next().value}${H0}${t}${z0}`,L0=t=>`${xp.values().next().value}${Vm}${t}${Gm}`,l8=t=>t.split(" ").map(e=>Lu(e)),jm=(t,e,r)=>{let n=[...e],i=!1,s=!1,o=Lu(G0(t[t.length-1]));for(let[a,u]of n.entries()){let c=Lu(u);if(o+c<=r?t[t.length-1]+=u:(t.push(u),o=0),xp.has(u)&&(i=!0,s=n.slice(a+1).join("").startsWith(Vm)),i){s?u===Gm&&(i=!1,s=!1):u===z0&&(i=!1);continue}o+=c,o===r&&a<n.length-1&&(t.push(""),o=0)}!o&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},p8=t=>{let e=t.split(" "),r=e.length;for(;r>0&&!(Lu(e[r-1])>0);)r--;return r===e.length?t:e.slice(0,r).join(" ")+e.slice(r).join("")},d8=(t,e,r={})=>{if(r.trim!==!1&&t.trim()==="")return"";let n="",i,s,o=l8(t),a=[""];for(let[c,l]of t.split(" ").entries()){r.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=Lu(a[a.length-1]);if(c!==0&&(p>=e&&(r.wordWrap===!1||r.trim===!1)&&(a.push(""),p=0),(p>0||r.trim===!1)&&(a[a.length-1]+=" ",p++)),r.hard&&o[c]>e){let d=e-p,f=1+Math.floor((o[c]-d-1)/e);Math.floor((o[c]-1)/e)<f&&a.push(""),jm(a,l,e);continue}if(p+o[c]>e&&p>0&&o[c]>0){if(r.wordWrap===!1&&p<e){jm(a,l,e);continue}a.push("")}if(p+o[c]>e&&r.wordWrap===!1){jm(a,l,e);continue}a[a.length-1]+=l}r.trim!==!1&&(a=a.map(c=>p8(c)));let u=[...a.join(`
`)];for(let[c,l]of u.entries()){if(n+=l,xp.has(l)){let{groups:d}=new RegExp(`(?:\\${H0}(?<code>\\d+)m|\\${Vm}(?<uri>.*)${Gm})`).exec(u.slice(c).join(""))||{groups:{}};if(d.code!==void 0){let f=Number.parseFloat(d.code);i=f===u8?void 0:f}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let p=a8.codes.get(Number(i));u[c+1]===`
`?(s&&(n+=L0("")),i&&p&&(n+=M0(p))):l===`
`&&(i&&p&&(n+=M0(i)),s&&(n+=L0(s)))}return n};function B0(t,e,r){return String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>d8(n,e,r)).join(`
`)}var f8=Object.defineProperty,h8=(t,e,r)=>e in t?f8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qr=(t,e,r)=>(h8(t,typeof e!="symbol"?e+"":e,r),r);function m8(t,e){if(t===e)return;let r=t.split(`
`),n=e.split(`
`),i=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&i.push(s);return i}var W0=Symbol("clack:cancel");function Ue(t){return t===W0}function yp(t,e){t.isTTY&&t.setRawMode(e)}var $0=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),g8=new Set(["up","down","left","right","space","enter"]),Wo=class{constructor({render:e,input:r=Yo.stdin,output:n=Yo.stdout,...i},s=!0){qr(this,"input"),qr(this,"output"),qr(this,"rl"),qr(this,"opts"),qr(this,"_track",!1),qr(this,"_render"),qr(this,"_cursor",0),qr(this,"state","initial"),qr(this,"value"),qr(this,"error",""),qr(this,"subscribers",new Map),qr(this,"_prevFrame",""),this.opts=i,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=e.bind(this),this._track=s,this.input=r,this.output=n}prompt(){let e=new q0.WriteStream(0);return e._write=(r,n,i)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),i()},this.input.pipe(e),this.rl=qm.default.createInterface({input:this.input,output:e,tabSize:2,prompt:"",escapeCodeTimeout:50}),qm.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),yp(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((r,n)=>{this.once("submit",()=>{this.output.write(Yt.cursor.show),this.output.off("resize",this.render),yp(this.input,!1),r(this.value)}),this.once("cancel",()=>{this.output.write(Yt.cursor.show),this.output.off("resize",this.render),yp(this.input,!1),r(W0)})})}on(e,r){let n=this.subscribers.get(e)??[];n.push({cb:r}),this.subscribers.set(e,n)}once(e,r){let n=this.subscribers.get(e)??[];n.push({cb:r,once:!0}),this.subscribers.set(e,n)}emit(e,...r){let n=this.subscribers.get(e)??[],i=[];for(let s of n)s.cb(...r),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}unsubscribe(){this.subscribers.clear()}onKeypress(e,r){if(this.state==="error"&&(this.state="active"),r?.name&&!this._track&&$0.has(r.name)&&this.emit("cursor",$0.get(r.name)),r?.name&&g8.has(r.name)&&this.emit("cursor",r.name),e&&(e.toLowerCase()==="y"||e.toLowerCase()==="n")&&this.emit("confirm",e.toLowerCase()==="y"),e==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),e&&this.emit("key",e.toLowerCase()),r?.name==="return"){if(this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}e===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),yp(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=B0(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(Yt.cursor.move(-999,e*-1))}render(){let e=B0(this._render(this)??"",process.stdout.columns,{hard:!0});if(e!==this._prevFrame){if(this.state==="initial")this.output.write(Yt.cursor.hide);else{let r=m8(this._prevFrame,e);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(Yt.cursor.move(0,n)),this.output.write(Yt.erase.lines(1));let i=e.split(`
`);this.output.write(i[n]),this._prevFrame=e,this.output.write(Yt.cursor.move(0,i.length-n-1));return}else if(r&&r?.length>1){let n=r[0];this.output.write(Yt.cursor.move(0,n)),this.output.write(Yt.erase.down());let i=e.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=e;return}this.output.write(Yt.erase.down())}this.output.write(e),this.state==="initial"&&(this.state="active"),this._prevFrame=e}}},Ep=class extends Wo{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(e){super(e,!1),this.value=!!e.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",r=>{this.output.write(Yt.cursor.move(0,-1)),this.value=r,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var y8=Object.defineProperty,b8=(t,e,r)=>e in t?y8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U0=(t,e,r)=>(b8(t,typeof e!="symbol"?e+"":e,r),r),Y0=class extends Wo{constructor(t){super(t,!1),U0(this,"options"),U0(this,"cursor",0),this.options=t.options,this.value=[...t.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:e})=>e===t.cursorAt),0),this.on("key",e=>{e==="a"&&this.toggleAll()}),this.on("cursor",e=>{switch(e){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break;case"space":this.toggleValue();break}})}get _value(){return this.options[this.cursor].value}toggleAll(){let t=this.value.length===this.options.length;this.value=t?[]:this.options.map(e=>e.value)}toggleValue(){let t=this.value.includes(this._value);this.value=t?this.value.filter(e=>e!==this._value):[...this.value,this._value]}};var E8=Object.defineProperty,D8=(t,e,r)=>e in t?E8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,j0=(t,e,r)=>(D8(t,typeof e!="symbol"?e+"":e,r),r),J0=class extends Wo{constructor(t){super(t,!1),j0(this,"options"),j0(this,"cursor",0),this.options=t.options,this.cursor=this.options.findIndex(({value:e})=>e===t.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",e=>{switch(e){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var x8=Object.defineProperty,S8=(t,e,r)=>e in t?x8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_8=(t,e,r)=>(S8(t,typeof e!="symbol"?e+"":e,r),r),Dp=class extends Wo{constructor(e){super(e),_8(this,"valueWithCursor",""),this.on("finalize",()=>{this.value||(this.value=e.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${bp.default.inverse(bp.default.hidden("_"))}`;else{let r=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.valueWithCursor=`${r}${bp.default.inverse(n[0])}${n.slice(1)}`}})}get cursor(){return this._cursor}},C8=globalThis.process.platform.startsWith("win");function X0({input:t=Yo.stdin,output:e=Yo.stdout,overwrite:r=!0,hideCursor:n=!0}={}){let i=ls.createInterface({input:t,output:e,prompt:"",tabSize:1});ls.emitKeypressEvents(t,i),t.isTTY&&t.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){n&&e.write(Yt.cursor.show),process.exit(0);return}if(!r)return;ls.moveCursor(e,a==="return"?0:-1,a==="return"?-1:0,()=>{ls.clearLine(e,1,()=>{t.once("keypress",s)})})};return n&&e.write(Yt.cursor.hide),t.once("keypress",s),()=>{t.off("keypress",s),n&&e.write(Yt.cursor.show),t.isTTY&&!C8&&t.setRawMode(!1),i.terminal=!1,i.close()}}var Gr=Y(require("node:process"),1),M=Y(br(),1),Jo=Y(He(),1);function v8(){return Gr.default.platform!=="win32"?Gr.default.env.TERM!=="linux":!!Gr.default.env.CI||!!Gr.default.env.WT_SESSION||!!Gr.default.env.TERMINUS_SUBLIME||Gr.default.env.ConEmuTask==="{cmd::Cmder}"||Gr.default.env.TERM_PROGRAM==="Terminus-Sublime"||Gr.default.env.TERM_PROGRAM==="vscode"||Gr.default.env.TERM==="xterm-256color"||Gr.default.env.TERM==="alacritty"||Gr.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Km=v8(),ft=(t,e)=>Km?t:e,T8=ft("\u25C6","*"),Z0=ft("\u25A0","x"),eC=ft("\u25B2","x"),Ym=ft("\u25C7","o"),w8=ft("\u250C","T"),Me=ft("\u2502","|"),ps=ft("\u2514","\u2014"),Hm=ft("\u25CF",">"),zm=ft("\u25CB"," "),A8=ft("\u25FB","[\u2022]"),Q0=ft("\u25FC","[+]"),P8=ft("\u25FB","[ ]"),boe=ft("\u25AA","\u2022"),Eoe=ft("\u2500","-"),Doe=ft("\u256E","+"),xoe=ft("\u251C","+"),Soe=ft("\u256F","+"),I8=ft("\u25CF","\u2022"),N8=ft("\u25C6","*"),F8=ft("\u25B2","!"),O8=ft("\u25A0","x"),Sp=t=>{switch(t){case"initial":case"active":return M.default.cyan(T8);case"cancel":return M.default.red(Z0);case"error":return M.default.yellow(eC);case"submit":return M.default.green(Ym)}},Wm=t=>{let{cursor:e,options:r,style:n}=t,i=t.maxItems??1/0,s=Math.max(process.stdout.rows-4,0),o=Math.min(s,Math.max(i,5)),a=0;e>=a+o-3?a=Math.max(Math.min(e-o+3,r.length-o),0):e<a+2&&(a=Math.max(e-2,0));let u=o<r.length&&a>0,c=o<r.length&&a+o<r.length;return r.slice(a,a+o).map((l,p,d)=>{let f=p===0&&u,h=p===d.length-1&&c;return f||h?M.default.dim("..."):n(l,p+a===e)})},or=t=>new Dp({validate:t.validate,placeholder:t.placeholder,defaultValue:t.defaultValue,initialValue:t.initialValue,render(){let e=`${M.default.gray(Me)}
${Sp(this.state)}  ${t.message}
`,r=t.placeholder?M.default.inverse(t.placeholder[0])+M.default.dim(t.placeholder.slice(1)):M.default.inverse(M.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${e.trim()}
${M.default.yellow(Me)}  ${n}
${M.default.yellow(ps)}  ${M.default.yellow(this.error)}
`;case"submit":return`${e}${M.default.gray(Me)}  ${M.default.dim(this.value||t.placeholder)}`;case"cancel":return`${e}${M.default.gray(Me)}  ${M.default.strikethrough(M.default.dim(this.value??""))}${this.value?.trim()?`
`+M.default.gray(Me):""}`;default:return`${e}${M.default.cyan(Me)}  ${n}
${M.default.cyan(ps)}
`}}}).prompt();var Jt=t=>{let e=t.active??"Yes",r=t.inactive??"No";return new Ep({active:e,inactive:r,initialValue:t.initialValue??!0,render(){let n=`${M.default.gray(Me)}
${Sp(this.state)}  ${t.message}
`,i=this.value?e:r;switch(this.state){case"submit":return`${n}${M.default.gray(Me)}  ${M.default.dim(i)}`;case"cancel":return`${n}${M.default.gray(Me)}  ${M.default.strikethrough(M.default.dim(i))}
${M.default.gray(Me)}`;default:return`${n}${M.default.cyan(Me)}  ${this.value?`${M.default.green(Hm)} ${e}`:`${M.default.dim(zm)} ${M.default.dim(e)}`} ${M.default.dim("/")} ${this.value?`${M.default.dim(zm)} ${M.default.dim(r)}`:`${M.default.green(Hm)} ${r}`}
${M.default.cyan(ps)}
`}}}).prompt()},_p=t=>{let e=(r,n)=>{let i=r.label??String(r.value);switch(n){case"selected":return`${M.default.dim(i)}`;case"active":return`${M.default.green(Hm)} ${i} ${r.hint?M.default.dim(`(${r.hint})`):""}`;case"cancelled":return`${M.default.strikethrough(M.default.dim(i))}`;default:return`${M.default.dim(zm)} ${M.default.dim(i)}`}};return new J0({options:t.options,initialValue:t.initialValue,render(){let r=`${M.default.gray(Me)}
${Sp(this.state)}  ${t.message}
`;switch(this.state){case"submit":return`${r}${M.default.gray(Me)}  ${e(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${M.default.gray(Me)}  ${e(this.options[this.cursor],"cancelled")}
${M.default.gray(Me)}`;default:return`${r}${M.default.cyan(Me)}  ${Wm({cursor:this.cursor,options:this.options,maxItems:t.maxItems,style:(n,i)=>e(n,i?"active":"inactive")}).join(`
${M.default.cyan(Me)}  `)}
${M.default.cyan(ps)}
`}}}).prompt()};var tC=t=>{let e=(r,n)=>{let i=r.label??String(r.value);return n==="active"?`${M.default.cyan(A8)} ${i} ${r.hint?M.default.dim(`(${r.hint})`):""}`:n==="selected"?`${M.default.green(Q0)} ${M.default.dim(i)}`:n==="cancelled"?`${M.default.strikethrough(M.default.dim(i))}`:n==="active-selected"?`${M.default.green(Q0)} ${i} ${r.hint?M.default.dim(`(${r.hint})`):""}`:n==="submitted"?`${M.default.dim(i)}`:`${M.default.dim(P8)} ${M.default.dim(i)}`};return new Y0({options:t.options,initialValues:t.initialValues,required:t.required??!0,cursorAt:t.cursorAt,validate(r){if(this.required&&r.length===0)return`Please select at least one option.
${M.default.reset(M.default.dim(`Press ${M.default.gray(M.default.bgWhite(M.default.inverse(" space ")))} to select, ${M.default.gray(M.default.bgWhite(M.default.inverse(" enter ")))} to submit`))}`},render(){let r=`${M.default.gray(Me)}
${Sp(this.state)}  ${t.message}
`,n=(i,s)=>{let o=this.value.includes(i.value);return s&&o?e(i,"active-selected"):o?e(i,"selected"):e(i,s?"active":"inactive")};switch(this.state){case"submit":return`${r}${M.default.gray(Me)}  ${this.options.filter(({value:i})=>this.value.includes(i)).map(i=>e(i,"submitted")).join(M.default.dim(", "))||M.default.dim("none")}`;case"cancel":{let i=this.options.filter(({value:s})=>this.value.includes(s)).map(s=>e(s,"cancelled")).join(M.default.dim(", "));return`${r}${M.default.gray(Me)}  ${i.trim()?`${i}
${M.default.gray(Me)}`:""}`}case"error":{let i=this.error.split(`
`).map((s,o)=>o===0?`${M.default.yellow(ps)}  ${M.default.yellow(s)}`:`   ${s}`).join(`
`);return r+M.default.yellow(Me)+"  "+Wm({options:this.options,cursor:this.cursor,maxItems:t.maxItems,style:n}).join(`
${M.default.yellow(Me)}  `)+`
`+i+`
`}default:return`${r}${M.default.cyan(Me)}  ${Wm({options:this.options,cursor:this.cursor,maxItems:t.maxItems,style:n}).join(`
${M.default.cyan(Me)}  `)}
${M.default.cyan(ps)}
`}}}).prompt()};var ge=(t="")=>{process.stdout.write(`${M.default.gray(ps)}  ${M.default.red(t)}

`)},Xt=(t="")=>{process.stdout.write(`${M.default.gray(w8)}  ${t}
`)},ar=(t="")=>{process.stdout.write(`${M.default.gray(Me)}
${M.default.gray(ps)}  ${t}

`)},K={message:(t="",{symbol:e=M.default.gray(Me)}={})=>{let r=[`${M.default.gray(Me)}`];if(t){let[n,...i]=t.split(`
`);r.push(`${e}  ${n}`,...i.map(s=>`${M.default.gray(Me)}  ${s}`))}process.stdout.write(`${r.join(`
`)}
`)},info:t=>{K.message(t,{symbol:M.default.blue(I8)})},success:t=>{K.message(t,{symbol:M.default.green(N8)})},step:t=>{K.message(t,{symbol:M.default.green(Ym)})},warn:t=>{K.message(t,{symbol:M.default.yellow(F8)})},warning:t=>{K.warn(t)},error:t=>{K.message(t,{symbol:M.default.red(O8)})}},Ir=()=>{let t=Km?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],e=Km?80:120,r,n,i=!1,s="",o=f=>{let h=f>1?"Something went wrong":"Canceled";i&&d(h,f)},a=()=>o(2),u=()=>o(1),c=()=>{process.on("uncaughtExceptionMonitor",a),process.on("unhandledRejection",a),process.on("SIGINT",u),process.on("SIGTERM",u),process.on("exit",o)},l=()=>{process.removeListener("uncaughtExceptionMonitor",a),process.removeListener("unhandledRejection",a),process.removeListener("SIGINT",u),process.removeListener("SIGTERM",u),process.removeListener("exit",o)},p=(f="")=>{i=!0,r=X0(),s=f.replace(/\.+$/,""),process.stdout.write(`${M.default.gray(Me)}
`);let h=0,m=0;c(),n=setInterval(()=>{let g=M.default.magenta(t[h]),y=".".repeat(Math.floor(m)).slice(0,3);process.stdout.write(Jo.cursor.move(-999,0)),process.stdout.write(Jo.erase.down(1)),process.stdout.write(`${g}  ${s}${y}`),h=h+1<t.length?h+1:0,m=m<t.length?m+.125:0},e)},d=(f="",h=0)=>{s=f??s,i=!1,clearInterval(n);let m=h===0?M.default.green(Ym):h===1?M.default.red(Z0):M.default.red(eC);process.stdout.write(Jo.cursor.move(-999,0)),process.stdout.write(Jo.erase.down(1)),process.stdout.write(`${m}  ${s}
`),l(),r()};return{start:p,stop:d,message:(f="")=>{s=f??s}}};var Tu=Y(br(),1),as=Y(Oi(),1);var yt=Y(require("typescript"),1);var Z_=Y(Oi(),1);var Ee=Y(br(),1);function kr(t){let e=t.join(t.getAppRootDir(),"tsconfig.json");return t.exists(e)}var iK=["node_modules","dist","build","public"];async function Qr(t,e){async function r(i,s){if(s>10)return;let o=await t.readdir(i);for(let a of o){if(iK.includes(a))continue;let u=t.join(i,a),c=await t.stat(u);if(c){if(c.isFile()&&a.startsWith("khulnasoft-registry."))return u;if(c.isDirectory()){let l=await r(u,s+1);if(l)return l}}}}let n=await r(t.getAppRootDir(),0);if(!n){let s=`khulnasoft-registry.${await kr(t)?"ts":"js"}`;return t.join(e,s)}return n}async function _o(t,e){let r=t.resolve("/");for(let n=0;n<20;n++){let i=t.join(e,"package.json"),s=await t.readFile(i);if(s)return JSON.parse(s);if(e===r)break;e=t.dirname(e)}return null}async function OA(t,e){for(let r=0;r<20;r++){let n=t.dirname(e),i=t.join(n,"node_modules");if(await t.exists(i))return i;if(e===t.getAppRootDir())break;e=t.dirname(e)}return t.join(t.getAppRootDir(),"node_modules")}async function Lc(t,e,r){let n=await t.readdir(e);return n.includes(r)?t.join(e,r):(await Promise.all(n.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let o=t.join(e,s);if((await t.stat(o)).isDirectory()){let u=await Lc(t,o,r);if(u)return u}}))).find(s=>typeof s=="string")}var MA=Y(UE(),1);function Zr(t){return t.endsWith(".mapper.tsx")||t.endsWith(".mapper.jsx")}function Pe(t,e,r){e=mn(e),r=mn(r),e=t.dirname(e);let n=t.basename(r,t.extname(r));r=t.dirname(r);let i;return n==="index"?i=t.relative(e,r):i=t.relative(e,t.join(r,n)),i=mn(t.normalize(i)),i.startsWith(".")||(i="./"+i),i}function mn(t){return t.startsWith("\\\\?\\")?t:t.replace(/\\/g,"/")}function Co(t,e){let r=t.extname(e),n=t.basename(e,r).split(/[\/\\]/),i=n[n.length-1];return RA(i==="index"?t.basename(t.dirname(e)):i)}function RA(t){return Xe(t).replace(/ /g,"")}function en(t,e){let r=t.extname(e),n=mn(t.basename(e,r)).split("/").pop();return Xe(n==="index"?t.basename(t.dirname(e)):n)}function ze(t,e){let r=mn(t.relative(t.getAppRootDir(),e));r=r.split("/").filter(i=>i!=="."&&i!==".."&&i!=="").join("/"),r.endsWith(".tsx")||r.endsWith(".jsx")?r=r.slice(0,-4):(r.endsWith(".ts")||r.endsWith(".js"))&&(r=r.slice(0,-3));let n=t.getFrameworks();return r.startsWith("src/")&&(r=r.slice(4)),n.some(i=>i.name.includes("next"))?"@/"+r:"~/"+r}function Le(t,e){let r=e,n=[];for(let i=0;i<2;i++){let s=t.basename(r);if(!s||s==="components")break;n.unshift(s),r=t.dirname(r)}return n.join("/")}function Xe(t){for(t=t.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();t.includes("  ");)t=t.replace(/  /g," ");return t.split(" ").map(e=>e.length>2?e[0].toUpperCase()+e.slice(1):e).join("").trim()}function Dr(t){return t.sort((e,r)=>e.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase()))}async function We(t,e,r,n){if(typeof r!="string"||r==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${r}, ${e}`);return n&&(e=n),e=t.normalize(e),(await t.hash(e+"#"+r)).substring(0,8)}async function LA(t){return(await t.hash(t.getAppRootDir())).substring(0,8)}function Bc(t){return typeof t=="number"}function Ia(t){return typeof t=="boolean"}function cr(t){return typeof t=="string"}function Na(t){return typeof t=="string"?/^[A-Z][A-Za-z0-9]*$/.test(t):!1}function Rr(t){return JSON.parse(JSON.stringify(t))}function cf(t,e,r){for(let n of e)if(t.dirname(r).includes(n))return!0;return!1}function BA(){try{let t=(0,MA.default)();if(t?.name)return t.name}catch{}return"npm"}async function vo(t){let e=[],r=await _o(t,t.getRepoRootDir());if(r){let n=await jA(r,t);e.push(...n)}return e}async function UA(t){let e=await _o(t,t.getRepoRootDir());return e?.scripts?.dev?e.scripts.dev.includes("--turbopack"):!1}async function jA(t,e){let r=[];if(t&&typeof t=="object"){let n=new Set(Object.keys({...t.dependencies,...t.devDependencies}));for(let i of oK)if(n.has(i)&&!r.some(s=>s.name===i)){let s={name:i};$A.has(i)&&(s.version=await $A.get(i)(e)),r.push(s)}}return r}function jE(t){let e=parseInt(t);return Number.isNaN(e)?void 0:e}var $A=new Map([["next",async t=>{if(!t.spawnSync)return;let e=BA(),r=e==="npm"?"npx":e,{stdout:n}=t.spawnSync(r,["next","-v"],{encoding:"utf8"});if(!n)return;let i=n.match(/(Next.js v)([\d.]+)/g);if(!i)return;let s=i[0].split("Next.js v")[1],[o,a,u]=s.split(".");return{major:jE(o),minor:jE(a),patch:jE(u)}}]]),oK=["@shopify/remix-oxygen","@shopify/hydrogen","@khulnasoft.com/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@khulnasoft.com/qwik","@angular/core","react","solid-js","svelte","vue"];async function jn(t){let e=qA(t),r=await t.readFile(e);return typeof r=="string"?JSON.parse(r):{}}async function qn(t,e){e=typeof e=="object"&&e!=null?e:{};let r=qA(t);await t.writeFile(r,JSON.stringify(e??{},null,2))}function qA(t){let e=t.getAppRootDir();return t.join(e,"node_modules",".khulnasoft","khulnasoft-cache.json")}async function vs(t,e,r){let n={envKey:r,envValue:null,file:""};for(let i of e){let s=t.join(t.getAppRootDir(),i),o=await aK(t,s);if(o){let a=o[r];if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return n.envValue=a,n.file=s,n}}return n.file=t.join(t.getAppRootDir(),e[e.length-1]),n}async function aK(t,e){let r=await t.readFile(e);return typeof r=="string"?GA(r):null}function GA(t){let e={},r=t.replace(/\r\n?/gm,`
`),n;for(;(n=uK.exec(r))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[i]=s}return e}var uK=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function Ts(t,e,r,n){let i="# https://www.khulnasoft.com/c/docs/using-your-api-key",s=await t.readFile(e);if(s)if(s.includes(r))if(s.includes(n))t.debug(`"${r}" with "${n}" already set in ${e}`);else return t.debug(`Replace "${r}" in ${e}`),s=s.replace(new RegExp(`${r}=.*`),`${r}=${n}`),await t.writeFile(e,s),"update";else return t.debug(`Append "${r}" to ${e}`),s+=`

${i}
${r}=${n}

`,await t.writeFile(e,s),"update";else return t.debug(`Creating new .env file with "${r}" at ${e}`),s=[i,`${r}=${n}`,""].join(`
`),await t.writeFile(e,s),"create";return null}async function $c(t){return await vs(t,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],Gn)}async function VA(t,e){let r=await $c(t),n=await Ts(t,r.file,r.envKey,e);return{...r,modifiedType:n}}var Gn="NEXT_PUBLIC_KHULNASOFT_API_KEY";var se={gen1:"Gen 1",gen2:"Gen 2"},Uc={CMS:"cms",VCP:"vcp",HYBRID:"hybrid"};function ve(t,e=""){return t.ts.createSourceFile("module.tsx",typeof e=="string"?e:"",t.ts.ScriptTarget.Latest,void 0)}function lf(t,e=""){let r=ve(t,e?.trim());if(r.statements.length===0)throw new Error(`No statements found in code: ${e}`);return r.statements[0]}function Ot(t,e,r){if(e){let n=t.ts.createPrinter({newLine:t.ts.NewLineKind.LineFeed,removeComments:r});return t.ts.isSourceFile(e)?n.printFile(e).trim()+`
`:n.printNode(t.ts.EmitHint.Unspecified,e,t.ts.createSourceFile("module.tsx","",t.ts.ScriptTarget.Latest)).trim()+`
`}return""}function Fa(t,e,r,n,i=!0){let s=e.properties.filter(a=>t.ts.isPropertyAssignment(a)),o=cK(t,e,r);return o>-1?n==null&&i?t.ts.factory.updateObjectLiteralExpression(e,s.filter((a,u)=>u!==o)):(s[o]=t.ts.factory.updatePropertyAssignment(s[o],s[o].name,jc(t,n)),t.ts.factory.updateObjectLiteralExpression(e,s)):(n!=null&&s.push(t.ts.factory.createPropertyAssignment(r,jc(t,n))),t.ts.factory.updateObjectLiteralExpression(e,s))}function cK(t,e,r){return e.properties.findIndex(n=>Be(t,n)===r)}function qc(t,e){switch(e.kind){case t.ts.SyntaxKind.ArrayLiteralExpression:return pK(t,e);case t.ts.SyntaxKind.ObjectLiteralExpression:return lK(t,e);case t.ts.SyntaxKind.StringLiteral:return e.text;case t.ts.SyntaxKind.NumericLiteral:return Number(e.text);case t.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return e.text;case t.ts.SyntaxKind.TrueKeyword:return!0;case t.ts.SyntaxKind.FalseKeyword:return!1;case t.ts.SyntaxKind.Identifier:switch(e.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function lK(t,e){let r={};if(e&&t.ts.isObjectLiteralExpression(e)){for(let n of e.properties)if(t.ts.isPropertyAssignment(n)){let i=Be(t,n);i&&(r[i]=qc(t,n.initializer))}}return r}function pK(t,e){return e&&t.ts.isArrayLiteralExpression(e)?e.elements.map(r=>qc(t,r)):[]}function Be(t,e){if(e&&t.ts.isPropertyAssignment(e)){let r=e.name;switch(r.kind){case t.ts.SyntaxKind.Identifier:return r.text;case t.ts.SyntaxKind.StringLiteral:case t.ts.SyntaxKind.NumericLiteral:return r.text;case t.ts.SyntaxKind.ComputedPropertyName:let n=r.expression;if(t.ts.isStringLiteral(n)||t.ts.isNumericLiteral(n))return r.expression.text}}}function jc(t,e){return qE(t,e,new WeakSet)}function qE(t,e,r){return e===void 0?t.ts.factory.createIdentifier("undefined"):e===null?t.ts.factory.createIdentifier("null"):typeof e=="string"?t.ts.factory.createStringLiteral(e):typeof e=="number"?isNaN(e)?t.ts.factory.createIdentifier("NaN"):t.ts.factory.createNumericLiteral(e):e===!0?t.ts.factory.createTrue():e===!1?t.ts.factory.createFalse():e===String?t.ts.factory.createIdentifier("String"):e===Number?t.ts.factory.createIdentifier("Number"):e===Boolean?t.ts.factory.createIdentifier("Boolean"):Array.isArray(e)?dK(t,e,r):typeof e=="object"?fK(t,e,r):t.ts.factory.createIdentifier(e)}function dK(t,e,r){let n=e.map(i=>qE(t,i,r));return t.ts.factory.createArrayLiteralExpression(n,!0)}function fK(t,e,r){if(r.has(e))return t.ts.factory.createIdentifier("undefined");r.add(e);let n=Object.keys(e).map(i=>t.ts.factory.createPropertyAssignment(i,qE(t,e[i],r)));return t.ts.factory.createObjectLiteralExpression(n,!0)}function To(t,e,r){let n=[];if(!r)return n;let i=null;if(t.ts.isArrowFunction(r)||t.ts.isFunctionExpression(r)||t.ts.isFunctionDeclaration(r)){let s=r.parameters;if(s.length>0){let o=s[0],a=e.getTypeAtLocation(o);a.aliasTypeArguments&&a.aliasTypeArguments.length>0?i=a.aliasTypeArguments[0].getProperties():i=a.getProperties()}}else if(t.ts.isIdentifier(r)){let s=e.getTypeAtLocation(r),o=s.symbol?.valueDeclaration;if(o&&t.ts.isClassDeclaration(o)){let u=o.heritageClauses?.find(c=>c.token===t.ts.SyntaxKind.ExtendsKeyword)?.types;if(u){for(let c of u)if(e.getSymbolAtLocation(c.expression)?.name==="Component"){if(t.ts.isExpressionWithTypeArguments(c)){let p=c.typeArguments;if(p){let d=p[0];i=e.getTypeFromTypeNode(d).getProperties()}}break}}}if(!i){let a=s.getCallSignatures();if(a.length>0){let u=a[0].getParameters();u.length>0&&(i=e.getTypeOfSymbolAtLocation(u[0],r).getProperties())}}}else if(t.ts.isExportSpecifier(r)){let s=e.getSymbolAtLocation(r.name);if(s){let a=e.getTypeOfSymbolAtLocation(s,r).getCallSignatures();if(a.length>0){let u=a[0].getParameters();u.length>0&&(i=e.getTypeOfSymbolAtLocation(u[0],r).getProperties())}}}if(i)for(let s of i){let o=hK(t,e,s);o&&n.push(o)}return n=n.filter(HA),n.length>0?n:mK(t,r)}function hK(t,e,r){let n=r.valueDeclaration,i=r.getName();if(n||(n=r.getDeclarations()?.[0]),n&&t.ts.isPropertySignature(n)){if(i!=="children"&&n.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",o;if(n?.type){let u=e.getTypeFromTypeNode(n.type),c=e.typeToString(u),l=GE(c);l.knownType?s=l.khulnasoftType:yK(c)||u.flags&t.ts.TypeFlags.StringLike?s="string":u.flags&t.ts.TypeFlags.NumberLike?s="number":u.flags&t.ts.TypeFlags.IndexedAccess?s="list":u.flags&t.ts.TypeFlags.Object||u.isUnion()&&u.types.every(p=>p.flags&t.ts.TypeFlags.Object)||u.isIntersection()&&u.types.some(p=>p.flags&t.ts.TypeFlags.Object)?s="object":s="string",c!==s&&(o=c)}let a={name:i,type:s,isRegistered:!1};if(o&&n.type){let u=xK(t,e,e.getTypeFromTypeNode(n.type));a.meta=a.meta||{},u&&u.length>0&&a.type==="string"&&u.every(EK)?a.enum=u.map(DK):a.meta.ts=o}return n.questionToken||(a.required=!0),a}return null}function mK(t,e){let r=[],n=t.ts.getJSDocCommentsAndTags(e);for(let i of n)if(!(!t.ts.isJSDoc(i)||!i.tags))for(let s of i.tags){if(!t.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let a=s.typeExpression?.type;if(!a||!t.ts.isJSDocTypeLiteral(a))continue;let u=a.jsDocPropertyTags;if(u)for(let c of u){if(!t.ts.isJSDocPropertyLikeTag(c))continue;let l=c.name;if(!t.ts.isQualifiedName(l))continue;let p=c.typeExpression;if(!p)continue;let d="";switch(p.type.kind){case t.ts.SyntaxKind.StringKeyword:{d="string";break}case t.ts.SyntaxKind.NumberKeyword:{d="number";break}case t.ts.SyntaxKind.BooleanKeyword:{d="boolean";break}default:continue}let h={name:l.right.text,type:d,isRegistered:!1};r.push(h)}}return r.filter(HA)}var gK=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function yK(t){return typeof t!="string"?!1:!!gK.some(e=>t.includes(e))}function GE(t){return typeof t=="string"&&(t=t.trim(),bK.some(e=>e.value===t))?{khulnasoftType:t,knownType:!0}:{khulnasoftType:"string",knownType:!1}}var bK=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function EK(t){return/^['"].*['"]$/.test(t)}function DK(t){return(t.startsWith('"')||t.startsWith("'"))&&(t.endsWith('"')||t.endsWith("'"))?t.slice(1,-1):t}var xK=(t,e,r)=>{let n=new Set;KA(t,e,r,n);let i=n.delete("true"),s=n.delete("false");(i||s)&&n.add("boolean");let o=Array.from(n.keys()).sort();if(o.length>1&&(o=o.map(a=>a.indexOf("=>")>=0?`(${a})`:a)),!(o.length>20))return o},SK=(t,e,r)=>{let n=t.ts.TypeFormatFlags.InElementType|t.ts.TypeFormatFlags.NoTruncation;return e.typeToString(r,void 0,n)},KA=(t,e,r,n)=>{if(r.isUnion())r.types.forEach(i=>{KA(t,e,i,n)});else if(r.isLiteral()){let i=SK(t,e,r);n.add(i)}};function HA(t){let e=t?.name;if(typeof e!="string"||e===""||e.startsWith("aria")||e.startsWith("data-"))return!1;if(e.startsWith("on")&&e.length>2){let r=e.charAt(2);if(r.toUpperCase()===r)return!1}return!_K.has(e.toLowerCase())}var _K=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));function xr(t,e,r){for(let n of r.properties){if(!t.ts.isPropertyAssignment(n))continue;let i=Be(t,n);if(i==="name"&&t.ts.isStringLiteral(n.initializer)){e.name=n.initializer.text;continue}if(i==="description"&&t.ts.isStringLiteral(n.initializer)){e.description=n.initializer.text;continue}if(i==="image"&&t.ts.isStringLiteral(n.initializer)){e.image=n.initializer.text;continue}if(i==="inputs"&&t.ts.isArrayLiteralExpression(n.initializer)){let s=CK(t,n.initializer);Mr(e,s);continue}if(i==="meta"&&t.ts.isObjectLiteralExpression(n.initializer)){let s=qc(t,n.initializer);s&&typeof s=="object"&&(e.meta=s);continue}}return e}function CK(t,e){let r=[];for(let n of e.elements)t.ts.isObjectLiteralExpression(n)&&r.push(vK(t,n));return r}function vK(t,e){let r=qc(t,e),n=FK(r);return n.isRegistered=!0,n}function vt(t,e,r){let n=wK(r);return e=Fa(t,e,"name",n.name,!1),e=Fa(t,e,"description",n.description),e=Fa(t,e,"image",n.image),e=Fa(t,e,"meta",n.meta),e=TK(t,e,n),OK(t,e)}function TK(t,e,r){let n=null,i=e.properties.filter(a=>t.ts.isPropertyAssignment(a)&&t.ts.isIdentifier(a.name)),s=i.findIndex(a=>t.ts.isIdentifier(a.name)&&a.name.text==="inputs"),o=[...r.inputs??[]];if(s>-1){if(o.length===0)return Fa(t,e,"inputs",null);let a=i[s];t.ts.isPropertyAssignment(a)&&t.ts.isArrayLiteralExpression(a.initializer)&&(n=a.initializer)}return o.length===0?e:(n=PK(t,n||t.ts.factory.createArrayLiteralExpression(),o),s>-1?i[s]=t.ts.factory.updatePropertyAssignment(i[s],i[s].name,n):i.push(t.ts.factory.createPropertyAssignment("inputs",n)),t.ts.factory.updateObjectLiteralExpression(e,i))}function wK(t){return{name:t.name,description:t.description,image:t.image,inputs:(t.inputs||[]).filter(r=>r.isRegistered).map(AK),...t.meta?{meta:{...t.meta}}:{}}}function AK(t){let e={name:t.name,type:t.type};return(cr(t.defaultValue)||Bc(t.defaultValue)||Ia(t.defaultValue))&&(e.defaultValue=t.defaultValue),cr(t.friendlyName)&&(e.friendlyName=t.friendlyName),cr(t.helperText)&&(e.helperText=t.helperText),t.required===!0&&(e.required=!0),Array.isArray(t.enum)&&(e.enum=t.enum),t.hideFromUI===!0&&(e.hideFromUI=!0),typeof t.meta=="object"&&t.meta!=null&&Object.keys(t.meta).length>0&&(e.meta=t.meta),e}function PK(t,e,r){let n=e.elements.filter(i=>{if(!t.ts.isObjectLiteralExpression(i))return!1;let s=i.properties.find(a=>Be(t,a)==="name");if(!s)return!1;let o=s.initializer;return t.ts.isStringLiteral(o)?r.some(a=>a.name===o.text):!1});for(let i of r)n=IK(t,n,i);return n.sort((i,s)=>{let o=i.properties.find(d=>Be(t,d)==="name"),a=s.properties.find(d=>Be(t,d)==="name"),u=o?.initializer,c=a?.initializer,l=u&&t.ts.isStringLiteral(u)?u.text:"zz",p=c&&t.ts.isStringLiteral(c)?c.text:"zz";return l.toLowerCase().localeCompare(p.toLowerCase())}),t.ts.factory.updateArrayLiteralExpression(e,n)}function IK(t,e,r){let n=e.findIndex(i=>i.properties.some(s=>{let o=Be(t,s);return t.ts.isPropertyAssignment(s)&&o==="name"&&t.ts.isStringLiteral(s.initializer)&&s.initializer.text===r.name}));if(n>-1)e[n]=zA(t,e[n],r);else{let i=zA(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("name",t.ts.factory.createStringLiteral(r.name))],!0),r);e.push(i)}return e}function zA(t,e,r){let n=e.properties.filter(s=>t.ts.isPropertyAssignment(s)),i=Object.keys(r).filter(s=>s!=="isRegistered");for(let s of i)n=NK(t,n,r,s);return n=kK(t,n.filter(s=>{let o=Be(t,s);return i.includes(o)})),t.ts.factory.updateObjectLiteralExpression(e,n)}function NK(t,e,r,n){let i=e.findIndex(s=>t.ts.isIdentifier(s.name)&&s.name.text===n);return i>-1?e[i]=t.ts.factory.updatePropertyAssignment(e[i],e[i].name,jc(t,r[n])):e.push(t.ts.factory.createPropertyAssignment(n,jc(t,r[n]))),e}function Mr(t,e){for(let r of e){let n=t.inputs.findIndex(i=>i.name===r.name);n>-1?(r.isRegistered||!t.inputs[n].isRegistered)&&(t.inputs[n]=r):t.inputs.push(r)}t.acceptsChildren=VE(t)}function FK(t){let e=GE(t.type),r={name:t.name.trim(),type:e.khulnasoftType};return cr(t.friendlyName)&&t.friendlyName.trim()!==t.name.trim()&&(r.friendlyName=t.friendlyName),(cr(t.defaultValue)||Bc(t.defaultValue)||Ia(t.defaultValue))&&(r.defaultValue=t.defaultValue),cr(t.helperText)&&(r.helperText=t.helperText),Ia(t.required)&&(r.required=t.required),typeof t.meta=="object"&&t.meta!=null&&Object.keys(t.meta).length>0&&(r.meta=t.meta),Array.isArray(t.enum)&&t.enum.length>0&&(r.enum=t.enum),t.hideFromUI===!0&&(r.hideFromUI=!0),KE(r)}function VE(t){let e=t.inputs.some(n=>n.name==="children"),r=t.inputs.some(n=>n.meta?.ts==="ReactNode");return!!(e||r||t.acceptsChildren===!0)}function KE(t){if(t.name==="children"&&(t.hideFromUI=!0,delete t.required),t.type==="object"&&t.defaultValue==null&&(t.hideFromUI=!0),t.type==="list"&&t.defaultValue==null&&(t.hideFromUI=!0),t.meta){let e=t.meta.ts;typeof e=="string"&&(e=e.trim(),e.endsWith("ReactNode")&&(e="ReactNode"),t.meta.ts=e,e==="ReactNode"&&(t.hideFromUI=!0))}return t}function OK(t,e){let r=[...e.properties].sort((n,i)=>{let s=Be(t,n)||"zz",o=Be(t,i)||"zz";if(s==="inputs")return 1;let a=WA.indexOf(s),u=WA.indexOf(o);return a>-1?u>-1&&a>u?1:-1:u>-1?a>-1&&u<a?-1:1:s.localeCompare(o)});return t.ts.factory.updateObjectLiteralExpression(e,r)}var WA=["component","name","description"];function kK(t,e){return[...e].sort((n,i)=>{let s=Be(t,n)||"zz",o=Be(t,i)||"zz",a=YA.indexOf(s),u=YA.indexOf(o);return a>-1?u>-1&&a>u?1:-1:u>-1?a>-1&&u<a?-1:1:s.localeCompare(o)})}var YA=["name","type"];function Oa(t,e){for(let r of e.properties){if(!t.ts.isPropertyAssignment(r)||!t.ts.isIdentifier(r.name))continue;if(Be(t,r)==="canHaveChildren"){let{initializer:i}=r;return i.kind===t.ts.SyntaxKind.TrueKeyword}}return!1}function JA(t,e){let r=`Khulnasoft.registerComponent(
`;if(t.appDir)e.acceptsChildren?r+=`  withChildren(${e.importName}),
`:r+=`  ${e.importName},
`;else{let i=e.externalImportPath?e.externalImportPath:Pe(t,t.registryPath,e.filePath);e.exportName==="default"?e.acceptsChildren?r+=`  withChildren(dynamic(() => import(${JSON.stringify(i)}))),
`:r+=`  dynamic(() => import(${JSON.stringify(i)})),
`:e.acceptsChildren?r+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(i)})).${e.exportName})),
`:r+=`  dynamic(async () => (await import(${JSON.stringify(i)})).${e.exportName}),
`}r+=`  {
    name: "${e.name}",
  }
`,r+=");";let n=lf(t,r);return HE(t,n,e)}function HE(t,e,r){if(!t.ts.isExpressionStatement(e))return e;let n=e.expression;if(!t.ts.isCallExpression(n))return e;let i=[...n.arguments];if(i.length<2)return e;r.acceptsChildren?t.ts.isCallExpression(i[0])&&t.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"||(i[0]=t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("withChildren"),void 0,[i[0]])):t.ts.isCallExpression(i[0])&&t.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"&&(i[0]=i[0].arguments[0]);let s=i[1];return t.ts.isObjectLiteralExpression(s)?(i[1]=vt(t,s,r),t.ts.factory.updateExpressionStatement(e,t.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):e}async function Tt(t,e,r){if(!Array.isArray(e)||e.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${e}`);let n=await OA(t,e[0]),i=t.join(n,"typescript","lib"),s=new Map,o={fileExists:a=>{if(a=t.normalize(a),a.includes("node_modules")){let u=Gc.get(a);if(!u){try{t.statSync(a).isFile()?u={exists:!0,content:t.readFileSync(a)}:u={exists:!1}}catch{u={exists:!1}}Gc.set(a,u)}return u.exists}return s.has(a)||s.set(a,t.existsSync(a)),s.get(a)},getCanonicalFileName:a=>t.normalize(a),getCurrentDirectory:()=>t.cwd(),getDefaultLibFileName:()=>t.join(i,"lib.d.ts"),getDefaultLibLocation:()=>i,getNewLine:()=>`
`,getSourceFile:a=>{if(a=t.normalize(a),a.includes("node_modules")){let c=Gc.get(a);if(c)return ve(t,c.content)}let u=t.readFileSync(a);if(u==null){let c=t.basename(a),l=t.extname(c).toLowerCase();if(a.startsWith(i)&&l===".ts"&&(u=QA.get(c),u==null&&typeof self<"u"&&typeof fetch=="function"))throw new df(c)}return a.includes("node_modules")&&(u?Gc.set(a,{exists:!0,content:u}):Gc.set(a,{exists:!1})),ve(t,u)},readFile:a=>{let u=t.readFileSync(a);return typeof u=="string"?u:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return RK(t,o,e,r)}catch(a){if(a instanceof df){await MK(t,a.libName);continue}throw console.error("createTsProgram",a),new Error(`createTsProgram() Could not create program for: ${e[0]}`)}}function RK(t,e,r,n){let i={rootNames:[...r],options:{},host:e},s=t.ts.findConfigFile(t.dirname(r[0]),o=>t.existsSync(o));if(s){let o=XA.get(s);if(!o){let a=t.ts.readConfigFile(s,u=>{let c=t.readFileSync(u);return typeof c=="string"?c:void 0});a.error?console.error("error reading tsconfig for createTsProgram"):(o=t.ts.parseJsonConfigFileContent(a.config,t.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(c,l)=>t.readdirSync(c),fileExists:c=>t.existsSync(c),readFile:c=>t.readFileSync(c)||void 0},t.dirname(s),void 0,s).options,XA.set(s,o))}o&&(i.options=Rr(o))}return i.options.noEmit=!0,i.options.isolatedModules=!1,i.options.strict=!1,i.options.jsx=t.ts.JsxEmit.Preserve,i.options.allowJs=!0,Object.assign(i.options,n),t.ts.createProgram(i)}async function ka(t,e,r){r||(r=await Tt(t,[e]));let n=r.getSourceFile(e);if(!n)throw new Error(`getTypeChecker() Could not find source file: ${e}`);return{typeChecker:r.getTypeChecker(),sourceFile:n}}var df=class{constructor(e){this.libName=e}};async function MK(t,e){let r=`https://cdn.jsdelivr.net/npm/typescript@${t.ts.version}/lib/${e}`;pf.has(e)||pf.set(e,fetch(r).then(n=>n.text()).then(n=>{QA.set(e,n)})),await pf.get(e),pf.delete(e)}var QA=new Map,pf=new Map,Gc=new Map,XA=new Map;async function ZA(t,e){let r=await t.readFile(e.filePath);return r==null?{diagnostics:[{messageText:`Error reading: ${e.filePath}`}],code:null,output:null}:zE(t,{code:r,filePath:e.filePath,compilerOptions:e.compilerOptions})}function zE(t,e){let r={diagnostics:[],code:e.code,output:null};try{let n=t.ts.transpileModule(e.code,{compilerOptions:e.compilerOptions,fileName:e.filePath??"module.tsx",reportDiagnostics:!0});n.diagnostics?.forEach(i=>{r.diagnostics.push({messageText:String(i.messageText)})}),r.output=n.outputText}catch(n){console.error("transpileModule",n),r.diagnostics.push({messageText:String(n)})}return r}function Ae(t,e,r,n="esm"){return Array.isArray(r.namedImports)&&r.namedImports.forEach(i=>{e=LK(t,e,i,r.importPath,!!r.isTypeOnly,n)}),typeof r.defaultImport=="string"&&(e=BK(t,e,r.defaultImport,r.importPath,n)),e}function LK(t,e,r,n,i,s){return s==="cjs"?tP(t,e,null,r,n):eP(t,e,null,r,n,i)}function BK(t,e,r,n,i){return i==="cjs"?tP(t,e,r,null,n):eP(t,e,r,null,n,!1)}function eP(t,e,r,n,i,s){let o=[...e.statements],a=0,u=!1,c=!1;for(let f=0;f<o.length;f++){let h=o[f];if(!t.ts.isImportDeclaration(h)||(a=f,!h.moduleSpecifier||!t.ts.isStringLiteral(h.moduleSpecifier))||h.moduleSpecifier.text!==i||!!h.importClause?.isTypeOnly!==s)continue;let m=[],g=h.importClause?.namedBindings;if(g&&t.ts.isNamedImports(g)&&g.elements&&m.push(...g.elements),typeof n=="string"){if(m.some(b=>b.name.text===n))return e;m.push(t.ts.factory.createImportSpecifier(!1,void 0,t.ts.factory.createIdentifier(n))),m.sort((b,_)=>b.name.text.localeCompare(_.name.text)),u=!0}let y=h.importClause?h.importClause.name:void 0;if(typeof r=="string"){if(y&&y.text===r)return e;y=t.ts.factory.createIdentifier(r),c=!0}if(u||c)return o[f]=t.ts.factory.updateImportDeclaration(h,void 0,t.ts.factory.createImportClause(s,y,t.ts.factory.createNamedImports(m)),h.moduleSpecifier,void 0),t.ts.factory.updateSourceFile(e,o)}let l,p;typeof r=="string"&&(l=t.ts.factory.createIdentifier(r)),typeof n=="string"&&(p=t.ts.factory.createNamedImports([t.ts.factory.createImportSpecifier(!1,void 0,t.ts.factory.createIdentifier(n))]));let d=t.ts.factory.createImportDeclaration(void 0,t.ts.factory.createImportClause(s,l,p),t.ts.factory.createStringLiteral(i));return o.splice(a,0,d),t.ts.factory.updateSourceFile(e,o)}function tP(t,e,r,n,i){let s=[...e.statements],o=0;for(let a=0;a<s.length;a++){let u=s[a];if(t.ts.isVariableStatement(u))for(let c=0;c<u.declarationList.declarations.length;c++){let l=[...u.declarationList.declarations],p=l[c],d=p.initializer;if(!d||!t.ts.isCallExpression(d))continue;let f=d.expression;if(!t.ts.isIdentifier(f)||f.text!=="require"||d.arguments.length!==1)continue;let h=d.arguments[0];if(t.ts.isStringLiteral(h)&&(o=a,h.text===i)){if(t.ts.isIdentifier(p.name)&&typeof r=="string")return p.name.text===r?e:(l[c]=t.ts.factory.updateVariableDeclaration(p,t.ts.factory.createIdentifier(r),p.exclamationToken,p.type,p.initializer),s[a]=t.ts.factory.updateVariableStatement(u,u.modifiers,t.ts.factory.updateVariableDeclarationList(u.declarationList,l)),t.ts.factory.updateSourceFile(e,s));if(t.ts.isObjectBindingPattern(p.name)&&typeof n=="string"){let m=[...p.name.elements];return m.some(y=>!t.ts.isBindingElement(y)||!t.ts.isIdentifier(y.name)?!1:y.name.text===n)?e:(m.push(t.ts.factory.createBindingElement(void 0,void 0,n)),m.sort((y,b)=>!t.ts.isBindingElement(y)||!t.ts.isIdentifier(y.name)||!t.ts.isBindingElement(b)||!t.ts.isIdentifier(b.name)?0:y.name.text.localeCompare(b.name.text)),l[c]=t.ts.factory.updateVariableDeclaration(p,t.ts.factory.createObjectBindingPattern(m),p.exclamationToken,p.type,p.initializer),s[a]=t.ts.factory.updateVariableStatement(u,u.modifiers,t.ts.factory.updateVariableDeclarationList(u.declarationList,l)),t.ts.factory.updateSourceFile(e,s))}}}}if(typeof r=="string"){let a=t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(r,void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral(i)]))],t.ts.NodeFlags.Const));return s.splice(o,0,a),t.ts.factory.updateSourceFile(e,s)}if(typeof n=="string"){let a=t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(t.ts.factory.createObjectBindingPattern([t.ts.factory.createBindingElement(void 0,void 0,n)]),void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral(i)]))],t.ts.NodeFlags.Const));return s.splice(o,0,a),t.ts.factory.updateSourceFile(e,s)}return e}function wo(t,e,r="esm"){return r==="cjs"?UK(t,e):$K(t,e)}function $K(t,e){let r=[];for(let n of e.statements){if(t.ts.isExportDeclaration(n)){if(n.exportClause&&t.ts.isNamedExports(n.exportClause)){for(let i of n.exportClause.elements)if(n.moduleSpecifier&&r.push({isDefaultExport:!1,statement:n,node:i}),t.ts.isIdentifier(i.name)){let s=i.name.text;for(let o of e.statements)if(t.ts.isVariableStatement(o))for(let a of o.declarationList.declarations)t.ts.isIdentifier(a.name)&&a.name.text===s&&r.push({isDefaultExport:!1,statement:o,node:o});else t.ts.isFunctionDeclaration(o)&&o.name&&o.name.text===s&&r.push({isDefaultExport:!1,statement:o,node:o})}}else!n.exportClause&&n.moduleSpecifier&&r.push({isDefaultExport:!1,statement:n,node:n});continue}if(t.ts.isExportAssignment(n)){let i=n.flags===t.ts.NodeFlags.None,s=n.expression;if(t.ts.isIdentifier(s)){let o=s.text;for(let a of e.statements){if(t.ts.isVariableStatement(a))for(let u of a.declarationList.declarations)t.ts.isIdentifier(u.name)&&u.name.text===o&&r.push({isDefaultExport:i,statement:a,node:a});t.ts.isFunctionDeclaration(a)&&a.name?.text===o&&r.push({isDefaultExport:i,statement:a,node:a})}}else(t.ts.isArrowFunction(s)||t.ts.isCallExpression(s)||t.ts.isFunctionDeclaration(s)||t.ts.isObjectLiteralExpression(s))&&r.push({isDefaultExport:i,statement:n,node:s});continue}if((t.ts.isVariableStatement(n)||t.ts.isFunctionDeclaration(n))&&n.modifiers&&n.modifiers.some(i=>i.kind===t.ts.SyntaxKind.ExportKeyword)){r.push({isDefaultExport:n.modifiers.some(i=>i.kind===t.ts.SyntaxKind.DefaultKeyword),statement:n,node:n});continue}}return r}function UK(t,e){let r=[];for(let n of e.statements)if(t.ts.isExpressionStatement(n)&&t.ts.isBinaryExpression(n.expression)&&t.ts.isPropertyAccessExpression(n.expression.left)){let i=n.expression.left,s=n.expression.right;if(!t.ts.isIdentifier(i.expression))continue;if(i.expression.text==="module"&&i.name.text==="exports"){if(t.ts.isIdentifier(s)){let o=s.text;for(let a of e.statements)if(t.ts.isVariableStatement(a))for(let u of a.declarationList.declarations)t.ts.isIdentifier(u.name)&&u.name.text===o&&r.push({isDefaultExport:!0,statement:a,node:a});else t.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===o&&r.push({isDefaultExport:!0,statement:a,node:a})}else r.push({isDefaultExport:!0,statement:n,node:s});continue}}return r}function jK(t,e,r){for(let n of e.statements)if(t.ts.isImportDeclaration(n)&&n.importClause){if(n.importClause.namedBindings&&t.ts.isNamedImports(n.importClause.namedBindings)){for(let i of n.importClause.namedBindings.elements)if(t.ts.isIdentifier(i.name)&&i.name.text===r&&t.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"named"}}if(n.importClause.name&&n.importClause.name.text===r&&t.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"default"}}return null}async function Vn(t,e,r,n){let i=jK(t,r,n);if(i){let s=await Vc(t,t.normalize(t.resolve(t.dirname(e),i.importPath))),o=t.relative(t.getAppRootDir(),s);return{displayFilePath:Le(t,s),filePath:s,relFilePath:o,importPath:i.importPath,exportType:i.exportType}}return null}function Ra(t,e,r){for(let n=0;n<e.statements.length;n++){let i=e.statements[n];if(t.ts.isVariableStatement(i)){for(let s of i.declarationList.declarations)if(t.ts.isIdentifier(s.name)&&s.name.text===r)return{statement:i,statementIndex:n}}}return null}function Et(t,e,r){let n=Ra(t,e,r);if(n&&n.statement.declarationList.declarations.length>0){let i=n.statement.declarationList.declarations[0];if(i.initializer&&t.ts.isArrayLiteralExpression(i.initializer))return{statement:n.statement,statementIndex:n.statementIndex,variableDeclaration:i,arrayLiteralExp:i.initializer}}return null}function ff(t,e){if(e){if(qK(t,e))return!0;let r=!1;if(e.forEachChild(n=>{ff(t,n)&&(r=!0)}),r)return!0}return!1}function qK(t,e){return t.ts.isJsxElement(e)||t.ts.isJsxOpeningElement(e)||t.ts.isJsxOpeningFragment(e)||t.ts.isJsxSelfClosingElement(e)||t.ts.isJsxFragment(e)||t.ts.isJsxChild(e)}async function Vc(t,e){let r=t.extname(e).toLowerCase();if(r===""||!WE.includes(r)){for(let n of WE){let i=e+n;if(await t.exists(i))return i}for(let n of WE){let i=t.join(e,"index"+n);if(await t.exists(i))return i}}return e}var WE=[".tsx",".jsx",".ts",".js"];function Ma(t,e,r){if(!r||!e)return;let n=e.getSymbolAtLocation(r);if(!n)return;let i=n.valueDeclaration;if(!i)return;let s=i.getSourceFile().fileName,o=GK(t,s);return o?[{name:o}]:void 0}function GK(t,e){if(typeof e=="string"){e=t.normalize(mn(e));let r=e.split("/"),n=r.lastIndexOf("node_modules");if(n>-1){let i=r.slice(n+1),s=i[0];if(s)return s.startsWith("@")&&i[1]&&(s+="/"+i[1]),s}}}function Kn(t){let e=[];for(let r of t)if(r.dependencies)for(let n of r.dependencies)e.some(i=>i.name===n.name)||e.push({...n});return e.sort((r,n)=>r.name.localeCompare(n.name))}function rP(t,e,r="esm"){return r==="cjs"?HK(t,e):KK(t,e)}var VK=/^(@\w|\w)/;function KK(t,e){let r=[];for(let n of e.statements)if(t.ts.isImportDeclaration(n)&&t.ts.isLiteralExpression(n.moduleSpecifier)){if(!VK.test(n.moduleSpecifier.text)||n.importClause?.isTypeOnly)continue;if(n.importClause&&n.importClause.namedBindings&&t.ts.isNamedImports(n.importClause.namedBindings))for(let i of n.importClause.namedBindings.elements)i.isTypeOnly||r.push({isDefaultExport:!1,statement:n,node:i.name});n.importClause&&n.importClause.name&&r.push({isDefaultExport:!0,statement:n,node:n.importClause.name})}return r}function HK(t,e){return[]}async function La(t,e){if(!e.some(o=>!o.isRegistered))return e;let n=await Tt(t,e.map(o=>o.filePath)),i=n.getTypeChecker();return await Promise.all(e.map(async o=>{let a=n.getSourceFile(o.filePath);if(a){let c=(await ws(t,i,o.filePath,a,!1)).find(l=>l.cmpInfo.id===o.id);c&&(o.inputs=To(t,i,c.node.fnNode))}return o}))}async function Ba(t,e,r,n){if(e.node.fnNode){let{sourceFile:i,typeChecker:s}=await ka(t,e.cmpInfo.filePath,r),a=(await ws(t,s,e.cmpInfo.filePath,i,n)).find(u=>u.cmpInfo.id===e.cmpInfo.id);if(!a)throw new Error(`createComponentInputs() Could not find component ${e.cmpInfo.name} in ${e.cmpInfo.filePath}`);return To(t,s,a.node.fnNode)}return[]}async function iP(t,e,r){let n=t.extname(e).toLowerCase();if(n===".tsx"||n===".jsx"||n===".ts"||n===".js"){let i=await t.readFile(e);if(i)return zK(t,e,i,r)}return null}function zK(t,e,r,n=!1){let i=ve(t,r);return ws(t,null,e,i,n)}async function ws(t,e,r,n,i){let s=[];for(let a of n.statements)if(t.ts.isExpressionStatement(a)&&t.ts.isStringLiteral(a.expression)&&a.expression.text==="use server")return s;let o=wo(t,n);return i&&o.push(...rP(t,n)),r=t.normalize(r),await Promise.all(o.map(async a=>{let u=await WK(t,e,r,a);s.push(...u)})),s}async function WK(t,e,r,n){let i=[],s=t.relative(t.getAppRootDir(),r),o=ze(t,r);if(t.ts.isVariableStatement(n.node)){for(let a of n.node.declarationList.declarations){if(!t.ts.isIdentifier(a.name)||!Na(a.name.text))continue;let u=ki(t,e,a.initializer);if(u){let c=u.name||a.name.text,l=n.isDefaultExport?"default":c,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await We(t,r,l),displayFilePath:Le(t,r),name:Xe(c),inputs:[],exportName:l,exportType:p,importName:c,filePath:r,relFilePath:s,importPath:o,dependencies:u.deps},node:u})}}return i}if(t.ts.isArrowFunction(n.node)){let a=ki(t,e,n.node);if(a){let u=en(t,r),c=n.isDefaultExport?"default":u,l=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await We(t,r,c),displayFilePath:Le(t,r),name:u,inputs:[],exportName:c,exportType:l,importName:Co(t,r),filePath:r,relFilePath:s,importPath:o,dependencies:a.deps},node:a})}return i}if(t.ts.isFunctionExpression(n.node)||t.ts.isFunctionDeclaration(n.node)){let a=n.node.name?.text;if(a&&!Na(a))return i;let u=ki(t,e,n.node);if(u){let c=u.name||en(t,r),l=n.isDefaultExport||!u.name?"default":u.name,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await We(t,r,l),displayFilePath:Le(t,r),name:c,inputs:[],exportName:l,exportType:p,importName:u.name||Co(t,r),filePath:r,relFilePath:s,importPath:o,dependencies:u.deps},node:u})}return i}if((t.ts.isExportSpecifier(n.node)||t.ts.isIdentifier(n.node))&&Na(n.node.getText())){let a,u=ki(t,e,n.node);if(u){let c=u.name||en(t,r),l=n.isDefaultExport||!u.name?"default":u.name,p=n.isDefaultExport?"default":"named",d=YK(t,n.node)?.moduleSpecifier??JK(t,n.node)?.moduleSpecifier;if(d&&t.ts.isStringLiteral(d)){let f=e?.getSymbolAtLocation(d);if(f&&f.declarations&&f.declarations.length>0){let h=f.declarations[0];(!t.ts.isSourceFile(h)||t.ts.isSourceFile(h)&&h.fileName.includes("node_modules"))&&(a=d.text)}}i.push({cmpInfo:{id:await We(t,r,l,a),displayFilePath:Le(t,r),name:c,inputs:[],exportName:l,exportType:p,importName:u.name||Co(t,r),filePath:r,relFilePath:s,importPath:a||o,externalImportPath:a,dependencies:u.deps},node:u})}return i}if(t.ts.isExportDeclaration(n.node)&&n.node.exportClause===void 0){let a=n.node.moduleSpecifier;if(a&&t.ts.isStringLiteral(a)){let u=await QK(t,e,r,a);i.push(...u)}return i}return i}function YK(t,e){for(;e;){if(t.ts.isExportDeclaration(e))return e;e=e.parent}return null}function JK(t,e){for(;e;){if(t.ts.isImportDeclaration(e))return e;e=e.parent}return null}function ki(t,e,r){if(!r)return null;if(t.ts.isArrowFunction(r))return ff(t,r.body)?{name:"",fnNode:r,deps:Ma(t,e,r)}:null;if(t.ts.isFunctionExpression(r)||t.ts.isFunctionDeclaration(r))return ff(t,r.body)?{name:r.name?.text||"",fnNode:r,deps:Ma(t,e,r)}:null;if(t.ts.isCallExpression(r)){let n=r.expression;if(t.ts.isPropertyAccessExpression(n)){let i=r.arguments;if(i.length===0)return null;let s=n.expression;if(!t.ts.isIdentifier(s)||s.text!=="React")return null;let o=n.name;return!t.ts.isIdentifier(o)||o.text!=="forwardRef"?null:ki(t,e,i[0])}else if(t.ts.isIdentifier(n)&&n.text==="observer"){let i=r.arguments;return i.length===0?null:ki(t,e,i[0])}return null}if(!e)return null;if(t.ts.isPropertyAccessExpression(r)){let n=r.expression,i=r.name;if(!t.ts.isIdentifier(n)||!t.ts.isIdentifier(i)||!Na(i.text))return null;let o=e.getTypeAtLocation(i).getCallSignatures();if(o.length>0&&o[0].getParameters().length>0)return{name:"",fnNode:i,deps:Ma(t,e,i)}}if(t.ts.isExportSpecifier(r)){let n=r.name;return{name:n.text||"",fnNode:n,deps:Ma(t,e,n)}}if(t.ts.isIdentifier(r))return{name:r.text||"",fnNode:r,deps:Ma(t,e,r)};if(t.ts.isExpressionStatement(r)){let n=r.expression;if(t.ts.isAsExpression(n)&&t.ts.isIdentifier(n.type)&&n.type.text==="default")return ki(t,e,n.expression)}if(t.ts.isVariableStatement(r)){for(let n of r.declarationList.declarations)if(n.initializer&&t.ts.isAsExpression(n.initializer)){let i=n.initializer;if(t.ts.isIdentifier(i.type)&&i.type.text==="default"){let s=ki(t,e,i.expression);if(s&&t.ts.isIdentifier(n.name))return{name:n.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function sP(t,e){let r=[],n=e.getSourceFiles(),i=e.getTypeChecker();return await Promise.all(n.map(async s=>{let o=t.normalize(s.fileName);if(cf(t,XK,s.fileName)||o===t.reactConfigPath||o===t.khulnasoftComponentPath)return;let a=await ws(t,i,o,s,o===t.registryPath);r.push(...a)})),r.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var XK=new Set(["node_modules","dist"]);async function QK(t,e,r,n){let i=[],s=n.text;if(!e)return i;try{let o=e.getSymbolAtLocation(n);if(!o)return i;let a=e.getExportsOfModule(o);for(let u of a){let c=u.valueDeclaration||u.declarations?.[0];if(!c)continue;let l=u.name;if(!Na(l)&&l!=="default"||!oP(t,e,c))continue;let p=ki(t,e,c);if(p){let d=u.name,f=d==="default"?"default":"named",h=Xe(d),m=d==="default"?Co(t,r):d;i.push({cmpInfo:{id:await We(t,r,d,s),displayFilePath:Le(t,r),name:h,inputs:[],exportName:d,exportType:f,importName:m,filePath:r,relFilePath:t.relative(t.getAppRootDir(),r),importPath:s,externalImportPath:s,dependencies:p.deps},node:p})}}}catch(o){console.error(`Error processing module ${s}:`,o)}return i}function oP(t,e,r){if(t.ts.isInterfaceDeclaration(r)||t.ts.isTypeAliasDeclaration(r))return!1;if(t.ts.isExportSpecifier(r)){let n=e.getSymbolAtLocation(r.name);if(n){let s=e.getAliasedSymbol(n).declarations?.[0];if(s)return oP(t,e,s)}return!1}if(t.ts.isFunctionDeclaration(r)||t.ts.isArrowFunction(r)||t.ts.isFunctionExpression(r)){let n=e.getSignatureFromDeclaration(r);if(n){let i=e.getReturnTypeOfSignature(n);return nP(i,e)}}return t.ts.isClassDeclaration(r)?r.heritageClauses?.some(i=>i.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:t.ts.isVariableDeclaration(r)?e.getTypeAtLocation(r).getCallSignatures().some(s=>nP(e.getReturnTypeOfSignature(s),e)):!1}function nP(t,e){let r=e.typeToString(t);return r==="JSX.Element"||r==="Element"||r.includes("ReactElement")||r.includes("React.ReactElement")||r.includes("ReactNode")}async function aP(t,e){let r=[],n=e.getSourceFiles(),i=e.getTypeChecker();return await Promise.all(n.map(async s=>{let o=t.basename(s.fileName);if(t.appDir&&ZK.has(o)||t.dirname(s.fileName).includes("node_modules"))return;let a=t.normalize(s.fileName);if(a===t.nextConfigPath||a===t.khulnasoftComponentPath)return;let u=await ws(t,i,a,s,a===t.registryPath||Zr(a));r.push(...u)})),r.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var ZK=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);function Hn(t,e){let r=[],n=[],i=[],s=[];for(let o of e.statements){if(t.ts.isImportDeclaration(o)){if(t.ts.isStringLiteral(o.moduleSpecifier)){let u=o.moduleSpecifier.text;if(!u.startsWith(".")&&!u.startsWith("/")){r.push(o);continue}}let a=o.importClause;if(a){if(a.namedBindings){n.push(o);continue}if(a.name){n.push(o);continue}}i.push(o);continue}s.push(o)}return t.ts.factory.updateSourceFile(e,[...YE(t,r),...YE(t,n),...YE(t,i),...s])}function gn(t){let e=t.split(`
`).map(n=>n.trimEnd());t="";let r=!1;for(let n=e.length-1;n>=0;n--){let i=e[n];!r&&i.startsWith("import ")&&(r=!0,i=i+`
`),/^khulnasoft.init(.*)$/.test(i)&&(i=i+`
`),e[n-1]&&!e[n-1].includes("*/")&&(i.trim().startsWith("Khulnasoft.registerComponent")&&(i=`
`+i),i.trim().startsWith("/**")&&(i=`
`+i),i.trim().startsWith("module.exports")&&(i=`
`+i),i.trim().startsWith("export ")&&(i=`
`+i)),t=i+`
`+t}return t.trim()+`
`}function YE(t,e){return e.sort((r,n)=>{let i=uP(t,r),s=uP(t,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function uP(t,e){let r=e.importClause;if(r){let n=r.namedBindings;if(n&&t.ts.isNamedImports(n)&&n.elements.length>0)return n.elements[0].name.text;if(r.name)return r.name.text}return e.moduleSpecifier&&t.ts.isStringLiteral(e.moduleSpecifier)?e.moduleSpecifier.text:""}function lP(t){return typeof t=="string"&&!t.includes("'use client'")&&!t.includes(`"use client"'`)&&(t=`"use client"
${t}`),t}function pP(t,e){let r=e.statements.filter(n=>!(t.ts.isExpressionStatement(n)&&t.ts.isStringLiteral(n.expression)&&t.ts.isStringLiteral(n.expression)&&n.expression.text==="use client"));return t.ts.factory.updateSourceFile(e,r)}function zn(t,e){return e.sort((r,n)=>{if(t.ts.isObjectLiteralExpression(r)&&t.ts.isObjectLiteralExpression(n)){let i=cP(t,r),s=cP(t,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function cP(t,e){let r=e.properties.find(n=>Be(t,n)==="name");return r&&t.ts.isPropertyAssignment(r)&&t.ts.isStringLiteral(r.initializer)?r.initializer.text:"zzzz"}async function dP(t){let e=await t.readFile(t.registryPath);return e?eH(t,e):{components:[],sourceFile:ve(t,"")}}async function eH(t,e){let r=ve(t,e);return t.sdkVersion===se.gen2?rH(t,r):tH(t,r)}async function tH(t,e){let r=[];for(let n=0;n<e.statements.length;n++){let i=e.statements[n];if(!t.ts.isExpressionStatement(i))continue;let s=i.expression;if(!t.ts.isCallExpression(s))continue;let o=s.expression;if(!t.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!t.ts.isIdentifier(a)||a.text!=="Khulnasoft"||o.name.text!=="registerComponent")continue;let c=s.arguments;if(c.length<2)continue;let l=c[1];if(!t.ts.isObjectLiteralExpression(l))continue;let p=c[0];if(t.ts.isCallExpression(p)){let d=t.ts.isIdentifier(p.expression)&&p.expression.text;if(d==="withChildren"){let h=QE(t,p.arguments[0]);if(t.ts.isCallExpression(h)){let m=await JE(t,n,h,l,!0);m&&r.push(m)}else{let m=h;if(t.ts.isIdentifier(m)){let g=await XE(t,e,n,m,l,!0);g&&r.push(g)}}continue}if(d==="dynamic"){let h=await JE(t,n,p,l,!1);h&&r.push(h);continue}let f=QE(t,p.arguments[0]);if(t.ts.isCallExpression(f)&&t.ts.isIdentifier(f.expression)&&f.expression.text==="dynamic"){let h=await JE(t,n,f,l,!1);h&&r.push(h);continue}if(t.ts.isIdentifier(f)){let h=await XE(t,e,n,f,l,!1);h&&r.push(h);continue}continue}if(t.ts.isIdentifier(p)){let d=await XE(t,e,n,p,l,!1);d&&r.push(d);continue}}return{sourceFile:e,components:Dr(r)}}function QE(t,e){return t.ts.isCallExpression(e)?(t.ts.isIdentifier(e.expression)&&e.expression.text)==="dynamic"?e:QE(t,e.arguments[0]):e}async function JE(t,e,r,n,i){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:e,acceptsChildren:i},o=r.arguments;if(o.length===0)return null;let a=o[0];if(!t.ts.isArrowFunction(a))return null;let u=a.body;if(t.ts.isCallExpression(u)){if(u.expression.kind!==t.ts.SyntaxKind.ImportKeyword||u.arguments.length!==1)return null;let l=u.arguments[0];if(!t.ts.isStringLiteral(l))return null;let p=l.text,d=await $a(t,p);s.filePath=d,s.relFilePath=t.relative(t.getAppRootDir(),s.filePath),await t.exists(d)?s.importPath=ze(t,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=en(t,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(t.ts.isPropertyAccessExpression(u)){let c=u.expression;if(!t.ts.isParenthesizedExpression(c))return null;let l=c.expression;if(!t.ts.isAwaitExpression(l))return null;let p=l.expression;if(!t.ts.isCallExpression(p)||p.expression.kind!==t.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let f=p.arguments[0];if(!t.ts.isStringLiteral(f)||!t.ts.isIdentifier(u.name))return null;let h=f.text,m=await $a(t,h);s.filePath=m,s.relFilePath=t.relative(t.getAppRootDir(),s.filePath),await t.exists(m)?s.importPath=ze(t,s.filePath):(s.externalImportPath=h,s.importPath=s.externalImportPath),s.name=Xe(u.name.text),s.importName=u.name.text,s.exportName=u.name.text,s.exportType="named"}else return null;return s=xr(t,s,n),s.displayFilePath=Le(t,s.filePath),s.filePath&&s.exportName&&(s.id=await We(t,s.filePath,s.exportName,s.externalImportPath)),s}async function XE(t,e,r,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:s},a=e.statements.filter(c=>t.ts.isImportDeclaration(c)),u=a.find(c=>c.importClause&&c.importClause.name?.text===n.text);if(u){let c=u.moduleSpecifier;if(!t.ts.isStringLiteral(c))return null;let l=await $a(t,c.text);o.filePath=l,o.relFilePath=t.relative(t.getAppRootDir(),o.filePath),await t.exists(l)?o.importPath=ze(t,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=en(t,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let c=a.find(d=>!d.importClause||!d.importClause.namedBindings||!t.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(f=>f.name.text===n.text));if(!c)return null;let l=c.moduleSpecifier;if(!t.ts.isStringLiteral(l))return null;let p=await $a(t,l.text);o.filePath=p,o.relFilePath=t.relative(t.getAppRootDir(),o.filePath),await t.exists(p)?o.importPath=ze(t,o.filePath):(o.externalImportPath=l.text,o.importPath=o.externalImportPath),o.name=Xe(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=xr(t,o,i),o.displayFilePath=Le(t,o.filePath),o.filePath&&o.exportName&&(o.id=await We(t,o.filePath,o.exportName,o.externalImportPath)),o}function $a(t,e){return Vc(t,t.normalize(t.resolve(t.dirname(t.registryPath),e)))}function fP(t,e,r){let n=!1,i=0,s=[...e.statements];for(let c=0;c<s.length;c++){let l=s[c];if(t.ts.isImportDeclaration(l)){i=c;continue}if(!t.ts.isExpressionStatement(l))continue;let p=l.expression;if(!t.ts.isCallExpression(p))continue;let d=p.expression;if(!t.ts.isPropertyAccessExpression(d))continue;let f=d.expression;if(!t.ts.isIdentifier(f)||f.text!=="khulnasoft")continue;if(d.name.text=="init"){n=!0;break}else continue}if(n)return e;let o=t.ts.factory.createPropertyAccessExpression(t.ts.factory.createPropertyAccessExpression(t.ts.factory.createIdentifier("process"),t.ts.factory.createIdentifier("env")),t.ts.factory.createIdentifier(Gn)),a=r?t.ts.factory.createNonNullExpression(o):o,u=t.ts.factory.createExpressionStatement(t.ts.factory.createCallExpression(t.ts.factory.createPropertyAccessExpression(t.ts.factory.createIdentifier("khulnasoft"),t.ts.factory.createIdentifier("init")),void 0,[a]));return s.splice(i+1,0,u),t.ts.factory.updateSourceFile(e,s)}async function rH(t,e){let r=[],n=Et(t,e,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await ZE(t,e,i);o&&(o.nodeIndex=s,r.push(o))})),{sourceFile:e,components:Dr(r)}}async function ZE(t,e,r){if(!t.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};Oa(t,r)&&(n.acceptsChildren=!0);for(let s of r.properties){if(!t.ts.isPropertyAssignment(s)||!t.ts.isIdentifier(s.name))continue;if(Be(t,s)==="component"){let a,{initializer:u}=s;if(t.ts.isCallExpression(u)&&(t.ts.isIdentifier(u.expression)&&u.expression.text)==="dynamic"){let f=u.arguments;if(f.length===0)return null;let h=f[0];if(!t.ts.isArrowFunction(h))return null;let m=h.body;if(t.ts.isCallExpression(m)){if(m.expression.kind!==t.ts.SyntaxKind.ImportKeyword||m.arguments.length!==1)return null;let y=m.arguments[0];if(!t.ts.isStringLiteral(y))return null;let b=y.text,_=await $a(t,b);n.filePath=_,n.relFilePath=t.relative(t.getAppRootDir(),n.filePath),await t.exists(_)?n.importPath=ze(t,n.filePath):(n.externalImportPath=b,n.importPath=n.externalImportPath),n.name=en(t,n.filePath),n.importName="default",n.exportName="default",n.exportType="default"}else if(t.ts.isPropertyAccessExpression(m)){let g=m.expression;if(!t.ts.isParenthesizedExpression(g))return null;let y=g.expression;if(!t.ts.isAwaitExpression(y))return null;let b=y.expression;if(!t.ts.isCallExpression(b)||b.expression.kind!==t.ts.SyntaxKind.ImportKeyword||b.arguments.length!==1)return null;let E=b.arguments[0];if(!t.ts.isStringLiteral(E)||!t.ts.isIdentifier(m.name))return null;let x=E.text,S=await $a(t,x);n.filePath=S,n.relFilePath=t.relative(t.getAppRootDir(),n.filePath),await t.exists(S)?n.importPath=ze(t,n.filePath):(n.externalImportPath=x,n.importPath=n.externalImportPath),n.name=Xe(m.name.text),n.importName=m.name.text,n.exportName=m.name.text,n.exportType="named"}else return null;return n=xr(t,n,r),n.displayFilePath=Le(t,n.filePath),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName,n.externalImportPath)),n}if(t.ts.isIdentifier(u)&&(a=u.text),!a)continue;n.name===""&&(n.name=Xe(a)),n.importName=a;let c=await Vn(t,t.registryPath,e,a);if(!c)continue;n.filePath=c.filePath,n.relFilePath=c.relFilePath,await t.exists(c.filePath)?n.importPath=ze(t,c.filePath):(n.externalImportPath=c.importPath,n.importPath=n.externalImportPath),n.importPath=ze(t,c.filePath),n.displayFilePath=c.displayFilePath,n.exportType=c.exportType;let l=e.statements.filter(d=>t.ts.isImportDeclaration(d)),p=l.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!t.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=l.find(h=>!h.importClause||!h.importClause.namedBindings||!t.ts.isNamedImports(h.importClause.namedBindings)?!1:h.importClause.namedBindings.elements.some(m=>m.name.text===a));if(!d)return null;let f=d.moduleSpecifier;if(!t.ts.isStringLiteral(f))return null;n.exportName=a}continue}}return n=xr(t,n,r),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName,n.externalImportPath)),n}function Wn(t,e){let r=[...e.statements],n=!1;for(let i=e.statements.length-1;i>=0;i--){let s=e.statements[i];if(t.ts.isImportDeclaration(s)&&s.importClause){let o=!1,a=s.importClause.namedBindings;if(a&&t.ts.isNamedImports(a)&&a.elements){let u=[...a.elements];for(let c=u.length-1;c>=0;c--){let l=u[c];if(t.ts.isImportSpecifier(l)){let p=l.name;if(p&&t.ts.isIdentifier(p)){let d=p.text;hP(t,e,d)||u.splice(c,1)}}}if(u.length===0)o=!0;else if(a.elements.length!==u.length){let c=t.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,t.ts.factory.createNamedImports(u)),l=t.ts.factory.updateImportDeclaration(s,void 0,c,s.moduleSpecifier,void 0);r[i]=l,n=!0}}else if(s.importClause.name&&t.ts.isIdentifier(s.importClause.name)){let u=s.importClause.name.text;hP(t,e,u)||(o=!0)}o&&(r.splice(i,1),n=!0)}}return n?t.ts.factory.updateSourceFile(e,r):e}function hP(t,e,r){let n=!1;function i(s){if(!t.ts.isImportDeclaration(s)){if(t.ts.isIdentifier(s)&&s.text===r){n=!0;return}t.ts.forEachChild(s,i)}}return t.ts.forEachChild(e,i),n}function Yn(t,e,r,n,i,s,o){let a=null,u=null,c=null,l=-1;e=Rr(e),r=Rr(r);let p=e.find(f=>f.id===t),d=r.find(f=>f.id===t);if(n)d||(a={...Rr(p),inputs:Rr(p.inputs).map(f=>(f.isRegistered=!0,f))},l=r.length,r.push(a));else if(typeof d?.nodeIndex=="number"&&d.nodeIndex>-1){if(i)l=d.nodeIndex,u=Rr(d),r=r.filter(f=>f.id!==t);else if(s!=null)nH(d,s),l=d.nodeIndex,c=d;else if(o!=null){let f=d.inputs.find(h=>h.name===o.name);f&&(o.registerInput===!1?f.isRegistered=!1:(iH(f,o),f.isRegistered=!0),c=d,l=d.nodeIndex)}}return{addCmpToRegistry:a,removeCmpFromRegistry:u,updateRegisteredCmp:c,nodeIndex:l,components:yn(e,r)}}function yn(t,e){let r=Dr([...e.map(n=>(n.isRegistered=!0,n)),...t.filter(n=>!e.some(i=>i.id===n.id)).map(n=>(n.isRegistered=!1,n))]);return r.forEach(n=>{n.inputs=n.inputs.map(KE),n.inputs.sort((o,a)=>o.name.toLowerCase().localeCompare(a.name.toLowerCase()));let i=e.find(o=>o.id===n.id);i&&(i.acceptsChildren=VE(n));let s=t.find(o=>o.id===n.id&&o.externalImportPath);s&&(n.filePath=s.filePath,n.relFilePath=s.relFilePath)}),r}function nH(t,e){cr(e.name)?t.name=e.name:e.name===null&&(t.name=t.importName),cr(e.description)?t.description=e.description:e.description===null&&delete t.description,cr(e.image)?t.image=e.image:e.image===null&&delete t.image}function iH(t,e){cr(e.type)&&(t.type=e.type),cr(e.friendlyName)?t.friendlyName=e.friendlyName:e.friendlyName===null&&delete t.friendlyName,cr(e.defaultValue)||Bc(e.defaultValue)||Ia(e.defaultValue)?t.defaultValue=e.defaultValue:e.defaultValue===null&&delete t.defaultValue,cr(e.helperText)?t.helperText=e.helperText:e.helperText===null&&delete t.helperText,e.required===!0?t.required=e.required:(e.required===null||e.required===!1)&&delete t.required}async function As(t){let e=new Set,r=async i=>{let s=await t.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=t.join(i,o),u=t.extname(o).toLowerCase();if(u===".tsx"||u===".jsx"||u===".ts"||u===".js"){e.add(a);return}(await t.stat(a)).isDirectory()&&await r(a)}))};return await r(t.getAppRootDir()),await Tt(t,[...e])}function Jn(t,e,r){return Ra(t,e,r.variableName)?e:sH(t,e,r)}function sH(t,e,r){let n=typeof r.arrayType=="string"?t.ts.factory.createArrayTypeNode(t.ts.factory.createTypeReferenceNode(r.arrayType,void 0)):void 0,i=t.ts.factory.createArrayLiteralExpression([]),s=t.ts.factory.createVariableDeclaration(r.variableName,void 0,n,i),o=t.ts.factory.createVariableDeclarationList([s],t.ts.NodeFlags.Const),a=t.ts.factory.createModifier(t.ts.SyntaxKind.ExportKeyword),u=t.ts.factory.createVariableStatement([a],o),c=[...e.statements,u];return t.ts.factory.updateSourceFile(e,c)}async function Xn(t,e,r,n,i,s,o,a){let u=await As(t),[c,l,p,d]=await Promise.all([aP(t,u),dP(t),kr(t),$c(t)]),f=c.map(_=>_.cmpInfo),h=l.components,m={components:yn(f,h),registryPath:t.registryPath,registryDisplayPath:Le(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Kn(f),publicApiKey:d.envValue??void 0,devToolsVersion:t.version};if(a)return m.components=await La(t,m.components),m;let g=!1,y=l.sourceFile,b=Array.isArray(e)?e:typeof e=="string"?[e]:[];if(b.length>0){let _=b.map(S=>{let T=c.find(w=>w.cmpInfo.id===S);if(!T)throw new Error(`Component ${S} not found`);return T}),E=Array.from(new Set(_.map(S=>S.cmpInfo.filePath))),x=await Tt(t,E);for(let S of _){let T=m.components.find(U=>U.id===S.cmpInfo.id),w=await Ba(t,S,x,t.registryPath===S.cmpInfo.filePath||Zr(S.cmpInfo.filePath));Mr(T,w);let k=f.findIndex(U=>U.id===S.cmpInfo.id);f[k].inputs=w;let R=Yn(S.cmpInfo.id,f,h,r,n,i,s);if(t.sdkVersion===se.gen2){let{elements:U,elmIndex:ie,statementIndex:pe,statement:ue,variableDeclaration:re}=await uH(t,y,S);if(R.addCmpToRegistry)U.push(aH(t,R.addCmpToRegistry)),g=!0;else if(R.removeCmpFromRegistry)U.splice(ie,1),g=!0;else if(R.updateRegisteredCmp){let ke=vt(t,U[ie],R.updateRegisteredCmp);U[ie]=t.ts.factory.updateObjectLiteralExpression(ke,[gP(t,R.updateRegisteredCmp),...ke.properties.slice(1)]),g=!0}if(g&&o){let ke=[...y.statements];ke[pe]=t.ts.factory.updateVariableStatement(ue,ue.modifiers,t.ts.factory.updateVariableDeclarationList(ue.declarationList,[t.ts.factory.updateVariableDeclaration(re,re.name,re.exclamationToken,re.type,t.ts.factory.createArrayLiteralExpression(zn(t,U)))])),y=t.ts.factory.updateSourceFile(y,ke),y=mP(t,R,y),y=Ae(t,y,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),y=Jn(t,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=R.components,h=R.components.filter(N=>N.isRegistered)}}else{let U=[...y.statements];R.addCmpToRegistry?(U.push(JA(t,R.addCmpToRegistry)),g=!0):R.removeCmpFromRegistry?(U.splice(R.nodeIndex,1),g=!0):R.updateRegisteredCmp&&(U[R.nodeIndex]=HE(t,U[R.nodeIndex],R.updateRegisteredCmp),g=!0),g&&o&&(y=t.ts.factory.updateSourceFile(y,U),y=Ae(t,y,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),y=fP(t,y,p),y=mP(t,R,y),T?.acceptsChildren&&(y=Ae(t,y,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),m.components=R.components,h=R.components.filter(ie=>ie.isRegistered))}}}if(g&&o){y=Wn(t,y),y=Hn(t,y),t.appDir&&(y=pP(t,y));let _=Ot(t,y);_=gn(_),t.appDir&&(_=lP(_)),_=await t.formatCode(t.registryPath,_),await t.writeFile(t.registryPath,_)}return m}function gP(t,e){let r=t.ts.factory.createIdentifier(e.importName);return t.appDir?t.ts.factory.createPropertyAssignment("component",r):t.ts.factory.createPropertyAssignment("component",cH(t,e))}function oH(t){return t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())}function aH(t,e){return vt(t,t.ts.factory.createObjectLiteralExpression([gP(t,e),...e.acceptsChildren?[oH(t)]:[]],!0),e)}async function uH(t,e,r){let n=Et(t,e,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>t.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await ZE(t,e,i[o]))?.id===r.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function mP(t,e,r){if(t.appDir){let n=e.addCmpToRegistry||e.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Pe(t,t.registryPath,n.filePath);n.exportType==="default"?r=Ae(t,r,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(r=Ae(t,r,{namedImports:[n.importName],importPath:i}))}}else r=Ae(t,r,{defaultImport:"dynamic",importPath:"next/dynamic"});return r}function cH(t,e){let r=e.externalImportPath?e.externalImportPath:Pe(t,t.registryPath,e.filePath),n=e.exportName!=="default",i;n?i=t.ts.factory.createPropertyAccessExpression(t.ts.factory.createAwaitExpression(t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("import"),void 0,[t.ts.factory.createStringLiteral(r)])),t.ts.factory.createIdentifier(e.exportName)):i=t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("import"),void 0,[t.ts.factory.createStringLiteral(r)]);let s=t.ts.factory.createArrowFunction(n?[t.ts.factory.createModifier(t.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,t.ts.factory.createToken(t.ts.SyntaxKind.EqualsGreaterThanToken),i);return t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("dynamic"),void 0,[s])}async function bP(t){let e=[],r=await hH(t,e);return await _P(t,e,r),t.appDir?(t.debug(`ensure khulnasoft setup for next.js app ${t.appDir}`),await pH(t,t.appDir,e)):t.pagesDir&&(t.debug(`ensure khulnasoft setup for next.js pages ${t.pagesDir}`),await dH(t,t.pagesDir,e)),e}async function EP(t){let e=[];return await _P(t,e),t.appDir?(t.debug(`ensure figma-imports setup for next.js app ${t.appDir}`),await lH(t,t.appDir,e)):t.pagesDir&&(t.debug(`ensure figma-imports setup for next.js pages ${t.pagesDir}`),await fH(t,t.pagesDir,e)),e}async function lH(t,e,r){let n=`page.${t.typescriptEnabled?"tsx":"jsx"}`,i=t.join(e,"figma-imports",n);if(!await t.exists(i)){let s=await t.formatCode(i,xP({sys:t,routePath:i,modelName:"figma-imports"}));await t.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}if(!await t.exists(t.khulnasoftComponentPath)){let s=await t.formatCode(t.khulnasoftComponentPath,DP(t));await t.writeFile(t.khulnasoftComponentPath,s),r.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}}async function pH(t,e,r){let n=`page.${t.typescriptEnabled?"tsx":"jsx"}`,i=t.join(e,"[...page]",n);if(!await t.exists(i)){let s=await t.formatCode(i,xP({sys:t,routePath:i,modelName:"page"}));await t.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}if(!await t.exists(t.khulnasoftComponentPath)){let s=await t.formatCode(t.khulnasoftComponentPath,DP(t));await t.writeFile(t.khulnasoftComponentPath,s),r.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}}function DP(t){let e=t.typescriptEnabled;return t.sdkVersion===se.gen2?`
  "use client";
  import { ${e?"KhulnasoftContent, ":""} isPreviewing, Content } from "@khulnasoft.com/sdk-react";
  import DefaultErrorPage from "next/error";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Pe(t,t.khulnasoftComponentPath,t.registryPath))};
  ${e?`
interface KhulnasoftPageProps {
      content: KhulnasoftContent | null;
      model: string;
      }`:""}

  // Khulnasoft Public API Key set in .env file
  const khulnasoftApiKey = process.env.${Gn}${e?"!":""};

  export function RenderKhulnasoftContent({ content, model }${e?": KhulnasoftPageProps":""}) {
    // Call the isPreviewing hook to determine if
    // the page is being previewed in Khulnasoft
    // If "content" has a value or the page is being previewed in Khulnasoft,
    // render the KhulnasoftComponent with the specified content and model props.
    if (content || isPreviewing()) {
      return <Content
        content={content}
        apiKey={khulnasoftApiKey}
        model={model}
        customComponents={CUSTOM_COMPONENTS}
      />;
    }
    // If the "content" is falsy and the page is
    // not being previewed in Khulnasoft, render the
    // DefaultErrorPage with a 404.
    return <DefaultErrorPage statusCode={404} />;
  }
  `.trimStart():`
"use client";
${e?'import { ComponentProps } from "react";':""}
import { KhulnasoftComponent, useIsPreviewing } from "@khulnasoft.com/react";
import { ${e?"KhulnasoftContent, ":""}khulnasoft } from '@khulnasoft.com/sdk';
import DefaultErrorPage from "next/error";
import ${JSON.stringify(Pe(t,t.khulnasoftComponentPath,t.registryPath))};
${e?`
type KhulnasoftPageProps = ComponentProps<typeof KhulnasoftComponent>;`:""}

// Khulnasoft Public API Key set in .env file
khulnasoft.init(process.env.${Gn}${e?"!":""});

export function RenderKhulnasoftContent({ content, model }${e?": KhulnasoftPageProps":""}) {
  // Call the useIsPreviewing hook to determine if
  // the page is being previewed in Khulnasoft
  const isPreviewing = useIsPreviewing();
  // If "content" has a value or the page is being previewed in Khulnasoft,
  // render the KhulnasoftComponent with the specified content and model props.
  if (content || isPreviewing) {
    return <KhulnasoftComponent content={content} model={model} />;
  }
  // If the "content" is falsy and the page is
  // not being previewed in Khulnasoft, render the
  // DefaultErrorPage with a 404.
  return <DefaultErrorPage statusCode={404} />;
}
`.trimStart()}function yP(t){return t.features.asyncParams?`
interface PageProps {
      params: Promise<{
        page: string[];
      }>;
    }`:`
interface PageProps {
      params: {
        page: string[];
      };
    }`}function xP({sys:t,routePath:e,modelName:r}){let n=t.typescriptEnabled,i=Pe(t,e,t.khulnasoftComponentPath);return t.sdkVersion===se.gen2?`
import { fetchOneEntry } from "@khulnasoft.com/sdk-react";
import { RenderKhulnasoftContent } from ${JSON.stringify(i)};

// Khulnasoft Public API Key set in .env file
const PUBLIC_API_KEY = process.env.${Gn}${n?"!":""};

${n?yP(t):""}

export default async function Page(props${n?": PageProps":""}) {
  const khulnasoftModelName = "${r}";

  // Use the page path specified in the URL to fetch the content
  const urlPath = "/" + (${t.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");

  const content = await fetchOneEntry({
   // Get the page content from Khulnasoft with the specified options
    apiKey: PUBLIC_API_KEY,
    model: khulnasoftModelName,
    userAttributes: { urlPath },
  });

  return (
    <>
      {/* Render the Khulnasoft page */}
      <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
    </>
  );
}
`.trimStart():`
import { khulnasoft } from "@khulnasoft.com/sdk";
import { RenderKhulnasoftContent } from ${JSON.stringify(i)};

// Khulnasoft Public API Key set in .env file
khulnasoft.init(process.env.${Gn}${n?"!":""});
${n?yP(t):""}

export default async function Page(props${n?": PageProps":""}) {
  const khulnasoftModelName = "${r}";

  const content = await khulnasoft
    // Get the page content from Khulnasoft with the specified options
    .get(khulnasoftModelName, {
      userAttributes: {
        // Use the page path specified in the URL to fetch the content
        urlPath: "/" + (${t.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
      },
    })
    // Convert the result to a promise
    .toPromise();

  return (
    <>
      {/* Render the Khulnasoft page */}
      <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
    </>
  );
}
`.trimStart()}async function dH(t,e,r){let n=`[...page].${t.typescriptEnabled?"tsx":"jsx"}`,i=t.join(e,n);if(!await t.exists(i)){let s=await t.formatCode(i,SP({sys:t,routePath:i,modelName:"page"}));await t.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}}async function fH(t,e,r){let n=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`,i=t.join(e,n);if(!await t.exists(i)){let s=await t.formatCode(i,SP({sys:t,routePath:i,modelName:"figma-imports"}));await t.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}}function SP({sys:t,routePath:e,modelName:r}){let n=t.typescriptEnabled;return t.sdkVersion===se.gen2?`
import React from "react";
import { useRouter } from "next/router";
${n?'import type { KhulnasoftContent } from "@khulnasoft.com/sdk-react";':""}
import {
  Content,
  fetchEntries,
  fetchOneEntry,
  isPreviewing,
} from "@khulnasoft.com/sdk-react";
import DefaultErrorPage from "next/error";
import Head from "next/head";
${n?'import { GetStaticProps } from "next";':""}
import { CUSTOM_COMPONENTS } from ${JSON.stringify(Pe(t,t.khulnasoftComponentPath,t.registryPath))};

const KHULNASOFT_API_KEY = process.env.${Gn}${n?"!":""};

// Define a function that fetches the Khulnasoft
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${t.features.asyncParams?"await params;":""}
  const urlPath =
    "/" +
    (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");

  // Fetch the khulnasoft content for the given page
  const page = await fetchOneEntry({
    apiKey: KHULNASOFT_API_KEY,
    model: "${r}",
    userAttributes: { urlPath },
  });

  return {
    // Return the page content as props
    props: { page },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${r==="page"?`
// Define a function that generates the
// static paths for all pages in Khulnasoft
export async function getStaticPaths() {
  // Get a list of all pages in Khulnasoft
  const pages = await fetchEntries({
    apiKey: KHULNASOFT_API_KEY,
    model: "page",
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });
  // Generate the static paths for all pages in Khulnasoft
  return {
    paths: pages.map((page) => \`\${page.data?.url}\`),
    fallback: "blocking",
  };
}
`:""}

// Define the Page component
export default function Page(props${n?": { page: KhulnasoftContent | null }":""}) {
  const router = useRouter();
  const canShowContent = props.page || isPreviewing(router.asPath);

  // If the page content is not available
  // and not in preview/editing mode, show a 404 error page
  if (!canShowContent) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the KhulnasoftComponent with the page content
  return (
    <>
      <Head>
        <title>{props.page?.data?.title}</title>
      </Head>
      {/* Render the Khulnasoft page */}
      <Content
        model="${r}"
        content={props.page}
        apiKey={KHULNASOFT_API_KEY}
        customComponents={CUSTOM_COMPONENTS}
      />
    </>
  );
}

    `:`
import React from "react";
import { useRouter } from "next/router";
import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react";
import DefaultErrorPage from "next/error";
import Head from "next/head";${n?`
import { KhulnasoftContent } from "@khulnasoft.com/sdk";`:""}${n?`
import { GetStaticProps } from "next";`:""}
import ${JSON.stringify(Pe(t,e,t.registryPath))};

khulnasoft.init(process.env.${Gn}${n?"!":""});

// Define a function that fetches the Khulnasoft
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${t.features.asyncParams?"await params;":""}
  // Fetch the khulnasoft content for the given page
  const page = await khulnasoft
    .get("${r}", {
      userAttributes: {
        urlPath: "/" + ((params?.page${n?" as string[]":""})?.join("/") || ""),
      },
    })
    .toPromise();

  // Return the page content as props
  return {
    props: {
      page: page || null,
    },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${r==="page"?`// Define a function that generates the
// static paths for all pages in Khulnasoft
export async function getStaticPaths() {
  // Get a list of all pages in Khulnasoft
  const pages = await khulnasoft.getAll("page", {
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });

  // Generate the static paths for all pages in Khulnasoft
  return {
    paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
    fallback: 'blocking',
  };
}`:""}

// Define the Page component
export default function Page({ page }${n?": { page: KhulnasoftContent | null }":""}) {
  const router = useRouter();
  const isPreviewing = useIsPreviewing();

  // If the page content is not available
  // and not in preview mode, show a 404 error page
  if (!page && !isPreviewing) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the KhulnasoftComponent with the page content
  return (
    <>
      <Head>
        <title>{page?.data?.title}</title>
      </Head>
      {/* Render the Khulnasoft page */}
      <KhulnasoftComponent model="${r}" content={page || undefined} />
    </>
  );
}
`.trimStart()}async function hH(t,e){let n=t.typescriptEnabled?"tsx":"jsx",i=t.join(t.componentsDir,"Counter"),s=t.join(i,`Counter.${n}`),o=t.join(i,"styles.module.css"),{component:a,styles:u}=mH(t);if(!await t.exists(s)){let c=await t.formatCode(s,a);await t.writeFile(s,c),e.push({filePath:s,modifiedType:"create"})}return await t.exists(o)||(await t.writeFile(o,u),e.push({filePath:o,modifiedType:"create"})),s}function mH(t){let e=t.typescriptEnabled,r=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${e?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${e?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}async function _P(t,e,r){if(!await t.exists(t.registryPath)){if(t.sdkVersion===se.gen2){let s=gH(t);await t.writeFile(t.registryPath,s)}else await t.writeFile(t.registryPath,"");e.push({filePath:t.registryPath,modifiedType:"create"})}if(!r)return;let i=(await Xn(t,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===r);i&&await Xn(t,i.id,!0,!1,null,null,!0,!1)}function gH(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function Ua(t){let e=await _o(t,t.getRepoRootDir());if(e&&typeof e=="object"){let r=new Set(Object.keys({...e.dependencies,...e.devDependencies}));if(r.has("@khulnasoft.com/sdk-react"))return se.gen2;if(r.has("@khulnasoft.com/react"))return se.gen1}return null}async function CP(t){let e=await yH(t);return{khulnasoftPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/khulnasoft-demo",title:"Khulnasoft + Next.js Demo Page"}),ensureKhulnasoftSetup:()=>bP(e),ensureFigmaImportPage:()=>EP(e),getRegistryPath:()=>e.registryPath,getRegistry:n=>Xn(e,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{e.addExternalPackage(n)},loadComponent:async n=>{let i=await Xn(e,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Xn(e,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Xn(e,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Xn(e,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Xn(e,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>$c(e),setPublicApiKey:n=>VA(e,n.publicApiKey),getDependencies:n=>n.sdkVersion===se.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>jn(e),setCache:n=>qn(e,n)}}async function yH(t){let e=t.getAppRootDir(),r=t.join(e,"src"),n=await bH(t),i=await kr(t),s=t.getFrameworks().find(c=>c.name==="next"),o={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},a={},u={...t,addExternalPackage:c=>{a[t.join(e,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>a[c]??t.readFileSync(c),existsSync:c=>!!a[c]||t.existsSync(c),readdirSync:c=>{let l=t.readdirSync(c);return c===e?[...l,...Object.keys(a).map(p=>p.slice(e.length+1))]:l},readdir:async c=>{let l=await t.readdir(c);return c===e?[...l,...Object.keys(a).map(p=>p.slice(e.length+1))]:l},appDir:null,pagesDir:null,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:n,typescriptEnabled:i,features:o};if(t.sdkVersion?u.sdkVersion=t.sdkVersion:u.sdkVersion=await Ua(u),await t.exists(r)){u.srcDir=r,u.componentsDir=t.join(r,"components");let c=t.join(r,"app");await t.exists(c)&&(u.appDir=c);let l=t.join(r,"pages");await t.exists(l)&&(u.pagesDir=l),u.registryPath=await Qr(t,r)}else u.componentsDir=t.join(e,"components"),u.registryPath=await Qr(t,e);if(u.khulnasoftComponentPath=t.join(u.componentsDir,`khulnasoft.${i?"tsx":"jsx"}`),!u.appDir){let c=t.join(e,"app");await t.exists(c)&&(u.appDir=c)}if(!u.pagesDir){let c=t.join(e,"pages");await t.exists(c)&&(u.pagesDir=c)}if(!u.appDir&&!u.pagesDir)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${e}".`);return u}async function bH(t){let e=t.join(t.getAppRootDir(),"next.config.ts");if(await t.exists(e))return e;let r=t.join(t.getAppRootDir(),"next.config.mjs");if(await t.exists(r))return r;let n=t.join(t.getAppRootDir(),"next.config.js");if(await t.exists(n))return n;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${t.getAppRootDir()}".`)}async function Kc(t){return await vs(t,[".env"],TP)}async function vP(t,e){EH(e);let r=await Kc(t),n=await Ts(t,r.file,r.envKey,e);return{...r,modifiedType:n}}function EH(t){typeof process<"u"&&(process.env[TP]=t)}var TP="PUBLIC_KHULNASOFT_API_KEY";function wP(t,e,r){if(r.length===0)return t;let n=t.split(`
`),i=n.findIndex(a=>a.includes(r));if(i===-1||n.some(a=>a.includes(e[0])))return t;let o=["/**",...e.map(a=>` * ${a.trim()}`)," */"];return n.splice(i,0,...o),n.join(`
`)}async function PP(t,e){let r=[],n=e.getSourceFiles(),i=e.getTypeChecker();return await Promise.all(n.map(async s=>{let o=t.basename(s.fileName);if(o.startsWith(".")||SH.has(o))return;let a=t.normalize(s.fileName);if(a===t.registryPath)return;let u=await hf(t,i,a,s);r.push(...u)})),r}async function IP(t,e){if(t.extname(e).toLowerCase()===".tsx"){let n=await t.readFile(e);if(n)return DH(t,e,n)}return null}function DH(t,e,r){let n=ve(t,r);return hf(t,null,e,n)}async function hf(t,e,r,n){r=t.normalize(r);let i=[],s=wo(t,n);return await Promise.all(s.map(async o=>{let a=await xH(t,e,r,o);a&&i.push(a)})),i}async function xH(t,e,r,n){let i=t.relative(t.getAppRootDir(),r),s=ze(t,r);if(t.ts.isVariableStatement(n.node))for(let o of n.node.declarationList.declarations){let a=AP(t,o.initializer);if(a&&t.ts.isIdentifier(o.name)){let u=o.name.text;return{cmpInfo:{id:await We(t,r,u),displayFilePath:Le(t,r),name:Xe(u),inputs:[],exportName:n.isDefaultExport?"default":u,exportType:n.isDefaultExport?"default":"named",importName:u,filePath:r,relFilePath:i,importPath:s},node:a}}}else if(t.ts.isCallExpression(n.node)){let o=AP(t,n.node);if(o)return{cmpInfo:{id:await We(t,r,"default"),displayFilePath:Le(t,r),name:en(t,r),inputs:[],exportName:"default",exportType:"default",importName:Co(t,r),filePath:r,relFilePath:i,importPath:s},node:o}}return null}function AP(t,e){if(e&&t.ts.isCallExpression(e)&&t.ts.isIdentifier(e.expression)&&e.expression.text==="component$"&&e.arguments.length>0){let r=e.arguments[0];if(t.ts.isArrowFunction(r)||t.ts.isFunctionExpression(r))return{callExpression:e,fnNode:r}}return null}var SH=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);async function NP(t,e){let r=e.node.fnNode;if((t.ts.isArrowFunction(r)||t.ts.isFunctionExpression(r))&&r.parameters.length>0){let{sourceFile:i,typeChecker:s}=await ka(t,e.cmpInfo.filePath,null);if(!(await hf(t,s,e.cmpInfo.filePath,i)).find(u=>u.cmpInfo.id===e.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${e.cmpInfo.name} in ${e.cmpInfo.filePath}`);return To(t,s,r)}return[]}async function FP(t){return eD(t)}async function eD(t){let e=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,_H),e.push({filePath:t.registryPath,modifiedType:"create"})),e}var _H=`import type { RegisteredComponent } from "@khulnasoft.com/sdk-qwik";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];
`;async function OP(t){await eD(t);let e=await t.readFile(t.registryPath);return e?CH(t,e):{components:[],sourceFile:ve(t,"")}}async function CH(t,e){let r=ve(t,e);return vH(t,r)}async function vH(t,e){let r=[],n=Et(t,e,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await tD(t,e,i);o&&(o.nodeIndex=s,r.push(o))})),{sourceFile:e,components:Dr(r)}}async function tD(t,e,r){if(!t.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let i of r.properties){if(!t.ts.isPropertyAssignment(i)||!t.ts.isIdentifier(i.name))continue;if(Be(t,i)==="component"&&t.ts.isIdentifier(i.initializer)){let o=i.initializer.text;n.name===""&&(n.name=Xe(o)),n.importName=o;let a=await Vn(t,t.registryPath,e,o);if(!a)continue;n.filePath=a.filePath,n.relFilePath=a.relFilePath,n.importPath=ze(t,a.filePath),n.displayFilePath=a.displayFilePath,n.exportType=a.exportType;let u=await IP(t,a.filePath);if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(l=>l.cmpInfo.exportName===o);c&&(n.exportName=c.cmpInfo.exportName)}continue}}return n=xr(t,n,r),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName)),n}async function kP(t){let e=new Set,r=async i=>{let s=await t.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=t.join(i,o),u=t.extname(o).toLowerCase();if(u===".tsx"||u===".ts"){e.add(a);return}(await t.stat(a)).isDirectory()&&await r(a)}))};return await r(t.getAppRootDir()),await Tt(t,[...e])}async function Ao(t,e,r,n,i,s,o,a){let u=await kP(t),[c,l,p]=await Promise.all([PP(t,u),OP(t),Kc(t)]),d=c.map(m=>m.cmpInfo),f=l.components,h={components:yn(d,f),registryPath:t.registryPath,registryDisplayPath:Le(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Kn(d),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(a)return h;if(e!=null){let m=c.find(R=>R.cmpInfo.id===e);if(!m)throw new Error(`Component ${e} not found`);let g=l.sourceFile,y=h.components.find(R=>R.id===e),b=await NP(t,m);Mr(y,b),e=Array.isArray(e)?e[0]:e;let _=Yn(e,d,f,r,n,i,s),{elements:E,elmIndex:x,statementIndex:S,statement:T,variableDeclaration:w}=await wH(t,g,m),k=!1;if(_.addCmpToRegistry?(E.push(TH(t,_.addCmpToRegistry)),k=!0):_.removeCmpFromRegistry?(E.splice(x,1),k=!0):_.updateRegisteredCmp&&(E[x]=vt(t,E[x],_.updateRegisteredCmp),k=!0),k&&o){let R=[...g.statements];R[S]=t.ts.factory.updateVariableStatement(T,T.modifiers,t.ts.factory.updateVariableDeclarationList(T.declarationList,[t.ts.factory.updateVariableDeclaration(w,w.name,w.exclamationToken,w.type,t.ts.factory.createArrayLiteralExpression(zn(t,E)))])),g=t.ts.factory.updateSourceFile(g,R),y.exportType==="named"?g=Ae(t,g,{namedImports:[y.importName],importPath:Pe(t,t.registryPath,y.filePath)}):g=Ae(t,g,{defaultImport:y.importName,importPath:Pe(t,t.registryPath,y.filePath)}),g=Ae(t,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-qwik",isTypeOnly:!0}),g=Jn(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g=Wn(t,g),g=Hn(t,g);let U=Ot(t,g);U=gn(U),U=wP(U,AH,"CUSTOM_COMPONENTS"),U=await t.formatCode(t.registryPath,U),await t.writeFile(t.registryPath,U)}h.components=_.components}return h}function TH(t,e){return vt(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("component",t.ts.factory.createIdentifier(e.importName))],!0),e)}async function wH(t,e,r){let n=Et(t,e,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>t.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await tD(t,e,i[o]))?.id===r.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}var AH=["This array is used to integrate custom components within Khulnasoft.","https://www.khulnasoft.com/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Khulnasoft's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.khulnasoft.com/c/docs/guides/components-only-mode"];async function RP(t){let e=await PH(t);return{khulnasoftPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Khulnasoft + Qwik Demo Page"}),ensureKhulnasoftSetup:()=>FP(e),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>e.registryPath,getRegistry:n=>Ao(e,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{},loadComponent:async n=>{let i=await Ao(e,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Ao(e,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Ao(e,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Ao(e,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Ao(e,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Kc(e),setPublicApiKey:n=>vP(e,n.publicApiKey),getDependencies:n=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>jn(e),setCache:n=>qn(e,n)}}async function PH(t){let e=await Lc(t,t.getAppRootDir(),"components");if(!e)throw new Error(`Could not find components directory within project: ${t.getAppRootDir()}`);let r=await Qr(t,e),n=t.join(t.getAppRootDir(),".env");return{...t,componentsDir:e,registryPath:r,envPath:n}}async function Hc(t){return await vs(t,[".env"],zc)}async function MP(t,e){let r=await Hc(t),n=await Ts(t,r.file,r.envKey,e);return{...r,modifiedType:n}}var zc="PUBLIC_KHULNASOFT_KEY";var IH=new Set(["dist","node_modules"]);async function LP(t,e){let r=[],n=e.getSourceFiles(),i=e.getTypeChecker(),s=t.join(t.getAppRootDir(),"build");return await Promise.all(n.map(async o=>{let a=t.basename(o.fileName);if(a.startsWith(".")||a==="node_modules"||cf(t,IH,o.fileName)||NH.has(a)||a.includes("$."))return;let u=t.normalize(o.fileName);if(u===t.remixConfigPath||u===s)return;let c=await ws(t,i,u,o,u===t.registryPath);r.push(...c)})),r}var NH=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);async function BP(t){await mf(t);let e=await t.readFile(t.registryPath);return e?FH(t,e):{components:[],sourceFile:ve(t,"")}}async function FH(t,e){let r=ve(t,e);return OH(t,r)}async function OH(t,e){let r=[],n=Et(t,e,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await rD(t,e,i);o&&(o.nodeIndex=s,r.push(o))})),{sourceFile:e,components:Dr(r)}}async function rD(t,e,r){if(!t.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};t.sdkVersion===se.gen2&&Oa(t,r)&&(n.acceptsChildren=!0);for(let i of r.properties){if(!t.ts.isPropertyAssignment(i)||!t.ts.isIdentifier(i.name))continue;if(Be(t,i)==="component"){let o,{initializer:a}=i;if(t.ts.isIdentifier(a))o=a.text;else if(t.ts.isCallExpression(a)){(t.ts.isIdentifier(a.expression)&&a.expression.text)==="withChildren"&&(n.acceptsChildren=!0);let l=a.arguments[0];t.ts.isIdentifier(l)&&(o=l.text)}if(!o)continue;n.name===""&&(n.name=Xe(o)),n.importName=o;let u=await Vn(t,t.registryPath,e,o);if(!u)continue;if(n.filePath=u.filePath,n.relFilePath=u.relFilePath,await t.exists(u.filePath)?n.importPath=ze(t,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType,n.externalImportPath)n.exportName=o;else{let c=await iP(t,u.filePath,t.registryPath===u.filePath||Zr(u.filePath));if(c&&c.length>0)if(c.length===1)n.exportName=c[0].cmpInfo.exportName;else{let l=c.find(p=>p.cmpInfo.exportName===o);l&&(n.exportName=l.cmpInfo.exportName)}}continue}}return n=xr(t,n,r),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName,n.externalImportPath)),n}async function Qn(t,e,r,n,i,s,o,a){let u=await As(t),[c,l,p]=await Promise.all([LP(t,u),BP(t),Hc(t)]),d=c.map(b=>b.cmpInfo),f=l.components,h={components:yn(d,f),registryPath:t.registryPath,registryDisplayPath:Le(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Kn(d),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(a)return h.components=await La(t,h.components),h;let m=!1,g=l.sourceFile,y=Array.isArray(e)?e:typeof e=="string"?[e]:[];if(y.length>0){let b=y.map(x=>{let S=c.find(T=>T.cmpInfo.id===x);if(!S)throw new Error(`Component ${x} not found`);return S}),_=Array.from(new Set(b.map(x=>x.cmpInfo.filePath))),E=await Tt(t,_);for(let x of b){let S=h.components.find(re=>re.id===x.cmpInfo.id),T=await Ba(t,x,E,t.registryPath===x.cmpInfo.filePath||Zr(x.cmpInfo.filePath));Mr(S,T);let w=d.findIndex(re=>re.id===x.cmpInfo.id);d[w].inputs=T;let k=Yn(x.cmpInfo.id,d,f,r,n,i,s),{elements:R,elmIndex:U,statementIndex:ie,statement:pe,variableDeclaration:ue}=await RH(t,g,x);if(k.addCmpToRegistry)R.push(kH(t,k.addCmpToRegistry)),m=!0;else if(k.removeCmpFromRegistry)R.splice(U,1),m=!0;else if(k.updateRegisteredCmp){let re=vt(t,R[U],k.updateRegisteredCmp);R[U]=t.ts.factory.updateObjectLiteralExpression(re,[$P(t,k.updateRegisteredCmp),...re.properties.slice(1)]),m=!0}if(m&&o){let re=[...g.statements];re[ie]=t.ts.factory.updateVariableStatement(pe,pe.modifiers,t.ts.factory.updateVariableDeclarationList(pe.declarationList,[t.ts.factory.updateVariableDeclaration(ue,ue.name,ue.exclamationToken,ue.type,t.ts.factory.createArrayLiteralExpression(zn(t,R)))])),g=t.ts.factory.updateSourceFile(g,re),S.exportType==="named"?g=Ae(t,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:Pe(t,t.registryPath,S.filePath)}):g=Ae(t,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:Pe(t,t.registryPath,S.filePath)});let ke=t.sdkVersion===se.gen2?"@khulnasoft.com/sdk-react":"@khulnasoft.com/react";g=Ae(t,g,{namedImports:["RegisteredComponent"],importPath:ke,isTypeOnly:!0}),S.acceptsChildren&&t.sdkVersion!==se.gen2&&(g=Ae(t,g,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),g=Jn(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=k.components,f=k.components.filter(N=>N.isRegistered)}}}if(m&&o){g=Wn(t,g),g=Hn(t,g);let b=Ot(t,g);b=gn(b),b=await t.formatCode(t.registryPath,b),await t.writeFile(t.registryPath,b)}return h}function $P(t,e){if(t.sdkVersion===se.gen2)return t.ts.factory.createPropertyAssignment("component",t.ts.factory.createIdentifier(e.importName));let r=t.ts.factory.createIdentifier(e.importName),n=e.acceptsChildren?t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("withChildren"),void 0,[r]):r;return t.ts.factory.createPropertyAssignment("component",n)}function kH(t,e){return vt(t,t.ts.factory.createObjectLiteralExpression([$P(t,e),...e.acceptsChildren&&t.sdkVersion===se.gen2?[t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())]:[]],!0),e)}async function RH(t,e,r){let n=Et(t,e,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>t.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await rD(t,e,i[o]))?.id===r.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function UP(t){let e=[],r=await BH(t,e);return e.push(...await mf(t)),await UH(t,r),await LH(t,e),e}async function jP(t){let e=[];return e.push(...await mf(t)),await MH(t,e),e}async function MH(t,e){let r=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`;t.hasLocaleParam&&(t.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),r=`($locale).${r}`);let n=t.join(t.routesDir,r),i=await t.exists(n);t.debug(`remixEnsureFigmaImportRoute, hasRoute: ${i}`);let s=await t.formatCode(n,qP({sys:t,routePath:n,modelName:"figma-imports"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:i?"update":"create"})}async function LH(t,e){let r=`$.${t.typescriptEnabled?"tsx":"jsx"}`;t.hasLocaleParam&&(t.debug("remixEnsureAppRoute, hasLocaleParam"),r=`($locale).${r}`),t.sdkVersion===se.gen2&&(r=`($slug)._index.${t.typescriptEnabled?"tsx":"jsx"}`);let n=t.join(t.routesDir,r),i=await t.exists(n);t.debug(`remixEnsureAppRoute, hasRoute: ${i}`);let s=await t.formatCode(n,qP({sys:t,routePath:n,modelName:"page"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:i?"update":"create"})}function qP({sys:t,routePath:e,modelName:r}){let n=t.typescriptEnabled,i=Pe(t,e,t.registryPath),s="",o="";n&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",o=": LoaderArgs");let a=`process.env.${zc}`;return t.getFrameworks().some(u=>u.name==="@shopify/remix-oxygen")&&(a=`context.env.${zc}`),n&&(a+="!"),t.sdkVersion===se.gen2?`
    
import {
  Content,
  fetchOneEntry,
  getKhulnasoftSearchParams,
  isPreviewing,
} from "@khulnasoft.com/sdk-react";
${n?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
import { useLoaderData } from "@remix-run/react";
import { fetch ${n?"as webFetch":""}} from "@remix-run/web-fetch";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};

export const loader = async ({ params, request }${n?": LoaderFunctionArgs":""}) => {
  const khulnasoftApiKey = ${a};
  const url = new URL(request.url);
  const urlPath = \`/\${params["slug"] || ""}\`;

  const page = await fetchOneEntry({
    model: "${r}",
    apiKey: khulnasoftApiKey,
    options: getKhulnasoftSearchParams(url.searchParams),
    userAttributes: { urlPath },
    fetch: webFetch,
  });

  if (!page && !isPreviewing(url.search)) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText: "Page not found in Khulnasoft.com",
    });
  }

  return { page, khulnasoftApiKey };
};

// Define and render the page.
export default function Page() {
  const { page, khulnasoftApiKey } = useLoaderData${n?"<typeof loader>":""}();
  // Render the page content from Khulnasoft.com
  return (
    <Content
      model="${r}"
      apiKey={khulnasoftApiKey}
      content={page}
      customComponents={CUSTOM_COMPONENTS}
    />
  );
}
    `:`
import { KhulnasoftComponent, khulnasoft } from "@khulnasoft.com/react";
import { useLoaderData } from "@remix-run/react";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};
${s}

// Fetch contents of the page
export const loader = async ({ params, request, context }${o}) => {
  // Initialize the Khulnasoft client and pass in your Public API Key
  const khulnasoftApiKey = ${a};
  khulnasoft.init(khulnasoftApiKey);

  // Fetch data content from Khulnasoft.com based on the URL path
  const page = await khulnasoft
    .get("${r}", {
      userAttributes: {
        urlPath: "/" + params["*"],
      },
      locale: params.locale,
    })
    .toPromise();

  // Verify the user is previewing or editing in Khulnasoft
  const isPreviewing = new URL(request.url).searchParams.has("khulnasoft.preview");

  // If the page is not found and the user is not previewing, throw a 404.
  // The CatchBoundary component will catch the error
  if (!page && !isPreviewing) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText:
        "We couldn't find this page, please check your url path and if the page is published on Khulnasoft.com.",
    });
  }

  return { page, khulnasoftApiKey };
};

// Define and render the page.
export default function Page() {
  // Use the useLoaderData hook to get the Page data from "loader" above.
  const { page, khulnasoftApiKey } = useLoaderData${n?"<typeof loader>":""}();

  // Render the page content from Khulnasoft.com
  return (
    <KhulnasoftComponent
      customComponents={CUSTOM_COMPONENTS}
      apiKey={khulnasoftApiKey}
      model="${r}"
      content={page}
    />
  );
}

${n?`
declare global {
  interface Env {
    ${zc}: string;
  }
}
`:""}
`}async function BH(t,e){let n=t.typescriptEnabled?"tsx":"jsx",i=t.join(t.componentsDir,"Counter"),s=t.join(i,`Counter.${n}`),o=t.join(i,"styles.module.css"),{component:a,styles:u}=$H(t),c=await t.exists(s);if(t.debug(`remixEnsureCounterComponent, hasCounterCmp: ${c}`),!c){let p=await t.formatCode(s,a);await t.writeFile(s,p),e.push({filePath:s,modifiedType:"create"})}let l=await t.exists(o);return t.debug(`remixEnsureCounterComponent, hasCounterStyles: ${l}`),l||(await t.writeFile(o,u),e.push({filePath:o,modifiedType:"create"})),s}function $H(t){let e=t.typescriptEnabled,r=`
import { useState } from "react";
import styles from "./styles.module.css";
${e?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${e?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
  color: #1c6bd1;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}async function UH(t,e){let n=(await Qn(t,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===e);n&&await Qn(t,n.id,!0,!1,null,null,!0,!1)}async function mf(t){let e=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,jH(t)),e.push({filePath:t.registryPath,modifiedType:"create"})),e}function jH(t){let e=t.sdkVersion===se.gen2;return t.typescriptEnabled?`import type { RegisteredComponent } from ${e?'"@khulnasoft.com/sdk-react"':'"@khulnasoft.com/react"'};
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function GP(t){let e=await qH(t);return{khulnasoftPageOptions:async()=>{let n="/khulnasoft-demo",i=e.hasLocaleParam?`/en-us${n}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:n,localePathname:i,title:"Khulnasoft + Remix Demo Page"}},ensureKhulnasoftSetup:()=>UP(e),ensureFigmaImportPage:()=>jP(e),getRegistryPath:()=>e.registryPath,getRegistry:n=>Qn(e,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{e.addExternalPackage(n)},loadComponent:async n=>{let i=await Qn(e,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Qn(e,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Qn(e,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Qn(e,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Qn(e,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Hc(e),setPublicApiKey:n=>MP(e,n.publicApiKey),getDependencies:n=>n.sdkVersion===se.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>jn(e),setCache:n=>qn(e,n)}}async function qH(t){let e=await VH(t),r=t.getAppRootDir(),n=await KH(t),i=t.dirname(n),s=t.join(i,"components"),o=await kr(t),a=await Qr(t,i),u={},c={...t,registryPath:a,remixConfigPath:e,typescriptEnabled:o,appDir:i,componentsDir:s,routesDir:n,hasLocaleParam:await GH(t,n),addExternalPackage:l=>{u[t.join(r,l,"index.ts")]=`export * from "${l}";`},readFileSync:l=>u[l]??t.readFileSync(l),existsSync:l=>!!u[l]||t.existsSync(l),readdirSync:l=>{let p=t.readdirSync(l);return l===r?[...p,...Object.keys(u).map(d=>d.slice(r.length+1))]:p},readdir:async l=>{let p=await t.readdir(l);return l===r?[...p,...Object.keys(u).map(d=>d.slice(r.length+1))]:p}};return t.sdkVersion?c.sdkVersion=t.sdkVersion:c.sdkVersion=await Ua(c),c}async function GH(t,e){return(await t.readdir(e)).some(n=>n.startsWith("($locale)."))}async function VH(t){let e=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let r of e){let n=t.join(t.getAppRootDir(),r);if(await t.exists(n))return n}throw new Error(`Could not find Remix config file. Searched for ${e.join(", ")} in "${t.getAppRootDir()}".`)}async function KH(t){let e=await Lc(t,t.getAppRootDir(),"routes");if(e)return e;throw new Error(`Could not find Remix "routes" directory in "${t.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}async function Wc(t){let e=[".env"],r=t.configType==="vite"?Yc:gf;return await vs(t,e,r)}async function VP(t,e){let r=await Wc(t),n=await Ts(t,r.file,r.envKey,e);return{...r,modifiedType:n}}var Yc="VITE_PUBLIC_KHULNASOFT_KEY",gf="YOUR_PUBLIC_KHULNASOFT_KEY";function KP(t,e){let r=`Khulnasoft.registerComponent(
`;r+=`  ${e.importName},
`,r+=`  {
    name: "${e.name}",
  }
`,r+=");";let n=lf(t,r);return nD(t,n,e)}function nD(t,e,r){if(!t.ts.isExpressionStatement(e))return e;let n=e.expression;if(!t.ts.isCallExpression(n))return e;let i=[...n.arguments];if(i.length<2)return e;let s=i[1];return t.ts.isObjectLiteralExpression(s)?(i[1]=vt(t,s,r),t.ts.factory.updateExpressionStatement(e,t.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):e}async function HP(t){let e=await t.readFile(t.registryPath);return e?HH(t,e):{components:[],sourceFile:ve(t,"")}}async function HH(t,e){let r=ve(t,e);return t.sdkVersion===se.gen2?YH(t,r):zH(t,r)}async function zH(t,e){let r=[];for(let n=0;n<e.statements.length;n++){let i=e.statements[n];if(!t.ts.isExpressionStatement(i))continue;let s=i.expression;if(!t.ts.isCallExpression(s))continue;let o=s.expression;if(!t.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!t.ts.isIdentifier(a)||a.text!=="Khulnasoft"||o.name.text!=="registerComponent")continue;let c=s.arguments;if(c.length<2)continue;let l=c[1];if(!t.ts.isObjectLiteralExpression(l))continue;let p=c[0];if(t.ts.isIdentifier(p)){let d=await WH(t,e,n,p,l,!1);d&&r.push(d);continue}}return{sourceFile:e,components:Dr(r)}}async function WH(t,e,r,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:s},a=e.statements.filter(c=>t.ts.isImportDeclaration(c)),u=a.find(c=>c.importClause&&c.importClause.name?.text===n.text);if(u){let c=u.moduleSpecifier;if(!t.ts.isStringLiteral(c))return null;o.filePath=await iD(t,c.text),o.relFilePath=t.relative(t.getAppRootDir(),o.filePath),o.importPath=ze(t,o.filePath),o.name=en(t,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let c=a.find(d=>!d.importClause||!d.importClause.namedBindings||!t.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(f=>f.name.text===n.text));if(!c)return null;let l=c.moduleSpecifier;if(!t.ts.isStringLiteral(l))return null;let p=await iD(t,l.text);o.filePath=await iD(t,l.text),o.relFilePath=t.relative(t.getAppRootDir(),o.filePath),await t.exists(p)?o.importPath=ze(t,o.filePath):(o.externalImportPath=l.text,o.importPath=o.externalImportPath),o.name=Xe(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=xr(t,o,i),o.displayFilePath=Le(t,o.filePath),o.filePath&&o.exportName&&(o.id=await We(t,o.filePath,o.exportName,o.externalImportPath)),o}function iD(t,e){return Vc(t,t.normalize(t.resolve(t.dirname(t.registryPath),e)))}async function YH(t,e){let r=[],n=Et(t,e,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await sD(t,e,i);o&&(o.nodeIndex=s,r.push(o))})),{sourceFile:e,components:Dr(r)}}async function sD(t,e,r){if(!t.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};Oa(t,r)&&(n.acceptsChildren=!0);for(let s of r.properties){if(!t.ts.isPropertyAssignment(s)||!t.ts.isIdentifier(s.name))continue;if(Be(t,s)==="component"){let a,{initializer:u}=s;if(t.ts.isIdentifier(u)&&(a=u.text),!a)continue;n.name===""&&(n.name=Xe(a)),n.importName=a;let c=await Vn(t,t.registryPath,e,a);if(!c)continue;n.filePath=c.filePath,n.relFilePath=c.relFilePath,await t.exists(c.filePath)?n.importPath=ze(t,c.filePath):(n.externalImportPath=c.importPath,n.importPath=n.externalImportPath),n.displayFilePath=c.displayFilePath,n.exportType=c.exportType;let l=e.statements.filter(d=>t.ts.isImportDeclaration(d)),p=l.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!t.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=l.find(h=>!h.importClause||!h.importClause.namedBindings||!t.ts.isNamedImports(h.importClause.namedBindings)?!1:h.importClause.namedBindings.elements.some(m=>m.name.text===a));if(!d)return null;let f=d.moduleSpecifier;if(!t.ts.isStringLiteral(f))return null;n.exportName=a}continue}}return n=xr(t,n,r),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName,n.externalImportPath)),n}async function Zn(t,e,r,n,i,s,o,a){let u=await As(t),[c,l,p,d]=await Promise.all([sP(t,u),HP(t),kr(t),Wc(t)]),f=c.map(_=>_.cmpInfo),h=l.components,m={components:yn(f,h),registryPath:t.registryPath,registryDisplayPath:Le(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Kn(f),publicApiKey:d.envValue??void 0,devToolsVersion:t.version};if(a)return m.components=await La(t,m.components),m;let g=!1,y=l.sourceFile,b=Array.isArray(e)?e:typeof e=="string"?[e]:[];if(b.length>0){let _=b.map(S=>{let T=c.find(w=>w.cmpInfo.id===S);if(!T)throw new Error(`Component ${S} not found`);return T}),E=Array.from(new Set(_.map(S=>S.cmpInfo.filePath))),x=await Tt(t,E);for(let S of _){let T=m.components.find(U=>U.id===S.cmpInfo.id),w=await Ba(t,S,x,t.registryPath===S.cmpInfo.filePath||Zr(S.cmpInfo.filePath));Mr(T,w);let k=f.findIndex(U=>U.id===S.cmpInfo.id);f[k].inputs=w;let R=Yn(S.cmpInfo.id,f,h,r,n,i,s);if(t.sdkVersion===se.gen2){let{elements:U,elmIndex:ie,statementIndex:pe,statement:ue,variableDeclaration:re}=await JH(t,y,S);if(R.addCmpToRegistry)U.push(XH(t,R.addCmpToRegistry)),g=!0;else if(R.removeCmpFromRegistry)U.splice(ie,1),g=!0;else if(R.updateRegisteredCmp){let ke=vt(t,U[ie],R.updateRegisteredCmp),N=t.ts.factory.createIdentifier(R.updateRegisteredCmp.importName);U[ie]=t.ts.factory.updateObjectLiteralExpression(ke,[t.ts.factory.createPropertyAssignment("component",N),...ke.properties.slice(1)]),g=!0}if(g&&o){let ke=[...y.statements];ke[pe]=t.ts.factory.updateVariableStatement(ue,ue.modifiers,t.ts.factory.updateVariableDeclarationList(ue.declarationList,[t.ts.factory.updateVariableDeclaration(re,re.name,re.exclamationToken,re.type,t.ts.factory.createArrayLiteralExpression(zn(t,U)))])),y=t.ts.factory.updateSourceFile(y,ke),y=zP(t,R,y),y=Ae(t,y,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),y=Jn(t,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=R.components,h=R.components.filter(N=>N.isRegistered)}}else{let U=[...y.statements];R.addCmpToRegistry?(U.push(KP(t,R.addCmpToRegistry)),g=!0):R.removeCmpFromRegistry?(U.splice(R.nodeIndex,1),g=!0):R.updateRegisteredCmp&&(U[R.nodeIndex]=nD(t,U[R.nodeIndex],R.updateRegisteredCmp),g=!0),g&&o&&(y=t.ts.factory.updateSourceFile(y,U),y=Ae(t,y,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),y=zP(t,R,y),T?.acceptsChildren&&(y=Ae(t,y,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),m.components=R.components,h=R.components.filter(ie=>ie.isRegistered))}}}if(g&&o){y=Wn(t,y),y=Hn(t,y);let _=Ot(t,y);_=gn(_),_=await t.formatCode(t.registryPath,_),await t.writeFile(t.registryPath,_)}return m}async function JH(t,e,r){let n=Et(t,e,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>t.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await sD(t,e,i[o]))?.id===r.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function XH(t,e){let r=t.ts.factory.createIdentifier(e.importName);return vt(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("component",r),...e.acceptsChildren?[t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())]:[]],!0),e)}function zP(t,e,r){let n=e.addCmpToRegistry||e.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Pe(t,t.registryPath,n.filePath);n.exportType==="default"?r=Ae(t,r,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(r=Ae(t,r,{namedImports:[n.importName],importPath:i}))}return r}async function WP(t){let e=[],r=await QH(t,e);if(await XP(t,e,r),!await t.exists(t.khulnasoftComponentPath)){let n=await t.formatCode(t.khulnasoftComponentPath,JP(t,t.khulnasoftComponentPath));await t.writeFile(t.khulnasoftComponentPath,n),e.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}return e}async function YP(t){let e=[];await XP(t,e);let r=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`,n=t.join(t.componentsDir,r);if(!await t.exists(n)){let i=await t.formatCode(n,JP(t,n,"figma-imports"));await t.writeFile(n,i),e.push({filePath:n,modifiedType:"create"})}return e}function JP(t,e,r="page"){let n=t.typescriptEnabled;return t.sdkVersion===se.gen2?`
  import React from "react";
  import {
      Content,
      fetchOneEntry,
      getKhulnasoftSearchParams,
      isPreviewing,
    ${n?"type KhulnasoftContent,":""}
    } from "@khulnasoft.com/sdk-react";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Pe(t,e,t.registryPath))};

  // Khulnasoft Public API Key set in .env file
  const KHULNASOFT_API_KEY = ${t.configType==="vite"?`import.meta.env.${Yc};`:`${gf};`}
  const MODEL_NAME = "${r}";

  export default function KhulnasoftPage() {
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState${n?"<KhulnasoftContent | null>":""}(null);

  // get the page content from Khulnasoft
  React.useEffect(() => {
    fetchOneEntry({
      model: MODEL_NAME,
      apiKey: KHULNASOFT_API_KEY,
      userAttributes: {
        urlPath: window.location.pathname,
      },
      options: getKhulnasoftSearchParams(new URL(location.href).searchParams),
    })
      .then((content) => {
        if (content) {
          setContent(content);
        }
        setNotFound(!content);
      })
      .catch((err) => {
        console.log("Oops: ", err);
      });
  }, []);

  // If no page is found, return
  // a 404 page from your code.
  if (notFound && !isPreviewing()) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
  <>
    {/* Render the Khulnasoft page */}
    <Content
      content={content}
      model={MODEL_NAME}
      apiKey={KHULNASOFT_API_KEY}
      customComponents={CUSTOM_COMPONENTS}
    />
  </>
  );
}
    `:`
import React from "react";
import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react"; 
import ${JSON.stringify(Pe(t,e,t.registryPath))};

// Khulnasoft Public API Key set in .env file
${t.configType==="vite"?`khulnasoft.init(import.meta.env.${Yc}${n?"!":""})`:`khulnasoft.init("${gf}")`}

export default function KhulnasoftPage() {
  const isPreviewingInKhulnasoft = useIsPreviewing();
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState(null);

  // get the page content from Khulnasoft
  React.useEffect(() => {
    async function fetchContent() {
      const content = await khulnasoft
        .get("${r}", {
          url: window.location.pathname,
        })
        .promise();

      setContent(content);
      setNotFound(!content);

      // if the page title is found, 
      // set the document title
      if (content?.data.title) {
        document.title = content.data.title;
      }
    }
    fetchContent();
  }, []);
  
  if (content === null) {
    return;
  }
  // If no page is found, return 
  // a 404 page from your code.
  if (notFound && !isPreviewingInKhulnasoft) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
    <>
      {/* Render the Khulnasoft page */}
      <KhulnasoftComponent model="${r}" content={content} />
    </>
  );
}
`.trimStart()}async function XP(t,e,r){if(!await t.exists(t.registryPath)){if(t.sdkVersion===se.gen2){let s=ez(t);await t.writeFile(t.registryPath,s)}else await t.writeFile(t.registryPath,"");e.push({filePath:t.registryPath,modifiedType:"create"})}if(!r)return;let i=(await Zn(t,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===r);i&&await Zn(t,i.id,!0,!1,null,null,!0,!1)}async function QH(t,e){let n=t.typescriptEnabled?"tsx":"jsx",i=t.join(t.componentsDir,"Counter"),s=t.join(i,`Counter.${n}`),o=t.join(i,"styles.module.css"),{component:a,styles:u}=ZH(t);if(!await t.exists(s)){let c=await t.formatCode(s,a);await t.writeFile(s,c),e.push({filePath:s,modifiedType:"create"})}return await t.exists(o)||(await t.writeFile(o,u),e.push({filePath:o,modifiedType:"create"})),s}function ZH(t){let e=t.typescriptEnabled,r=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${e?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${e?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:r,styles:n}}function ez(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function QP(t){let e=await tz(t);return{khulnasoftPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/khulnasoft-demo",title:"Khulnasoft + React Demo Page"}),ensureKhulnasoftSetup:()=>WP(e),ensureFigmaImportPage:()=>YP(e),getRegistryPath:()=>e.registryPath,getRegistry:n=>Zn(e,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{e.addExternalPackage(n)},loadComponent:async n=>{let i=await Zn(e,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Zn(e,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Zn(e,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Zn(e,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Zn(e,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Wc(e),setPublicApiKey:n=>VP(e,n.publicApiKey),getDependencies:n=>n.sdkVersion===se.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>jn(e),setCache:n=>qn(e,n)}}async function tz(t){let e=await rz(t),r=t.getAppRootDir(),n=t.join(r,"src"),i=await kr(t),s={},o={...t,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:e,typescriptEnabled:i,configType:"",addExternalPackage:a=>{s[t.join(r,a,"index.ts")]=`export * from "${a}";`},readFileSync:a=>s[a]??t.readFileSync(a),existsSync:a=>!!s[a]||t.existsSync(a),readdirSync:a=>{let u=t.readdirSync(a);return a===r?[...u,...Object.keys(s).map(c=>c.slice(r.length+1))]:u},readdir:async a=>{let u=await t.readdir(a);return a===r?[...u,...Object.keys(s).map(c=>c.slice(r.length+1))]:u}};return t.sdkVersion?o.sdkVersion=t.sdkVersion:o.sdkVersion=await Ua(o),e.includes("webpack.config")&&(o.configType="webpack"),e.includes("vite.config")&&(o.configType="vite"),await t.exists(n)?(o.srcDir=n,o.componentsDir=t.join(n,"components"),o.registryPath=await Qr(t,n),o.khulnasoftComponentPath=t.join(o.srcDir,`khulnasoft-page.${i?"tsx":"jsx"}`)):(o.componentsDir=t.join(r,"components"),o.registryPath=await Qr(t,r),o.khulnasoftComponentPath=t.join(r,`khulnasoft-page.${i?"tsx":"jsx"}`)),o}async function rz(t){let e=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let r of e){let n=t.join(t.getAppRootDir(),r);if(await t.exists(n))return n}if(t.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${e.join(", ")} in "${t.getAppRootDir()}".`)}async function Jc(t){return await nz(t,["environment.ts"],yf)}async function ZP(t,e){let r=await Jc(t),n=await az(t,r.file,r.envKey,e);return{...r,modifiedType:n}}async function nz(t,e,r){let n={envKey:r,envValue:null,file:""};for(let i of e){let s=t.join(t.getAppRootDir(),"src","environments",i),o=await iz(t,s);if(typeof o=="string"&&o.length>0&&o!=="YOUR_API_KEY")return n.envValue=o,n.file=s,n}return n.file=t.join(t.getAppRootDir(),"src","environments",e[e.length-1]),n}async function iz(t,e){let r=await t.readFile(e);return r?sz(t,r):""}function sz(t,e){let r=ve(t,e),n="",s=Ra(t,r,"environment");if(s&&s.statement.declarationList.declarations.length>0){let a=s.statement.declarationList.declarations[0].initializer;a&&t.ts.isObjectLiteralExpression(a)&&a.properties.forEach(u=>{t.ts.isPropertyAssignment(u)&&t.ts.isIdentifier(u.name)&&u.name.text===yf&&t.ts.isStringLiteral(u.initializer)&&(n=u.initializer.text)})}return n}async function oz(t,e,r,n){let i=ve(t,e),o=Ra(t,i,"environment");if(o&&o.statement.declarationList.declarations.length>0){let a=o.statement.declarationList,u=a.declarations[0],c=u.initializer;if(c&&t.ts.isObjectLiteralExpression(c)){let l=t.ts.factory.createPropertyAssignment(t.ts.factory.createIdentifier(r),t.ts.factory.createStringLiteral(n)),p=t.ts.factory.createNodeArray([...c.properties,l]),d=t.ts.factory.updateObjectLiteralExpression(c,p),f=t.ts.factory.updateVariableDeclaration(u,u.name,u.exclamationToken,u.type,d),h=t.ts.factory.updateVariableDeclarationList(a,[f]);return t.ts.factory.updateVariableStatement(o.statement,o.statement.modifiers,h)}return null}return null}async function az(t,e,r,n){let i=await t.readFile(e);if(i)if(i.includes(r))t.debug(`"${r}" already set in ${e}`);else{t.debug(`Add "${r}" to ${e}`);let s=await oz(t,i,r,n);if(s){let o=Ot(t,s),a=await t.formatCode(e,o);await t.writeFile(e,a)}return"update"}else{t.debug(`Creating new env file with "${r}" at ${e}`);let s=`
    // https://www.khulnasoft.com/c/docs/using-your-api-key
    export const environment = {
      production: false,
      khulnasoftApiKey: "${n}",
    };
    `.trimStart(),o=await t.formatCode(e,s);return await t.writeFile(e,o),"create"}return null}var yf="khulnasoftApiKey";async function eI(t,e){let r=[],n=e.getSourceFiles(),i=e.getTypeChecker();return await Promise.all(n.map(async s=>{let o=t.basename(s.fileName);if(lz(t,s.fileName)||o.startsWith(".")||o==="node_modules"||uz.has(o))return;let a=t.normalize(s.fileName);if(a===t.registryPath)return;let u=await bf(t,i,a,s);r.push(...u)})),r.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var uz=new Set([]),cz=new Set(["node_modules"]);function lz(t,e){for(let r of cz)if(t.dirname(e).includes(r))return!0;return!1}async function tI(t,e){let r=t.extname(e).toLowerCase();if(r===".tsx"||r===".jsx"||r===".ts"||r===".js"){let n=await t.readFile(e);if(n)return pz(t,e,n)}return null}function pz(t,e,r){let n=ve(t,r);return bf(t,null,e,n)}async function bf(t,e,r,n){let i=[];r=t.normalize(r);let s=n.statements.filter(u=>t.ts.isClassDeclaration(u)&&mz(t,u)),o=await fz(t,e,r,n),a=yz(t,n);return await Promise.all(s.map(async u=>{let c=await dz(t,e,r,u,a);i.push(...c)})),i.push(...o),i}async function oD(t,e,r){if(e.node.fnNode){let{sourceFile:n,typeChecker:i}=await ka(t,e.cmpInfo.filePath,r),o=(await bf(t,i,e.cmpInfo.filePath,n)).find(a=>a.cmpInfo.id===e.cmpInfo.id);if(!o)throw new Error(`Could not find component ${e.cmpInfo.name} in ${e.cmpInfo.filePath}`);return o.cmpInfo.inputs}return[]}async function rI(t,e,r){if(!r.some(a=>!a.isRegistered))return r;let i=await Tt(t,r.map(a=>a.filePath)),s=i.getTypeChecker();return await Promise.all(r.filter(a=>!(a.name.endsWith("Page")||a.name.endsWith("Module")||a.name==="AppComponent")).map(async a=>{if(!a.isRegistered){let u=i.getSourceFile(a.filePath);if(u){let l=(await bf(t,s,a.filePath,u)).find(p=>p.cmpInfo.id===a.id);if(l){a.inputs=To(t,s,l.node.fnNode);let p=e.find(d=>d.cmpInfo.id===a.id);if(p){let d=await oD(t,p,i);Mr(a,d)}}}}return a}))}async function dz(t,e,r,n,i){let s=[],o=t.relative(t.getAppRootDir(),r),a=ze(t,r),u=n.name?.text;if(!u)return s;let c=!1;n.modifiers&&(c=n.modifiers.some(f=>f.kind===t.ts.SyntaxKind.DefaultKeyword));let l=c?"default":u,p=c?"default":"named",d=[];return n.members.forEach(f=>{if(t.ts.isPropertyDeclaration(f)){let h=t.ts.getDecorators(f);h&&h.forEach(m=>{if(hz(t,m)&&t.ts.isIdentifier(f.name)){let g="any";if(f.type&&e){let b=e.getTypeAtLocation(f.type);g=e.typeToString(b)}else g=gz(t,f.type);let y={name:f.name.text,type:i[g]?"string":g};i[g]&&(y.enum=i[g]),d.push(y)}})}}),s.push({cmpInfo:{id:await We(t,r,u),displayFilePath:Le(t,r),name:Xe(u),inputs:d,exportName:l,exportType:p,importName:u,filePath:r,relFilePath:o,importPath:a,meta:{...Ez(t,n)}},node:{name:u,fnNode:n,deps:void 0}}),s}async function fz(t,e,r,n){let i=[],s=t.relative(t.getAppRootDir(),r),o=ze(t,r);for(let a of n.statements)if(t.ts.isExportDeclaration(a)&&a.exportClause&&t.ts.isNamedExports(a.exportClause))for(let u of a.exportClause.elements){let c=u.name?.text;if(!c)continue;let l=c,p="named",d=[];if(e){let m=e.getSymbolAtLocation(u.name);if(m){let g=e.getDeclaredTypeOfSymbol(m);e.getPropertiesOfType(g).forEach(b=>{let _=b.getDeclarations();_&&_.forEach(E=>{if(t.ts.isPropertyDeclaration(E)){let x=e.getTypeAtLocation(E),S={name:b.getName(),type:bz(t,e,x)};d.push(S)}})})}}let f=t.ts.isExportSpecifier(u)&&u.parent?u.parent.parent:void 0,h;if(f){let m=f.moduleSpecifier;if(m&&t.ts.isStringLiteral(m)){let g=e?.getSymbolAtLocation(m);if(g&&g.declarations&&g.declarations.length>0){let y=g.declarations[0];(!t.ts.isSourceFile(y)||t.ts.isSourceFile(y)&&y.fileName.includes("node_modules"))&&(h=m.text)}}}i.push({cmpInfo:{id:await We(t,r,c,h),displayFilePath:Le(t,r),name:Xe(c),inputs:d,exportName:l,exportType:p,importName:c,filePath:r,relFilePath:s,importPath:h||o,externalImportPath:h},node:{name:c,fnNode:u,deps:void 0}})}return i}function hz(t,e){return nI(t,e,"Input")}function nI(t,e,r){if(t.ts.isCallExpression(e.expression)){let n=e.expression;if(t.ts.isIdentifier(n.expression))return n.expression?.text===r}return!1}function mz(t,e){return!!t.ts.getDecorators(e)?.some(i=>t.ts.isCallExpression(i.expression)&&t.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="Component")}function gz(t,e){if(!e)return"any";let r="any";switch(e.kind){case t.ts.SyntaxKind.StringKeyword:r="string";break;case t.ts.SyntaxKind.NumberKeyword:r="number";break;case t.ts.SyntaxKind.BooleanKeyword:r="boolean";break;case t.ts.SyntaxKind.TypeReference:t.ts.isTypeReferenceNode(e);break}return r.includes("|")?"string":r}function yz(t,e){let r={};return t.ts.forEachChild(e,n=>{t.ts.isTypeAliasDeclaration(n)&&t.ts.isUnionTypeNode(n.type)&&n.type.types.every(i=>t.ts.isLiteralTypeNode(i)&&t.ts.isStringLiteral(i.literal))&&(r[n.name.text]=n.type.types.map(i=>i.literal.text))}),r}function bz(t,e,r){let n=e.typeToString(r);if(n==="any"){let i=r.getSymbol();if(i){let s=i.getDeclarations();if(s&&s.length>0){let o=s[0];if(t.ts.isVariableDeclaration(o)){let a=o.type;a&&(n=e.typeToString(e.getTypeAtLocation(a)))}}}}return n}function Ez(t,e){let{getDecorators:r,isCallExpression:n,isIdentifier:i,isObjectLiteralExpression:s,isPropertyAssignment:o,isStringLiteral:a,SyntaxKind:u}=t.ts,c,l;return r(e)?.forEach(d=>{if(nI(t,d,"Component")){let{expression:f}=d;if(n(f)){let[h]=f.arguments;s(h)&&h.properties.forEach(m=>{o(m)&&i(m.name)&&(m.name.escapedText==="selector"&&a(m.initializer)&&(c=m.initializer.text),m.name.escapedText==="standalone"&&(l=m.initializer.kind===u.TrueKeyword))})}}}),{selector:c,standalone:l}}async function Ef(t,e,r){let n=t.typescriptEnabled?".ts":".js",i=`app.module${n}`,s=t.join(t.appDir,i),o=await t.readFile(s);if(!o){console.error(`Unable to read app.module.${n} at ${s}`);return}let a=await Dz(t,s,e,r,o);if(!a){console.error(`Unable to update app.module.${n} at ${s}`);return}return await t.writeFile(s,a),s}async function Dz(t,e,r,n,i){let s=i,o=ve(t,i),a=Pe(t,e,n);o=Ae(t,o,{namedImports:[r],importPath:a}),o=Ae(t,o,{namedImports:["Content"],importPath:"@khulnasoft.com/sdk-angular"});let u=[];for(let c of o.statements)if(t.ts.isClassDeclaration(c)&&c.name?.text==="AppModule"){let l=xz(t,r,c);u.push(l)}else u.push(c);return o=t.ts.factory.updateSourceFile(o,u),s=Ot(t,o),s}function xz(t,e,r){let n=t.ts.getDecorators(r);if(n){for(let i of n)if(t.ts.isCallExpression(i.expression)&&t.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="NgModule"){let s=i.expression.arguments;if(s.length===1&&t.ts.isObjectLiteralExpression(s[0])){let o=iI(t,s[0],"declarations",e);if(o){let a=iI(t,o,"imports","Content");if(a&&(o=a),o){let u=t.ts.factory.updateDecorator(i,t.ts.factory.updateCallExpression(i.expression,i.expression.expression,i.expression.typeArguments,[o])),l=[...n.map(p=>p===i?u:p),...t.ts.getModifiers(r)||[]];return t.ts.factory.updateClassDeclaration(r,l,r.name,r.typeParameters,r.heritageClauses,r.members)}}}}}return r}function iI(t,e,r,n){let i=[...e.properties],s=i.findIndex(a=>Be(t,a)===r);if(s>-1){let a=i[s];if(t.ts.isPropertyAssignment(a)&&a.initializer&&t.ts.isArrayLiteralExpression(a.initializer)){let u=sI(t,a.initializer,n);return u?(i[s]=t.ts.factory.updatePropertyAssignment(a,a.name,u),t.ts.factory.updateObjectLiteralExpression(e,i)):null}return null}let o=sI(t,t.ts.factory.createArrayLiteralExpression([],!0),n);return o?t.ts.factory.updateObjectLiteralExpression(e,[...i,t.ts.factory.createPropertyAssignment(r,o)]):null}function sI(t,e,r){return e.elements.some(i=>t.ts.isIdentifier(i)?i.text===r:!1)?null:t.ts.factory.updateArrayLiteralExpression(e,[...e.elements,t.ts.factory.createIdentifier(r)])}async function aD(t,e,r,n){var i;try{if(t.magicast){let o=`app.routes${t.typescriptEnabled?".ts":".js"}`,a=t.join(t.appDir,o),u=await t.magicast.loadFile(a);(i=u.exports).routes||(i.routes=[]);let c=u.exports.routes;if(c.find(p=>p.path===e))return;let l=t.magicast.khulnasofts.raw("{}");if(l.path=e,l.component=t.magicast.khulnasofts.raw(r),c.push(l),u.imports.$items.find(p=>p.imported===r))return;u.imports.$append({imported:r,from:n}),await t.magicast.writeFile(u,a)}}catch(s){console.error(s)}}var yI=Y(gI(),1);async function bI(t){let e=t.ts.findConfigFile(t.getAppRootDir(),t.existsSync);if(e){let r=await t.readFile(e);if(!r)return;let n=yI.default.parse(r);if(!n||typeof n!="object"||Array.isArray(n))return;let i=n.compilerOptions;if(!i||typeof i!="object"||Array.isArray(i))return;let s=i.paths;(!s||typeof s!="object"||Array.isArray(s))&&(i.paths={},s=i.paths),Object.assign(i.paths,{"~/*":["./src/*"]}),await t.writeFile(e,JSON.stringify(n,null,2))}}async function EI(t){let e=[],r=await Fz(t,e);e.push(...await Cf(t)),await Iz(t,r);let n="KhulnasoftPage";if(!await t.exists(t.khulnasoftPageComponentPath)){let i=await t.formatCode(t.khulnasoftPageComponentPath,xI(t,n,t.khulnasoftPageComponentPath,"khulnasoft-page","page",!0));await t.writeFile(t.khulnasoftPageComponentPath,i),e.push({filePath:t.khulnasoftPageComponentPath,modifiedType:"create"})}if(t.hasAppModule){await Ef(t,"Counter",r);let i=await Ef(t,n,t.khulnasoftPageComponentPath);i&&e.push({filePath:i,modifiedType:"update"})}return await aD(t,"**",n,"./components/khulnasoft-page.component"),e}async function DI(t){let e=[];e.push(...await Cf(t));let r="FigmaImportsPage",n="figma-imports.component",i=t.join(t.componentsDir,`${n}.${t.typescriptEnabled?"ts":"js"}`);if(!await t.exists(i)){let s=await t.formatCode(i,xI(t,r,i,"figma-imports","figma-imports",!1));await t.writeFile(i,s),e.push({filePath:i,modifiedType:"create"})}if(t.hasAppModule){let s=await Ef(t,r,i);s&&e.push({filePath:s,modifiedType:"update"})}return await aD(t,"figma-imports",r,`./components/${n}`),await bI(t),e}async function Cf(t){let e=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,Nz(t)),e.push({filePath:t.registryPath,modifiedType:"create"})),e}async function Iz(t,e){let n=(await ei(t,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===e);n&&await ei(t,n.id,!0,!1,null,null,!0,!1)}function xI(t,e,r,n,i,s){let o=!t.hasAppModule,a=Pe(t,r,t.registryPath),u=t.join(t.getAppRootDir(),"src","environments","environment.ts"),c=Pe(t,r,u),l=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
      <khulnasoft-content
        [model]="model"
        [content]="content"
        [apiKey]="apiKey"
        [customComponents]="customComponents"
      ></khulnasoft-content>
    </ng-container>

    <ng-template #notFound>
      <div>404 - Content not found</div>
    </ng-template>`:`    <khulnasoft-content
      [model]="model"
      [content]="content"
      [apiKey]="apiKey"
      [customComponents]="customComponents"
    ></khulnasoft-content>`;return`
import { Component, Input } from '@angular/core';
import { fetchOneEntry, type KhulnasoftContent${s?", isPreviewing":""} } from '@khulnasoft.com/sdk-angular';
${o?"import { Content } from '@khulnasoft.com/sdk-angular';":""}
${o?"import { CommonModule } from '@angular/common';":""}
import { environment } from ${JSON.stringify(c)};
import { CUSTOM_COMPONENTS } from ${JSON.stringify(a)};

@Component({
  selector: 'app-${n}',
  ${o?"standalone: true,":""}
  ${o?"imports: [Content, CommonModule],":""}
  template: \`
${l}
  \`,
})
export class ${e} {
  
  ${s?`isPreviewing = isPreviewing();
`:""}
  @Input() model = '${i}';

  apiKey = environment.${yf};
  ${t.typescriptEnabled?`
  content: KhulnasoftContent | null = null;
`:`
  content = null;
`}

  customComponents = CUSTOM_COMPONENTS;

  async ngOnInit() {
    const urlPath = window.location.pathname || '/';

    const khulnasoftContent = await fetchOneEntry({
      model: this.model,
      apiKey: this.apiKey,
      userAttributes: {
        urlPath,
      },
    });

    if (!khulnasoftContent) {
      return;
    }

    this.content = khulnasoftContent;
  }
}

  `.trimStart()}function Nz(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-angular";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function Fz(t,e){let n=t.typescriptEnabled?"ts":"js",i=t.join(t.componentsDir,`counter.component.${n}`),s=await t.exists(i);t.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let o=Oz(t);if(!s){let a=await t.formatCode(i,o);await t.writeFile(i,a),e.push({filePath:i,modifiedType:"create"})}return i}function Oz(t){return`
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-counter',
  ${t.hasAppModule?"":"standalone: true,"}
  template: \`
    <div class="counter">
      <button class="btn" (click)="decrement()">-</button>
      <span class="count">{{ count }}</span>
      <button class="btn" (click)="increment()">+</button>
    </div>
  \`,
  styles: [
    \`
      .counter {
        margin: 32px auto;
        display: flex;
        width: 100%;
        max-width: 190px;
      }

      .btn {
        width: 42px;
        font-size: 32px;
        font-weight: bold;
        background-color: #1c6bd1;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        line-height: 1.4;
      }

      .btn:hover {
        opacity: 0.8;
      }

      .count {
        flex: 1;
        font-size: 42px;
        text-align: center;
        margin: 0 8px;
      }
    \`,
  ],
})
export class Counter {
  @Input() initialCount: number = 99;
  count: number;

  constructor() {
    this.count = this.initialCount;
  }

  ngOnInit(): void {
    this.count = this.initialCount;
  }

  increment(): void {
    this.count += 1;
  }

  decrement(): void {
    this.count -= 1;
  }
}

`.trimStart()}async function SI(t){await Cf(t);let e=await t.readFile(t.registryPath);return e?kz(t,e):{components:[],sourceFile:ve(t,"")}}async function kz(t,e){let r=ve(t,e);return Rz(t,r)}async function Rz(t,e){let r=[],n=Et(t,e,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await gD(t,e,i);o&&(o.nodeIndex=s,r.push(o))})),{sourceFile:e,components:Dr(r)}}async function gD(t,e,r){if(!t.ts.isObjectLiteralExpression(r))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let i of r.properties){if(!t.ts.isPropertyAssignment(i)||!t.ts.isIdentifier(i.name))continue;if(Be(t,i)==="component"){let o,{initializer:a}=i;if(t.ts.isIdentifier(a))o=a.text;else if(t.ts.isCallExpression(a)){let c=a.arguments[0];t.ts.isIdentifier(c)&&(o=c.text)}if(!o)continue;n.name===""&&(n.name=Xe(o)),n.importName=o;let u=await Vn(t,t.registryPath,e,o);if(!u)continue;if(n.filePath=u.filePath,n.relFilePath=u.relFilePath,await t.exists(u.filePath)?n.importPath=ze(t,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType,n.externalImportPath)n.exportName=o;else{let c=await tI(t,u.filePath);if(c&&c.length>0)if(c.length===1)n.exportName=c[0].cmpInfo.exportName;else{let l=c.find(p=>p.cmpInfo.exportName===o);l&&(n.exportName=l.cmpInfo.exportName)}}continue}}return n=xr(t,n,r),n.filePath&&n.exportName&&(n.id=await We(t,n.filePath,n.exportName,n.externalImportPath)),n}async function ei(t,e,r,n,i,s,o,a){let u=await As(t),[c,l,p]=await Promise.all([eI(t,u),SI(t),Jc(t)]),d=c.map(b=>b.cmpInfo),f=l.components,h={components:yn(d,f),registryPath:t.registryPath,registryDisplayPath:Le(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Kn(d),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(a)return h.components=await rI(t,c,h.components),h;let m=!1,g=l.sourceFile,y=Array.isArray(e)?e:typeof e=="string"?[e]:[];if(y.length>0){let b=y.map(x=>{let S=c.find(T=>T.cmpInfo.id===x);if(!S)throw new Error(`Component ${x} not found`);return S}),_=Array.from(new Set(b.map(x=>x.cmpInfo.filePath))),E=await Tt(t,_);for(let x of b){let S=h.components.find(re=>re.id===x.cmpInfo.id),T=await oD(t,x,E);Mr(S,T);let w=d.findIndex(re=>re.id===x.cmpInfo.id);d[w].inputs=T;let k=Yn(x.cmpInfo.id,d,f,r,n,i,s),{elements:R,elmIndex:U,statementIndex:ie,statement:pe,variableDeclaration:ue}=await Lz(t,g,x);if(k.addCmpToRegistry)R.push(Mz(t,k.addCmpToRegistry)),m=!0;else if(k.removeCmpFromRegistry)R.splice(U,1),m=!0;else if(k.updateRegisteredCmp){let re=vt(t,R[U],k.updateRegisteredCmp);R[U]=t.ts.factory.updateObjectLiteralExpression(re,[_I(t,k.updateRegisteredCmp),...re.properties.slice(1)]),m=!0}if(m&&o){let re=[...g.statements];re[ie]=t.ts.factory.updateVariableStatement(pe,pe.modifiers,t.ts.factory.updateVariableDeclarationList(pe.declarationList,[t.ts.factory.updateVariableDeclaration(ue,ue.name,ue.exclamationToken,ue.type,t.ts.factory.createArrayLiteralExpression(zn(t,R)))])),g=t.ts.factory.updateSourceFile(g,re),S.exportType==="named"?g=Ae(t,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:Pe(t,t.registryPath,S.filePath)}):g=Ae(t,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:Pe(t,t.registryPath,S.filePath)}),g=Ae(t,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-angular",isTypeOnly:!0}),g=Jn(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=k.components,f=k.components.filter(ke=>ke.isRegistered)}}}if(m&&o){g=Wn(t,g),g=Hn(t,g);let b=Ot(t,g);b=gn(b),b=await t.formatCode(t.registryPath,b),await t.writeFile(t.registryPath,b)}return h}function _I(t,e){let r=t.ts.factory.createIdentifier(e.importName);return t.ts.factory.createPropertyAssignment("component",r)}function Mz(t,e){return vt(t,t.ts.factory.createObjectLiteralExpression([_I(t,e)],!0),e)}async function Lz(t,e,r){let n=Et(t,e,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>t.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await gD(t,e,i[o]))?.id===r.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function CI(t){let e=await Bz(t),r={};return{khulnasoftPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/khulnasoft-demo",title:"Khulnasoft + Angular Demo Page"}),ensureKhulnasoftSetup:()=>EI(e),ensureFigmaImportPage:()=>DI(e),getRegistryPath:()=>e.registryPath,getRegistry:i=>ei(e,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:async i=>{r[i]||(r[i]=`export * from "${i}";`)},loadComponent:async i=>{let s=await ei(e,i.cmpId,!1,!1,null,null,!1,!1);return{...s,component:s.components.find(o=>o.id===i.cmpId)}},registerComponent:i=>ei(e,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>ei(e,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>ei(e,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>ei(e,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Jc(e),setPublicApiKey:i=>ZP(e,i.publicApiKey),getDependencies:i=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"khulnasoft-dev",getCache:()=>jn(e),setCache:i=>qn(e,i)}}async function Bz(t){let e=await $z(t),r=t.getAppRootDir(),n=t.join(r,"src"),i=await kr(t),s=t.join(n,"app"),o=await Qr(t,s),a={...t,srcDir:"",appDir:"",componentsDir:"",registryPath:o,angularConfigPath:e,typescriptEnabled:i,khulnasoftPageComponentPath:"",hasAppModule:!1};if(!await t.exists(n))throw new Error(`Could not find src directory. Searched for src in "${t.getAppRootDir()}".`);a.srcDir=n,a.appDir=s,a.componentsDir=t.join(a.appDir,"components"),a.khulnasoftPageComponentPath=t.join(a.componentsDir,`khulnasoft-page.component.${i?"ts":"js"}`);let u=`app.module.${i?"ts":"js"}`,c=t.join(a.appDir,u);return await t.exists(c)&&(a.hasAppModule=!0),a}async function $z(t){let e=t.join(t.getAppRootDir(),"angular.json");if(await t.exists(e))return e;let r=t.join(t.getAppRootDir(),"project.json");if(await t.exists(r))return r;throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${t.getAppRootDir()}".`)}var If=Y(LI(),1);async function BI(t,e){let n={components:(await e.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let o={filePath:mn(t.relative(t.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:Rr(s.inputs)};return Rr(o)}),version:1};t.debug("exporting registry components:",n.components.length);let i=(0,If.compress)(n);return btoa(JSON.stringify(i))}async function $I(t,e,r){if(typeof r!="string")throw new Error("Invalid registry to import");let n=await e.getRegistry(),i=JSON.parse(atob(r)),s=(0,If.decompress)(i),o=Rr(n);t.debug("importing registry components:",s.components.length);for(let a of s.components){let u=mn(t.normalize(a.filePath)),c=n.components.find(p=>mn(p.filePath).endsWith(u)&&p.exportName===a.exportName);if(!c){console.error(`Could not find component to register: ${a.filePath}, ${a.exportName}`);continue}t.debug(`register (${c.id})`,c.filePath),await e.registerComponent({cmpId:c.id});for(let p of a.inputs)t.debug(`set input (${c.id})`),await e.setRegisteredComponentInput({cmpId:c.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});t.debug(`set input (${c.id}) info`);let l=await e.setRegisteredComponentInfo({cmpId:c.id,name:a.name,image:a.image,description:a.description});o=Rr(l)}return o}var En={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik"},jhe={[En.react]:[{version:se.gen1,recommended:!0},{version:se.gen2,recommended:!1}],[En.remix]:[{version:se.gen1,recommended:!1},{version:se.gen2,recommended:!0}],[En.angular]:[{version:se.gen2,recommended:!0}],[En.next]:[{version:se.gen1,recommended:!0},{version:se.gen2,recommended:!1}],[En.qwik]:[{version:se.gen2,recommended:!0}]};async function UI(t,e){let r=[],n=new Set;async function i(a){let u=t.join(a,"package.json");try{let c=await t.readFile(u);if(c===null)throw new Error(`Failed to read package.json at ${u}`);let l=JSON.parse(c);if(n.has(l.name))return null;n.add(l.name);let p={name:l.name,subPackages:[]},d=await t.readdir(a);for(let f of d)f!=="node_modules"&&(await t.stat(t.join(a,f))).isDirectory()&&p.subPackages.push(f);return r.push(p),p}catch(c){return console.error(`Error reading package.json at ${a}:`,c),null}}let s=t.join(e,"package.json"),o=await t.readFile(s);if(o!==null){let a=JSON.parse(o),u={...a.dependencies,...a.devDependencies};for(let c of Object.keys(u)){let l=t.join(e,"node_modules",c);await i(l)}if(a.workspaces)for(let c of a.workspaces){let l=await t.readdir(t.join(e,c));for(let p of l){let d=t.join(e,c,p);await i(d)}}}return r}var cW={"@khulnasoft.com/qwik-city":RP,next:CP,"@remix-run/react":GP,react:QP,"@angular/core":CI},lW={"@khulnasoft.com/qwik-city":En.qwik,next:En.next,"@remix-run/react":En.remix,react:En.react,"@angular/core":En.angular};async function Ns(t){if(!t.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!t.frameworks||t.frameworks.length===0)&&(t.frameworks=await vo(t)),t.frameworks.length===0)throw new Error(`Supported Devtools framework for not found within ${t.getAppRootDir()}`);for(let e of t.frameworks){let r=cW[e.name];if(r){if(e.name==="next"&&await UA(t))throw new Error("Turbopack does not support the Khulnasoft.com devtools cli. Please disable Turbopack or manually integrate Khulnasoft.com into your Next.js project.");let n=await r(t);return{...n,exportRegistry:()=>BI(t,n),importRegistry:s=>$I(t,n,s),framework:lW[e.name],findAllDependencies:async()=>await UI(t,t.getRepoRootDir())}}}throw new Error(`Devtools framework not found for ${t.getAppRootDir()}, ${JSON.stringify(t.frameworks,null,2)}`)}var Rme=`
/** @type {import('next').NextConfig} */
const nextConfig = {
}
 
module.exports = nextConfig
`.trimStart();var ym=Y(mO(),1),sp=Y(require("fs"),1);function dX(t){let e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",h=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:m,keyword:h,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[x,p,a,r,t.C_BLOCK_COMMENT_MODE,l,c],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:S.concat([{begin:/\(/,end:/\)/,keywords:E,contains:S.concat(["self"]),relevance:0}]),relevance:0},w={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:E,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,c,l,a,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,c,l,a]}]},a,r,t.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,w,x,S,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:E,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function gO(t){let e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=dX(t),n=r.keywords;return n.type=[...n.type,...e.type],n.literal=[...n.literal,...e.literal],n.built_in=[...n.built_in,...e.built_in],n._hints=e._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function yO(t){let e=t.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});let i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,r,i]};i.contains.push(o);let a={match:/\\"/},u={className:"string",begin:/'/,end:/'/},c={match:/\\'/},l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,r]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=t.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},h=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],m=["true","false"],g={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],E=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:h,literal:m,built_in:[...y,...b,"set","shopt",..._,...E]},contains:[d,t.SHEBANG(),f,l,t.HASH_COMMENT_MODE,s,g,o,a,u,c,r]}}function bO(t){let e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",g={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[p,a,r,t.C_BLOCK_COMMENT_MODE,l,c],b={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:g,contains:y.concat([{begin:/\(/,end:/\)/,keywords:g,contains:y.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:g,relevance:0},{begin:f,returnBegin:!0,contains:[t.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,c,l,a,{begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,c,l,a]}]},a,r,t.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:g,disableAutodetect:!0,illegal:"</",contains:[].concat(b,_,y,[p,{begin:t.IDENT_RE+"::",keywords:g},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:p,strings:c,keywords:g}}}function EO(t){let e=t.regex,r=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",h=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:m,keyword:h,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[x,p,a,r,t.C_BLOCK_COMMENT_MODE,l,c],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:S.concat([{begin:/\(/,end:/\)/,keywords:E,contains:S.concat(["self"]),relevance:0}]),relevance:0},w={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:E,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[r,t.C_BLOCK_COMMENT_MODE,c,l,a,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",r,t.C_BLOCK_COMMENT_MODE,c,l,a]}]},a,r,t.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,w,x,S,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:E,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function DO(t){let e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:n},a=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},l=t.inherit(c,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:o},d=t.inherit(p,{illegal:/\n/}),f={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,d]},h={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},m=t.inherit(h,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]});p.contains=[h,f,c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.C_BLOCK_COMMENT_MODE],d.contains=[m,f,l,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let g={variants:[h,f,c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},b=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,u,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[g,u,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},_]}}var fX=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),hX=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],mX=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],gX=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],yX=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],bX=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function xO(t){let e=t.regex,r=fX(t),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+gX.join("|")+")"},{begin:":(:)?("+yX.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+bX.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:mX.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+hX.join("|")+")\\b"}]}}function SO(t){let e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function _O(t){let s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:t.C_NUMBER_RE+"[i]",relevance:1},t.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function CO(t){let e=t.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(r,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function vO(t){let e=t.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},n=t.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[n,s,i,o,r,"self"],relevance:0},u=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,l=/'[^']*'/,p=e.either(u,c,l),d=e.concat(p,"(\\s*\\.\\s*",p,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[n,a,s,i,o,r]}}]}}var Ha="[0-9](_*[0-9])*",zf=`\\.(${Ha})`,Wf="[0-9a-fA-F](_*[0-9a-fA-F])*",TO={className:"number",variants:[{begin:`(\\b(${Ha})((${zf})|\\.)?|(${zf}))[eE][+-]?(${Ha})[fFdD]?\\b`},{begin:`\\b(${Ha})((${zf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${zf})[fFdD]?\\b`},{begin:`\\b(${Ha})[fFdD]\\b`},{begin:`\\b0[xX]((${Wf})\\.?|(${Wf})?\\.(${Wf}))[pP][+-]?(${Ha})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Wf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function wO(t,e,r){return r===-1?"":t.replace(e,n=>wO(t,e,r-1))}function AO(t){let e=t.regex,r="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",n=r+wO("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},l={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,TO,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},TO,c]}}var PO="[A-Za-z$_][0-9A-Za-z$_]*",EX=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],DX=["true","false","null","undefined","NaN","Infinity"],IO=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],NO=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],FO=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],xX=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],SX=[].concat(FO,IO,NO);function OO(t){let e=t.regex,r=(B,{after:J})=>{let P="</"+B[0].slice(1);return B.input.indexOf(P,J)!==-1},n=PO,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,J)=>{let P=B[0].length+B.index,F=B.input[P];if(F==="<"||F===","){J.ignoreMatch();return}F===">"&&(r(B,{after:P})||J.ignoreMatch());let L,V=B.input.substring(P);if(L=V.match(/^\s*=/)){J.ignoreMatch();return}if((L=V.match(/^\s+extends\s+/))&&L.index===0){J.ignoreMatch();return}}},a={$pattern:PO,keyword:EX,literal:DX,built_in:SX,"variable.language":xX},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},m={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,h,m,g,{match:/\$\d+/},p];d.contains=_.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(_)});let E=[].concat(b,d.contains),x=E.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(E)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},T={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...IO,...NO]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},U={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ie(B){return e.concat("(?!",B.join("|"),")")}let pe={match:e.concat(/\b/,ie([...FO,"super","import"]),n,e.lookahead(/\(/)),className:"title.function",relevance:0},ue={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},re={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},ke="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(ke)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,h,m,g,b,{match:/\$\d+/},p,w,{className:"attr",begin:n+e.lookahead(":"),relevance:0},N,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:ke,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},ue,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},pe,U,T,re,{match:/\$[(.]/}]}}function kO(t){let e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",keywords:{literal:n},contains:[e,r,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var za="[0-9](_*[0-9])*",Yf=`\\.(${za})`,Jf="[0-9a-fA-F](_*[0-9a-fA-F])*",_X={className:"number",variants:[{begin:`(\\b(${za})((${Yf})|\\.)?|(${Yf}))[eE][+-]?(${za})[fFdD]?\\b`},{begin:`\\b(${za})((${Yf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Yf})[fFdD]?\\b`},{begin:`\\b(${za})[fFdD]\\b`},{begin:`\\b0[xX]((${Jf})\\.?|(${Jf})?\\.(${Jf}))[pP][+-]?(${za})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Jf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function RO(t){let e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},c=_X,l=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),p={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=p;return d.variants[1].contains=[p],p.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,l,r,n,a,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[p,t.C_LINE_COMMENT_MODE,l],relevance:0},t.C_LINE_COMMENT_MODE,l,a,u,o,t.C_NUMBER_MODE]},l]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,u]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}var CX=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),vX=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],TX=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],MO=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],LO=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],wX=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),AX=MO.concat(LO);function BO(t){let e=CX(t),r=AX,n="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],u=function(_){return{className:"string",begin:"~?"+_+".*?"+_}},c=function(_,E,x){return{className:_,begin:E,relevance:x}},l={$pattern:/[a-z-]+/,keyword:n,attribute:TX.join(" ")},p={begin:"\\(",end:"\\)",contains:a,keywords:l,relevance:0};a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,u("'"),u('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,p,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);let d=a.concat({begin:/\{/,end:/\}/,contains:o}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},h={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+wX.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},m={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:l,returnEnd:!0,contains:a,relevance:0}},g={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,f,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+vX.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+MO.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+LO.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},e.FUNCTION_DISPATCH]},b={begin:i+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[y]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,m,g,b,h,y,f,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function $O(t){let e="\\[=*\\[",r="\\]=*\\]",n={begin:e,end:r,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,r,{contains:[n],relevance:10})];return{name:"Lua",keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:r,contains:[n],relevance:5}])}}function UO(t){let e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,r,n,i,s,o]}}function jO(t){let e=t.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},l={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=t.inherit(c,{contains:[]}),d=t.inherit(l,{contains:[]});c.contains.push(d),l.contains.push(p);let f=[r,u];return[c,l,p,d].forEach(g=>{g.contains=g.contains.concat(f)}),f=f.concat(c,l),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},r,s,c,l,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,n,u,o]}}function qO(t){let e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},u={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+u.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:u,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function GO(t){let e=t.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:r.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},u=[t.BACKSLASH_ESCAPE,s,a],c=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],l=(f,h,m="\\1")=>{let g=m==="\\1"?m:e.concat(m,h);return e.concat(e.concat("(?:",f,")"),h,/(?:\\.|[^\\\/])*?/,g,/(?:\\.|[^\\\/])*?/,m,n)},p=(f,h,m)=>e.concat(e.concat("(?:",f,")"),h,/(?:\\.|[^\\\/])*?/,m,n),d=[a,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:l("s|tr|y",e.either(...c,{capture:!0}))},{begin:l("s|tr|y","\\(","\\)")},{begin:l("s|tr|y","\\[","\\]")},{begin:l("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",e.either(...c,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:d}}function VO(t){let e=t.regex,r=/(?![A-Za-z0-9])(?![$])/,n=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),s={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=t.inherit(t.APOS_STRING_MODE,{illegal:null}),c=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(a)}),l={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(pe,ue)=>{ue.data._beginMatch=pe[1]||pe[2]},"on:end":(pe,ue)=>{ue.data._beginMatch!==pe[1]&&ue.ignoreMatch()}},p=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),d=`[ 	
]`,f={scope:"string",variants:[c,u,l,p]},h={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:g,literal:(pe=>{let ue=[];return pe.forEach(re=>{ue.push(re),re.toLowerCase()===re?ue.push(re.toUpperCase()):ue.push(re.toLowerCase())}),ue})(m),built_in:y},E=pe=>pe.map(ue=>ue.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,e.concat(d,"+"),e.concat("(?!",E(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},S=e.concat(n,"\\b(?!\\()"),T={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),S],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),S],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},w={scope:"attr",match:e.concat(n,e.lookahead(":"),e.lookahead(/(?!::)/))},k={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[w,s,T,t.C_BLOCK_COMMENT_MODE,f,h,x]},R={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",E(g).join("\\b|"),"|",E(y).join("\\b|"),"\\b)"),n,e.concat(d,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[k]};k.contains.push(R);let U=[w,T,t.C_BLOCK_COMMENT_MODE,f,h,x],ie={begin:e.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...U]},...U,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:_,contains:[ie,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,R,T,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",s,T,t.C_BLOCK_COMMENT_MODE,f,h]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},f,h]}}function KO(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function HO(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function zO(t){let e=t.regex,r=/[\p{XID_Start}_]\p{XID_Continue}*/u,n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},l={begin:/\{\{/,relevance:0},p={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,l,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",f=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,h=`\\b|${n.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${f}))[eE][+-]?(${d})[jJ]?(?=${h})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${h})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${h})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${h})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${h})`},{begin:`\\b(${d})[jJ](?=${h})`}]},g={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",u,m,p,t.HASH_COMMENT_MODE]}]};return c.contains=[p,m,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[u,m,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},p,g,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,y,p]}]}}function WO(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function YO(t){let e=t.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[s,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function JO(t){let e=t.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(n,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},u={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],l={className:"subst",begin:/#\{/,end:/\}/,keywords:o},p={className:"string",contains:[t.BACKSLASH_ESCAPE,l],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,l]})]}]},d="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",h={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},S=[p,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:r}],relevance:0},h,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,l],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(u,c),relevance:0}].concat(u,c);l.contains=S,m.contains=S;let R=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:S}}];return c.unshift(u),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(R).concat(c).concat(S)}}function XO(t){let e=t.regex,r={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,t.IDENT_RE,e.lookahead(/\s*\(/))},n="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:a,keyword:i,literal:s,built_in:o},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+n},{begin:"\\b0o([0-7_]+)"+n},{begin:"\\b0x([A-Fa-f0-9_]+)"+n},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+n}],relevance:0},{begin:[/fn/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,t.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},r]}}var PX=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),IX=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],NX=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],FX=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],OX=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],kX=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function QO(t){let e=PX(t),r=OX,n=FX,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+IX.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+kX.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:NX.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function ZO(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function ek(t){let e=t.regex,r=t.COMMENT("--","$"),n={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],l=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=l,h=[...c,...u].filter(_=>!l.includes(_)),m={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},g={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={begin:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function b(_,{exceptions:E,when:x}={}){let S=x;return E=E||[],_.map(T=>T.match(/\|\d+$/)||E.includes(T)?T:S(T)?`${T}|0`:T)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:b(h,{when:_=>_.length<3}),literal:s,type:a,built_in:p},contains:[{begin:e.either(...d),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:h.concat(d),literal:s,type:a}},{className:"type",begin:e.either(...o)},y,m,n,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,r,g]}}function ik(t){return t?typeof t=="string"?t:t.source:null}function Xf(t){return Ge("(?=",t,")")}function Ge(...t){return t.map(r=>ik(r)).join("")}function RX(t){let e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Cr(...t){return"("+(RX(t).capture?"":"?:")+t.map(n=>ik(n)).join("|")+")"}var qx=t=>Ge(/\b/,t,/\w$/.test(t)?/\b/:/\B/),MX=["Protocol","Type"].map(qx),tk=["init","self"].map(qx),LX=["Any","Self"],$x=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],rk=["false","nil","true"],BX=["assignment","associativity","higherThan","left","lowerThan","none","right"],$X=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],nk=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],sk=Cr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),ok=Cr(sk,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Ux=Ge(sk,ok,"*"),ak=Cr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Qf=Cr(ak,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Wi=Ge(ak,Qf,"*"),jx=Ge(/[A-Z]/,Qf,"*"),UX=["attached","autoclosure",Ge(/convention\(/,Cr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Ge(/objc\(/,Wi,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultKhulnasoft","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],jX=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function uk(t){let e={match:/\s+/,relevance:0},r=t.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[t.C_LINE_COMMENT_MODE,r],i={match:[/\./,Cr(...MX,...tk)],className:{2:"keyword"}},s={match:Ge(/\./,Cr(...$x)),relevance:0},o=$x.filter(Re=>typeof Re=="string").concat(["_|0"]),a=$x.filter(Re=>typeof Re!="string").concat(LX).map(qx),u={variants:[{className:"keyword",match:Cr(...a,...tk)}]},c={$pattern:Cr(/\b\w+/,/#\w+/),keyword:o.concat($X),literal:rk},l=[i,s,u],p={match:Ge(/\./,Cr(...nk)),relevance:0},d={className:"built_in",match:Ge(/\b/,Cr(...nk),/(?=\()/)},f=[p,d],h={match:/->/,relevance:0},m={className:"operator",relevance:0,variants:[{match:Ux},{match:`\\.(\\.|${ok})+`}]},g=[h,m],y="([0-9]_*)+",b="([0-9a-fA-F]_*)+",_={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${b})(\\.(${b}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},E=(Re="")=>({className:"subst",variants:[{match:Ge(/\\/,Re,/[0\\tnr"']/)},{match:Ge(/\\/,Re,/u\{[0-9a-fA-F]{1,8}\}/)}]}),x=(Re="")=>({className:"subst",match:Ge(/\\/,Re,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(Re="")=>({className:"subst",label:"interpol",begin:Ge(/\\/,Re,/\(/),end:/\)/}),T=(Re="")=>({begin:Ge(Re,/"""/),end:Ge(/"""/,Re),contains:[E(Re),x(Re),S(Re)]}),w=(Re="")=>({begin:Ge(Re,/"/),end:Ge(/"/,Re),contains:[E(Re),S(Re)]}),k={className:"string",variants:[T(),T("#"),T("##"),T("###"),w(),w("#"),w("##"),w("###")]},R=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],U={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:R},ie=Re=>{let Ei=Ge(Re,/\//),cs=Ge(/\//,Re);return{begin:Ei,end:cs,contains:[...R,{scope:"comment",begin:`#(?!.*${cs})`,end:/$/}]}},pe={scope:"regexp",variants:[ie("###"),ie("##"),ie("#"),U]},ue={match:Ge(/`/,Wi,/`/)},re={className:"variable",match:/\$\d+/},ke={className:"variable",match:`\\$${Qf}+`},N=[ue,re,ke],B={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:jX,contains:[...g,_,k]}]}},J={scope:"keyword",match:Ge(/@/,Cr(...UX))},P={scope:"meta",match:Ge(/@/,Wi)},F=[B,J,P],L={match:Xf(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Ge(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Qf,"+")},{className:"type",match:jx,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Ge(/\s+&\s+/,Xf(jx)),relevance:0}]},V={begin:/</,end:/>/,keywords:c,contains:[...n,...l,...F,h,L]};L.contains.push(V);let de={match:Ge(Wi,/\s*:/),keywords:"_|0",relevance:0},ne={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",de,...n,pe,...l,...f,...g,_,k,...N,...F,L]},ce={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,L]},xt={begin:Cr(Xf(Ge(Wi,/\s*:/)),Xf(Ge(Wi,/\s+/,Wi,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Wi}]},At={begin:/\(/,end:/\)/,keywords:c,contains:[xt,...n,...l,...g,_,k,...F,L,ne],endsParent:!0,illegal:/["']/},yi={match:[/(func|macro)/,/\s+/,Cr(ue.match,Wi,Ux)],className:{1:"keyword",3:"title.function"},contains:[ce,At,e],illegal:[/\[/,/%/]},ku={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ce,At,e],illegal:/\[|%/},bi={match:[/operator/,/\s+/,Ux],className:{1:"keyword",3:"title"}},Ru={begin:[/precedencegroup/,/\s+/,jx],className:{1:"keyword",3:"title"},contains:[L],keywords:[...BX,...rk],end:/}/};for(let Re of k.variants){let Ei=Re.contains.find(jr=>jr.label==="interpol");Ei.keywords=c;let cs=[...l,...f,...g,_,k,...N];Ei.contains=[...cs,{begin:/\(/,end:/\)/,contains:["self",...cs]}]}return{name:"Swift",keywords:c,contains:[...n,yi,ku,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:c,contains:[t.inherit(t.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...l]},bi,Ru,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},pe,...l,...f,...g,_,k,...N,...F,L,ne]}}var Zf="[A-Za-z$_][0-9A-Za-z$_]*",ck=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],lk=["true","false","null","undefined","NaN","Infinity"],pk=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],dk=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],fk=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],hk=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],mk=[].concat(fk,pk,dk);function qX(t){let e=t.regex,r=(B,{after:J})=>{let P="</"+B[0].slice(1);return B.input.indexOf(P,J)!==-1},n=Zf,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(B,J)=>{let P=B[0].length+B.index,F=B.input[P];if(F==="<"||F===","){J.ignoreMatch();return}F===">"&&(r(B,{after:P})||J.ignoreMatch());let L,V=B.input.substring(P);if(L=V.match(/^\s*=/)){J.ignoreMatch();return}if((L=V.match(/^\s+extends\s+/))&&L.index===0){J.ignoreMatch();return}}},a={$pattern:Zf,keyword:ck,literal:lk,built_in:mk,"variable.language":hk},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},m={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,h,m,g,{match:/\$\d+/},p];d.contains=_.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(_)});let E=[].concat(b,d.contains),x=E.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(E)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},T={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...pk,...dk]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},U={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ie(B){return e.concat("(?!",B.join("|"),")")}let pe={match:e.concat(/\b/,ie([...fk,"super","import"]),n,e.lookahead(/\(/)),className:"title.function",relevance:0},ue={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},re={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},ke="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(ke)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,h,m,g,b,{match:/\$\d+/},p,w,{className:"attr",begin:n+e.lookahead(":"),relevance:0},N,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:ke,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},ue,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},pe,U,T,re,{match:/\$[(.]/}]}}function gk(t){let e=qX(t),r=Zf,n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[e.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],u={$pattern:Zf,keyword:ck.concat(a),literal:lk,built_in:mk.concat(n),"variable.language":hk},c={className:"meta",begin:"@"+r},l=(d,f,h)=>{let m=d.contains.findIndex(g=>g.label===f);if(m===-1)throw new Error("can not find mode to replace");d.contains.splice(m,1,h)};Object.assign(e.keywords,u),e.exports.PARAMS_CONTAINS.push(c),e.contains=e.contains.concat([c,i,s]),l(e,"shebang",t.SHEBANG()),l(e,"use_strict",o);let p=e.contains.find(d=>d.label==="func.def");return p.relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),e}function yk(t){let e=t.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,u={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},l={className:"label",begin:/^\w+:/},p=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,u,c,l,p,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}function bk(t){t.regex;let e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");let r=t.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},u={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,u,c,a]}}function Ek(t){let e=t.regex,r=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),u=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,u,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,u,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(r,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Dk(t){let e="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},o=t.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},d={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},f={begin:/\{/,end:/\}/,contains:[d],illegal:"\\n",relevance:0},h={begin:"\\[",end:"\\]",contains:[d],illegal:"\\n",relevance:0},m=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},p,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},f,h,s],g=[...m];return g.pop(),g.push(o),d.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}var Ms={arduino:gO,bash:yO,c:bO,cpp:EO,csharp:DO,css:xO,diff:SO,go:_O,graphql:CO,ini:vO,java:AO,javascript:OO,json:kO,kotlin:RO,less:BO,lua:$O,makefile:UO,markdown:jO,objectivec:qO,perl:GO,php:VO,"php-template":KO,plaintext:HO,python:zO,"python-repl":WO,r:YO,ruby:JO,rust:XO,scss:QO,shell:ZO,sql:ek,swift:uk,typescript:gk,vbnet:yk,wasm:bk,xml:Ek,yaml:Dk};var jk=Y(Uk(),1);var qk=jk.default;var Gk={},FQ="hljs-";function Qx(t){let e=qk.newInstance();return t&&s(t),{highlight:r,highlightAuto:n,listLanguages:i,register:s,registerAlias:o,registered:a};function r(u,c,l){let p=l||Gk,d=typeof p.prefix=="string"?p.prefix:FQ;if(!e.getLanguage(u))throw new Error("Unknown language: `"+u+"` is not registered");e.configure({__emitter:Xx,classPrefix:d});let f=e.highlight(c,{ignoreIllegals:!0,language:u});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});let h=f._emitter.root,m=h.data;return m.language=f.language,m.relevance=f.relevance,h}function n(u,c){let p=(c||Gk).subset||i(),d=-1,f=0,h;for(;++d<p.length;){let m=p[d];if(!e.getLanguage(m))continue;let g=r(m,u,c);g.data&&g.data.relevance!==void 0&&g.data.relevance>f&&(f=g.data.relevance,h=g)}return h||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return e.listLanguages()}function s(u,c){if(typeof u=="string")e.registerLanguage(u,c);else{let l;for(l in u)Object.hasOwn(u,l)&&e.registerLanguage(l,u[l])}}function o(u,c){if(typeof u=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:u});else{let l;for(l in u)if(Object.hasOwn(u,l)){let p=u[l];e.registerAliases(typeof p=="string"?p:[...p],{languageName:l})}}}function a(u){return!!e.getLanguage(u)}}var Xx=class{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;let r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=e:r.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,r){let n=this.stack[this.stack.length-1],i=e.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:i}):n.children.push(...i)}openNode(e){let r=this,n=e.split(".").map(function(o,a){return a?o+"_".repeat(a):r.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}};var Vk=(t=0)=>e=>`\x1B[${e+t}m`,Kk=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Hk=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,nt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Bbe=Object.keys(nt.modifier),OQ=Object.keys(nt.color),kQ=Object.keys(nt.bgColor),$be=[...OQ,...kQ];function RQ(){let t=new Map;for(let[e,r]of Object.entries(nt)){for(let[n,i]of Object.entries(r))nt[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=nt[n],t.set(i[0],i[1]);Object.defineProperty(nt,e,{value:r,enumerable:!1})}return Object.defineProperty(nt,"codes",{value:t,enumerable:!1}),nt.color.close="\x1B[39m",nt.bgColor.close="\x1B[49m",nt.color.ansi=Vk(),nt.color.ansi256=Kk(),nt.color.ansi16m=Hk(),nt.bgColor.ansi=Vk(10),nt.bgColor.ansi256=Kk(10),nt.bgColor.ansi16m=Hk(10),Object.defineProperties(nt,{rgbToAnsi256:{value(e,r,n){return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(e){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>nt.rgbToAnsi256(...nt.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,i;if(e>=232)r=((e-232)*10+8)/255,n=r,i=r;else{e-=16;let a=e%36;r=Math.floor(e/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>nt.ansi256ToAnsi(nt.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>nt.ansi256ToAnsi(nt.hexToAnsi256(e)),enumerable:!1}}),nt}var MQ=RQ(),Sn=MQ;var sh=Y(require("node:process"),1),Wk=Y(require("node:os"),1),Zx=Y(require("node:tty"),1);function tn(t,e=globalThis.Deno?globalThis.Deno.args:sh.default.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:ut}=sh.default,ih;tn("no-color")||tn("no-colors")||tn("color=false")||tn("color=never")?ih=0:(tn("color")||tn("colors")||tn("color=true")||tn("color=always"))&&(ih=1);function LQ(){if("FORCE_COLOR"in ut)return ut.FORCE_COLOR==="true"?1:ut.FORCE_COLOR==="false"?0:ut.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(ut.FORCE_COLOR,10),3)}function BQ(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function $Q(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=LQ();n!==void 0&&(ih=n);let i=r?ih:n;if(i===0)return 0;if(r){if(tn("color=16m")||tn("color=full")||tn("color=truecolor"))return 3;if(tn("color=256"))return 2}if("TF_BUILD"in ut&&"AGENT_NAME"in ut)return 1;if(t&&!e&&i===void 0)return 0;let s=i||0;if(ut.TERM==="dumb")return s;if(sh.default.platform==="win32"){let o=Wk.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in ut)return"GITHUB_ACTIONS"in ut||"GITEA_ACTIONS"in ut?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in ut)||ut.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in ut)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ut.TEAMCITY_VERSION)?1:0;if(ut.COLORTERM==="truecolor"||ut.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in ut){let o=Number.parseInt((ut.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ut.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ut.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ut.TERM)||"COLORTERM"in ut?1:s}function zk(t,e={}){let r=$Q(t,{streamIsTTY:t&&t.isTTY,...e});return BQ(r)}var UQ={stdout:zk({isTTY:Zx.default.isatty(1)}),stderr:zk({isTTY:Zx.default.isatty(2)})},Yk=UQ;function Jk(t,e,r){let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.slice(s,n)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.slice(s),o}function Xk(t,e,r,n){let i=0,s="";do{let o=t[n-1]==="\r";s+=t.slice(i,o?n-1:n)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.slice(i),s}var{stdout:Qk,stderr:Zk}=Yk,eS=Symbol("GENERATOR"),Ja=Symbol("STYLER"),ml=Symbol("IS_EMPTY"),eR=["ansi","ansi","ansi256","ansi16m"],Xa=Object.create(null),jQ=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Qk?Qk.level:0;t.level=e.level===void 0?r:e.level},oh=class{constructor(e){return tR(e)}},tR=t=>{let e=(...r)=>r.join(" ");return jQ(e,t),Object.setPrototypeOf(e,gl.prototype),e};function gl(t){return tR(t)}Object.setPrototypeOf(gl.prototype,Function.prototype);for(let[t,e]of Object.entries(Sn))Xa[t]={get(){let r=ah(this,rS(e.open,e.close,this[Ja]),this[ml]);return Object.defineProperty(this,t,{value:r}),r}};Xa.visible={get(){let t=ah(this,this[Ja],!0);return Object.defineProperty(this,"visible",{value:t}),t}};var tS=(t,e,r,...n)=>t==="rgb"?e==="ansi16m"?Sn[r].ansi16m(...n):e==="ansi256"?Sn[r].ansi256(Sn.rgbToAnsi256(...n)):Sn[r].ansi(Sn.rgbToAnsi(...n)):t==="hex"?tS("rgb",e,r,...Sn.hexToRgb(...n)):Sn[r][t](...n),qQ=["rgb","hex","ansi256"];for(let t of qQ){Xa[t]={get(){let{level:r}=this;return function(...n){let i=rS(tS(t,eR[r],"color",...n),Sn.color.close,this[Ja]);return ah(this,i,this[ml])}}};let e="bg"+t[0].toUpperCase()+t.slice(1);Xa[e]={get(){let{level:r}=this;return function(...n){let i=rS(tS(t,eR[r],"bgColor",...n),Sn.bgColor.close,this[Ja]);return ah(this,i,this[ml])}}}}var GQ=Object.defineProperties(()=>{},{...Xa,level:{enumerable:!0,get(){return this[eS].level},set(t){this[eS].level=t}}}),rS=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},ah=(t,e,r)=>{let n=(...i)=>VQ(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,GQ),n[eS]=t,n[Ja]=e,n[ml]=r,n},VQ=(t,e)=>{if(t.level<=0||!e)return t[ml]?"":e;let r=t[Ja];if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.includes("\x1B"))for(;r!==void 0;)e=Jk(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=Xk(e,i,n,s)),n+e+i};Object.defineProperties(gl.prototype,Xa);var Hbe=gl(),zbe=gl({level:Zk?Zk.level:0});var _e=new oh({level:2}),rR={comment:_e.gray,quote:_e.gray,keyword:_e.green,"selector-tag":_e.green,addition:_e.green,number:_e.cyan,string:_e.cyan,"meta meta-string":_e.cyan,literal:_e.cyan,doctag:_e.cyan,regexp:_e.cyan,title:_e.blue,section:_e.blue,name:_e.blue,"selector-id":_e.blue,"selector-class":_e.blue,attribute:_e.yellow,attr:_e.yellow,variable:_e.yellow,"template-variable":_e.yellow,"class title":_e.yellow,type:_e.yellow,symbol:_e.magenta,bullet:_e.magenta,subst:_e.magenta,meta:_e.magenta,"meta keyword":_e.magenta,"selector-attr":_e.magenta,"selector-pseudo":_e.magenta,link:_e.magenta,built_in:_e.red,deletion:_e.red,emphasis:_e.italic,strong:_e.bold,formula:_e.inverse};function Lo(t){let e=Qx(t);return{highlight:r,highlightAuto:n,listLanguages:e.listLanguages,register:e.register,registerAlias:e.registerAlias,registered:e.registered};function r(i,s,o){let a=e.highlight(i,s),u=a.data;return{language:u.language,relevance:u.relevance,value:nS(o||rR,a)}}function n(i,s){let o,a;if(s&&("subset"in s||"sheet"in s)){let l=s;a={subset:l.subset},o=l.sheet}else o=s;let u=e.highlightAuto(i,a),c=u.data;return{language:c.language,relevance:c.relevance,value:nS(o||rR,u)}}}function nS(t,e){let r=new Set(e.type==="element"&&Array.isArray(e.properties.className)?e.properties.className.map(function(a){return String(a).replace(/^hljs-/,"")}):[]),n={},i,s="",o;for(o in t)if(Object.hasOwn(t,o)){let a=o.split(" "),u=t[o];r.has(a[0])?a.length===1?i=u:n[a.slice(1).join(" ")]=u:n[o]=u}return"value"in e?s=e.value:"children"in e&&(s=KQ(n,e.children)),i&&(s=i(s)),s}function KQ(t,e){let r=[],n=-1;for(;++n<e.length;)r.push(nS(t,e[n]));return r.join("")}var K_=Y(require("readline"),1);var X=Y(br(),1),UL=require("path");var $=Y(br(),1);var fi=Y(Nh(),1),Vs=Y(Oi(),1);var b2="1.3.3";var Bt=require("node:fs/promises"),EL=require("node:crypto"),lt=require("node:fs"),ip=require("node:os"),Oe=Y(require("node:path"),1),M_=Y(require("prettier"),1),DL=Y(require("typescript"),1),xL=Y(require("launch-editor"),1);var _u=require("node:child_process");var R_={};Fm(R_,{MagicastError:()=>nr,khulnasofts:()=>tie,detectCodeFormat:()=>gL,generateCode:()=>k_,loadFile:()=>Zne,parseExpression:()=>bL,parseModule:()=>yL,writeFile:()=>eie});var tm=require("node:fs");var cm=Y(V2(),1),MM=Y(xM(),1);function Ur(t){var e=t.use(dt),r=e.Type,n=e.builtInTypes,i=n.number;function s(c){return r.from(l=>i.check(l)&&l>=c,i+" >= "+c)}let o={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}};var a=r.or(n.string,n.number,n.boolean,n.null,n.undefined);let u=r.from(c=>{if(c===null)return!0;var l=typeof c;return!(l==="object"||l==="function")},a.toString());return{geq:s,defaults:o,isPrimitive:u}}function Ve(t){try{var e=t(),r=e.exports,n=r.default}catch{return}n&&n!==r&&typeof r=="object"&&(Object.assign(n,r,{default:n}),r.__esModule&&Object.defineProperty(n,"__esModule",{value:!0}),e.exports=n)}var Tre=Object.defineProperty,wre=(t,e,r)=>e in t?Tre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fr=(t,e,r)=>(wre(t,typeof e!="symbol"?e+"":e,r),r),LM=Object.prototype,rm=LM.toString,an=LM.hasOwnProperty,Ho=class{assert(e,r){if(!this.check(e,r)){var n=P_(e);throw new Error(n+" does not match type "+this)}return!0}arrayOf(){let e=this;return new Zl(e)}},Zl=class extends Ho{constructor(e){super(),this.elemType=e,fr(this,"kind","ArrayType")}toString(){return"["+this.elemType+"]"}check(e,r){return Array.isArray(e)&&e.every(n=>this.elemType.check(n,r))}},nm=class extends Ho{constructor(e){super(),this.value=e,fr(this,"kind","IdentityType")}toString(){return String(this.value)}check(e,r){let n=e===this.value;return!n&&typeof r=="function"&&r(this,e),n}},im=class extends Ho{constructor(e){super(),this.fields=e,fr(this,"kind","ObjectType")}toString(){return"{ "+this.fields.join(", ")+" }"}check(e,r){return rm.call(e)===rm.call({})&&this.fields.every(n=>n.type.check(e[n.name],r))}},sm=class extends Ho{constructor(e){super(),this.types=e,fr(this,"kind","OrType")}toString(){return this.types.join(" | ")}check(e,r){return this.types.some(n=>n.check(e,!!r))?!0:(typeof r=="function"&&r(this,e),!1)}},Ko=class extends Ho{constructor(e,r){super(),this.name=e,this.predicate=r,fr(this,"kind","PredicateType")}toString(){return this.name}check(e,r){let n=this.predicate(e,r);return!n&&typeof r=="function"&&r(this,e),n}},Xl=class t{constructor(e,r){this.type=e,this.typeName=r,fr(this,"baseNames",[]),fr(this,"ownFields",Object.create(null)),fr(this,"allSupertypes",Object.create(null)),fr(this,"supertypeList",[]),fr(this,"allFields",Object.create(null)),fr(this,"fieldNames",[]),fr(this,"finalized",!1),fr(this,"buildable",!1),fr(this,"buildParams",[])}isSupertypeOf(e){if(e instanceof t){if(this.finalized!==!0||e.finalized!==!0)throw new Error("");return an.call(e.allSupertypes,this.typeName)}else throw new Error(e+" is not a Def")}checkAllFields(e,r){var n=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function i(s){var o=n[s],a=o.type,u=o.getValue(e);return a.check(u,r)}return e!==null&&typeof e=="object"&&Object.keys(n).every(i)}bases(...e){var r=this.baseNames;if(this.finalized){if(e.length!==r.length)throw new Error("");for(var n=0;n<e.length;n++)if(e[n]!==r[n])throw new Error("");return this}return e.forEach(i=>{r.indexOf(i)<0&&r.push(i)}),this}},om=class{constructor(e,r,n,i){this.name=e,this.type=r,this.defaultFn=n,fr(this,"hidden"),this.hidden=!!i}toString(){return JSON.stringify(this.name)+": "+this.type}getValue(e){var r=e[this.name];return typeof r<"u"||typeof this.defaultFn=="function"&&(r=this.defaultFn.call(e)),r}};function P_(t){return Array.isArray(t)?"["+t.map(P_).join(", ")+"]":t&&typeof t=="object"?"{ "+Object.keys(t).map(function(e){return e+": "+t[e]}).join(", ")+" }":JSON.stringify(t)}function dt(t){let e={or(...P){return new sm(P.map(F=>e.from(F)))},from(P,F){if(P instanceof Zl||P instanceof nm||P instanceof im||P instanceof sm||P instanceof Ko)return P;if(P instanceof Xl)return P.type;if(a.check(P)){if(P.length!==1)throw new Error("only one element type is permitted for typed arrays");return new Zl(e.from(P[0]))}if(u.check(P))return new im(Object.keys(P).map(V=>new om(V,e.from(P[V],V))));if(typeof P=="function"){var L=r.indexOf(P);if(L>=0)return n[L];if(typeof F!="string")throw new Error("missing name");return new Ko(F,P)}return new nm(P)},def(P){return an.call(y,P)?y[P]:y[P]=new _(P)},hasDef(P){return an.call(y,P)}};var r=[],n=[];function i(P,F){let L=rm.call(F),V=new Ko(P,de=>rm.call(de)===L);return F&&typeof F.constructor=="function"&&(r.push(F.constructor),n.push(V)),V}let s=i("string","truthy"),o=i("function",function(){}),a=i("array",[]),u=i("object",{}),c=i("RegExp",/./),l=i("Date",new Date),p=i("number",3),d=i("boolean",!0),f=i("null",null),h=i("undefined",void 0),m=typeof BigInt=="function"?i("BigInt",BigInt(1234)):new Ko("BigInt",()=>!1),g={string:s,function:o,array:a,object:u,RegExp:c,Date:l,number:p,boolean:d,null:f,undefined:h,BigInt:m};var y=Object.create(null);function b(P){if(P&&typeof P=="object"){var F=P.type;if(typeof F=="string"&&an.call(y,F)){var L=y[F];if(L.finalized)return L}}return null}class _ extends Xl{constructor(F){super(new Ko(F,(L,V)=>this.check(L,V)),F)}check(F,L){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(F===null||typeof F!="object")return!1;var V=b(F);return V?L&&V===this?this.checkAllFields(F,L):this.isSupertypeOf(V)?L?V.checkAllFields(F,L)&&this.checkAllFields(F,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(F,L):!1}build(...F){if(this.buildParams=F,this.buildable)return this;this.field("type",String,()=>this.typeName),this.buildable=!0;let L=(de,ne,ce,xt)=>{if(!an.call(de,ne)){var At=this.allFields;if(!an.call(At,ne))throw new Error(""+ne);var yi=At[ne],ku=yi.type,bi;if(xt)bi=ce;else if(yi.defaultFn)bi=yi.defaultFn.call(de);else{var Ru="no value or default function given for field "+JSON.stringify(ne)+" of "+this.typeName+"("+this.buildParams.map(function(Re){return At[Re]}).join(", ")+")";throw new Error(Ru)}if(!ku.check(bi))throw new Error(P_(bi)+" does not match field "+yi+" of type "+this.typeName);de[ne]=bi}},V=(...de)=>{var ne=de.length;if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var ce=Object.create(T);if(this.buildParams.forEach(function(xt,At){At<ne?L(ce,xt,de[At],!0):L(ce,xt,null,!1)}),Object.keys(this.allFields).forEach(function(xt){L(ce,xt,null,!1)}),ce.type!==this.typeName)throw new Error("");return ce};return V.from=de=>{if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var ne=Object.create(T);if(Object.keys(this.allFields).forEach(function(ce){an.call(de,ce)?L(ne,ce,de[ce],!0):L(ne,ce,null,!1)}),ne.type!==this.typeName)throw new Error("");return ne},Object.defineProperty(S,k(this.typeName),{enumerable:!0,value:V}),this}field(F,L,V,de){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(F)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[F]=new om(F,e.from(L),V,de),this)}finalize(){if(!this.finalized){var F=this.allFields,L=this.allSupertypes;this.baseNames.forEach(de=>{var ne=y[de];if(ne instanceof Xl)ne.finalize(),B(F,ne.allFields),B(L,ne.allSupertypes);else{var ce="unknown supertype name "+JSON.stringify(de)+" for subtype "+JSON.stringify(this.typeName);throw new Error(ce)}}),B(F,this.ownFields),L[this.typeName]=this,this.fieldNames.length=0;for(var V in F)an.call(F,V)&&!F[V].hidden&&this.fieldNames.push(V);Object.defineProperty(U,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,N(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&ke(this.typeName)}}}function E(P){if(!an.call(y,P))throw new Error("");var F=y[P];if(F.finalized!==!0)throw new Error("");return F.supertypeList.slice(1)}function x(P){for(var F={},L=Object.keys(y),V=L.length,de=0;de<V;++de){var ne=L[de],ce=y[ne];if(ce.finalized!==!0)throw new Error(""+ne);for(var xt=0;xt<ce.supertypeList.length;++xt){var At=ce.supertypeList[xt];if(an.call(P,At)){F[ne]=At;break}}}return F}var S=Object.create(null),T={};function w(P,F){var L=T[P];return h.check(F)?delete T[P]:(o.assert(F),Object.defineProperty(T,P,{enumerable:!0,configurable:!0,value:F})),L}function k(P){return P.replace(/^[A-Z]+/,function(F){var L=F.length;switch(L){case 0:return"";case 1:return F.toLowerCase();default:return F.slice(0,L-1).toLowerCase()+F.charAt(L-1)}})}function R(P){return P=k(P),P.replace(/(Expression)?$/,"Statement")}var U={};function ie(P){var F=b(P);if(F)return F.fieldNames.slice(0);if("type"in P)throw new Error("did not recognize object of type "+JSON.stringify(P.type));return Object.keys(P)}function pe(P,F){var L=b(P);if(L){var V=L.allFields[F];if(V)return V.getValue(P)}return P&&P[F]}function ue(P,F,L){ie(P).forEach(function(V){F.call(this,V,pe(P,V))},L)}function re(P,F,L){return ie(P).some(function(V){return F.call(this,V,pe(P,V))},L)}function ke(P){var F=R(P);if(S[F])return;var L=S[k(P)];if(!L)return;let V=function(...de){return S.expressionStatement(L.apply(S,de))};V.from=function(...de){return S.expressionStatement(L.from.apply(S,de))},S[F]=V}function N(P,F){F.length=0,F.push(P);for(var L=Object.create(null),V=0;V<F.length;++V){P=F[V];var de=y[P];if(de.finalized!==!0)throw new Error("");an.call(L,P)&&delete F[L[P]],L[P]=V,F.push.apply(F,de.baseNames)}for(var ne=0,ce=ne,xt=F.length;ce<xt;++ce)an.call(F,ce)&&(F[ne++]=F[ce]);F.length=ne}function B(P,F){return Object.keys(F).forEach(function(L){P[L]=F[L]}),P}function J(){Object.keys(y).forEach(function(P){y[P].finalize()})}return{Type:e,builtInTypes:g,getSupertypeNames:E,computeSupertypeLookupTable:x,khulnasofts:S,defineMethod:w,getKhulnasoftName:k,getStatementKhulnasoftName:R,namedTypes:U,getFieldNames:ie,getFieldValue:pe,eachField:ue,someField:re,finalize:J}}Ve(()=>module);var Are=Object.prototype,Hh=Are.hasOwnProperty;function BM(t){var e=t.use(dt),r=e.builtInTypes.array,n=e.builtInTypes.number;let i=function p(d,f,h){if(!(this instanceof p))throw new Error("Path constructor cannot be invoked without 'new'");if(f){if(!(f instanceof p))throw new Error("")}else f=null,h=null;this.value=d,this.parentPath=f,this.name=h,this.__childCache=null};var s=i.prototype;function o(p){return p.__childCache||(p.__childCache=Object.create(null))}function a(p,d){var f=o(p),h=p.getValueProperty(d),m=f[d];return(!Hh.call(f,d)||m.value!==h)&&(m=f[d]=new p.constructor(h,p,d)),m}s.getValueProperty=function(d){return this.value[d]},s.get=function(...d){for(var f=this,h=d.length,m=0;m<h;++m)f=a(f,d[m]);return f},s.each=function(d,f){for(var h=[],m=this.value.length,g=0,g=0;g<m;++g)Hh.call(this.value,g)&&(h[g]=this.get(g));for(f=f||this,g=0;g<m;++g)Hh.call(h,g)&&d.call(f,h[g])},s.map=function(d,f){var h=[];return this.each(function(m){h.push(d.call(this,m))},f),h},s.filter=function(d,f){var h=[];return this.each(function(m){d.call(this,m)&&h.push(m)},f),h};function u(){}function c(p,d,f,h){if(r.assert(p.value),d===0)return u;var m=p.value.length;if(m<1)return u;var g=arguments.length;g===2?(f=0,h=m):g===3?(f=Math.max(f,0),h=m):(f=Math.max(f,0),h=Math.min(h,m)),n.assert(f),n.assert(h);for(var y=Object.create(null),b=o(p),_=f;_<h;++_)if(Hh.call(p.value,_)){var E=p.get(_);if(E.name!==_)throw new Error("");var x=_+d;E.name=x,y[x]=E,delete b[_]}return delete b.length,function(){for(var S in y){var T=y[S];if(T.name!==+S)throw new Error("");b[S]=T,p.value[S]=T.value}}}s.shift=function(){var d=c(this,-1),f=this.value.shift();return d(),f},s.unshift=function(...d){var f=c(this,d.length),h=this.value.unshift.apply(this.value,d);return f(),h},s.push=function(...d){return r.assert(this.value),delete o(this).length,this.value.push.apply(this.value,d)},s.pop=function(){r.assert(this.value);var d=o(this);return delete d[this.value.length-1],delete d.length,this.value.pop()},s.insertAt=function(d){var f=arguments.length,h=c(this,f-1,d);if(h===u&&f<=1)return this;d=Math.max(d,0);for(var m=1;m<f;++m)this.value[d+m-1]=arguments[m];return h(),this},s.insertBefore=function(...d){for(var f=this.parentPath,h=d.length,m=[this.name],g=0;g<h;++g)m.push(d[g]);return f.insertAt.apply(f,m)},s.insertAfter=function(...d){for(var f=this.parentPath,h=d.length,m=[this.name+1],g=0;g<h;++g)m.push(d[g]);return f.insertAt.apply(f,m)};function l(p){if(!(p instanceof i))throw new Error("");var d=p.parentPath;if(!d)return p;var f=d.value,h=o(d);if(f[p.name]===p.value)h[p.name]=p;else if(r.check(f)){var m=f.indexOf(p.value);m>=0&&(h[p.name=m]=p)}else f[p.name]=p.value,h[p.name]=p;if(f[p.name]!==p.value)throw new Error("");if(p.parentPath.get(p.name)!==p)throw new Error("");return p}return s.replace=function(d){var f=[],h=this.parentPath.value,m=o(this.parentPath),g=arguments.length;if(l(this),r.check(h)){for(var y=h.length,b=c(this.parentPath,g-1,this.name+1),_=[this.name,1],E=0;E<g;++E)_.push(arguments[E]);var x=h.splice.apply(h,_);if(x[0]!==this.value)throw new Error("");if(h.length!==y-1+g)throw new Error("");if(b(),g===0)delete this.value,delete m[this.name],this.__childCache=null;else{if(h[this.name]!==d)throw new Error("");for(this.value!==d&&(this.value=d,this.__childCache=null),E=0;E<g;++E)f.push(this.parentPath.get(this.name+E));if(f[0]!==this)throw new Error("")}}else if(g===1)this.value!==d&&(this.__childCache=null),this.value=h[this.name]=d,f.push(this);else if(g===0)delete h[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return f},i}Ve(()=>module);var mu=Object.prototype.hasOwnProperty;function Pre(t){var e=t.use(dt),r=e.Type,n=e.namedTypes,i=n.Node,s=n.Expression,o=e.builtInTypes.array,a=e.khulnasofts;let u=function E(x,S){if(!(this instanceof E))throw new Error("Scope constructor cannot be invoked without 'new'");l.check(x.value)||c.assert(x.value);var T;if(S){if(!(S instanceof E))throw new Error("");T=S.depth+1}else S=null,T=0;Object.defineProperties(this,{path:{value:x},node:{value:x.value},isGlobal:{value:!S,enumerable:!0},depth:{value:T},parent:{value:S},bindings:{value:{}},types:{value:{}}})};var c=r.or(n.Program,n.Function,n.CatchClause),l=r.or(n.Function,n.ClassDeclaration,n.ClassExpression,n.InterfaceDeclaration,n.TSInterfaceDeclaration,n.TypeAlias,n.TSTypeAliasDeclaration),p=r.or(n.TypeParameter,n.TSTypeParameter);u.isEstablishedBy=function(E){return c.check(E)||l.check(E)};var d=u.prototype;d.didScan=!1,d.declares=function(E){return this.scan(),mu.call(this.bindings,E)},d.declaresType=function(E){return this.scan(),mu.call(this.types,E)},d.declareTemporary=function(E){if(E){if(!/^[a-z$_]/i.test(E))throw new Error("")}else E="t$";E+=this.depth.toString(36)+"$",this.scan();for(var x=0;this.declares(E+x);)++x;var S=E+x;return this.bindings[S]=e.khulnasofts.identifier(S)},d.injectTemporary=function(E,x){E||(E=this.declareTemporary());var S=this.path.get("body");return n.BlockStatement.check(S.value)&&(S=S.get("body")),S.unshift(a.variableDeclaration("var",[a.variableDeclarator(E,x||null)])),E},d.scan=function(E){if(E||!this.didScan){for(var x in this.bindings)delete this.bindings[x];for(var x in this.types)delete this.types[x];f(this.path,this.bindings,this.types),this.didScan=!0}},d.getBindings=function(){return this.scan(),this.bindings},d.getTypes=function(){return this.scan(),this.types};function f(E,x,S){var T=E.value;if(l.check(T)){let w=E.get("typeParameters","params");o.check(w.value)&&w.each(k=>{_(k,S)})}c.check(T)&&(n.CatchClause.check(T)?y(E.get("param"),x):h(E,x,S))}function h(E,x,S){var T=E.value;E.parent&&n.FunctionExpression.check(E.parent.node)&&E.parent.node.id&&y(E.parent.get("id"),x),T&&(o.check(T)?E.each(w=>{g(w,x,S)}):n.Function.check(T)?(E.get("params").each(w=>{y(w,x)}),g(E.get("body"),x,S),h(E.get("typeParameters"),x,S)):n.TypeAlias&&n.TypeAlias.check(T)||n.InterfaceDeclaration&&n.InterfaceDeclaration.check(T)||n.TSTypeAliasDeclaration&&n.TSTypeAliasDeclaration.check(T)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(T)?b(E.get("id"),S):n.VariableDeclarator.check(T)?(y(E.get("id"),x),g(E.get("init"),x,S)):T.type==="ImportSpecifier"||T.type==="ImportNamespaceSpecifier"||T.type==="ImportDefaultSpecifier"?y(E.get(T.local?"local":T.name?"name":"id"),x):i.check(T)&&!s.check(T)&&e.eachField(T,function(w,k){var R=E.get(w);if(!m(R,k))throw new Error("");g(R,x,S)}))}function m(E,x){return!!(E.value===x||Array.isArray(E.value)&&E.value.length===0&&Array.isArray(x)&&x.length===0)}function g(E,x,S){var T=E.value;if(!(!T||s.check(T)))if(n.FunctionDeclaration.check(T)&&T.id!==null)y(E.get("id"),x);else if(n.ClassDeclaration&&n.ClassDeclaration.check(T)&&T.id!==null)y(E.get("id"),x),h(E.get("typeParameters"),x,S);else if(n.InterfaceDeclaration&&n.InterfaceDeclaration.check(T)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(T))b(E.get("id"),S);else if(c.check(T)){if(n.CatchClause.check(T)&&n.Identifier.check(T.param)){var w=T.param.name,k=mu.call(x,w);h(E.get("body"),x,S),k||delete x[w]}}else h(E,x,S)}function y(E,x){var S=E.value;n.Pattern.assert(S),n.Identifier.check(S)?mu.call(x,S.name)?x[S.name].push(E):x[S.name]=[E]:n.AssignmentPattern&&n.AssignmentPattern.check(S)?y(E.get("left"),x):n.ObjectPattern&&n.ObjectPattern.check(S)?E.get("properties").each(function(T){var w=T.value;n.Pattern.check(w)?y(T,x):n.Property.check(w)||n.ObjectProperty&&n.ObjectProperty.check(w)?y(T.get("value"),x):n.SpreadProperty&&n.SpreadProperty.check(w)&&y(T.get("argument"),x)}):n.ArrayPattern&&n.ArrayPattern.check(S)?E.get("elements").each(function(T){var w=T.value;n.Pattern.check(w)?y(T,x):n.SpreadElement&&n.SpreadElement.check(w)&&y(T.get("argument"),x)}):n.PropertyPattern&&n.PropertyPattern.check(S)?y(E.get("pattern"),x):(n.SpreadElementPattern&&n.SpreadElementPattern.check(S)||n.RestElement&&n.RestElement.check(S)||n.SpreadPropertyPattern&&n.SpreadPropertyPattern.check(S))&&y(E.get("argument"),x)}function b(E,x){var S=E.value;n.Pattern.assert(S),n.Identifier.check(S)&&(mu.call(x,S.name)?x[S.name].push(E):x[S.name]=[E])}function _(E,x){var S=E.value;p.assert(S),mu.call(x,S.name)?x[S.name].push(E):x[S.name]=[E]}return d.lookup=function(E){for(var x=this;x&&!x.declares(E);x=x.parent);return x},d.lookupType=function(E){for(var x=this;x&&!x.declaresType(E);x=x.parent);return x},d.getGlobalScope=function(){for(var E=this;!E.isGlobal;)E=E.parent;return E},u}Ve(()=>module);function $M(t){var e=t.use(dt),r=e.namedTypes,n=e.khulnasofts,i=e.builtInTypes.number,s=e.builtInTypes.array,o=t.use(BM),a=t.use(Pre);let u=function g(y,b,_){if(!(this instanceof g))throw new Error("NodePath constructor cannot be invoked without 'new'");o.call(this,y,b,_)};var c=u.prototype=Object.create(o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(c,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),c.replace=function(){return delete this.node,delete this.parent,delete this.scope,o.prototype.replace.apply(this,arguments)},c.prune=function(){var g=this.parent;return this.replace(),h(g)},c._computeNode=function(){var g=this.value;if(r.Node.check(g))return g;var y=this.parentPath;return y&&y.node||null},c._computeParent=function(){var g=this.value,y=this.parentPath;if(!r.Node.check(g)){for(;y&&!r.Node.check(y.value);)y=y.parentPath;y&&(y=y.parentPath)}for(;y&&!r.Node.check(y.value);)y=y.parentPath;return y||null},c._computeScope=function(){var g=this.value,y=this.parentPath,b=y&&y.scope;return r.Node.check(g)&&a.isEstablishedBy(g)&&(b=new a(this,b)),b||null},c.getValueProperty=function(g){return e.getFieldValue(this.value,g)},c.needsParens=function(g){var y=this.parentPath;if(!y)return!1;var b=this.value;if(!r.Expression.check(b)||b.type==="Identifier")return!1;for(;!r.Node.check(y.value);)if(y=y.parentPath,!y)return!1;var _=y.value;switch(b.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return _.type==="MemberExpression"&&this.name==="object"&&_.object===b;case"BinaryExpression":case"LogicalExpression":switch(_.type){case"CallExpression":return this.name==="callee"&&_.callee===b;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&_.object===b;case"BinaryExpression":case"LogicalExpression":{let E=b,x=_.operator,S=p[x],T=E.operator,w=p[T];if(S>w)return!0;if(S===w&&this.name==="right"){if(_.right!==E)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(_.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(_.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return _.type==="MemberExpression"&&i.check(b.value)&&this.name==="object"&&_.object===b;case"AssignmentExpression":case"ConditionalExpression":switch(_.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&_.callee===b;case"ConditionalExpression":return this.name==="test"&&_.test===b;case"MemberExpression":return this.name==="object"&&_.object===b;default:return!1}default:if(_.type==="NewExpression"&&this.name==="callee"&&_.callee===b)return d(b)}return!!(g!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function l(g){return r.BinaryExpression.check(g)||r.LogicalExpression.check(g)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(g,y){g.forEach(function(b){p[b]=y})});function d(g){return r.CallExpression.check(g)?!0:s.check(g)?g.some(d):r.Node.check(g)?e.someField(g,function(y,b){return d(b)}):!1}c.canBeFirstInStatement=function(){var g=this.node;return!r.FunctionExpression.check(g)&&!r.ObjectExpression.check(g)},c.firstInStatement=function(){return f(this)};function f(g){for(var y,b;g.parent;g=g.parent){if(y=g.node,b=g.parent.node,r.BlockStatement.check(b)&&g.parent.name==="body"&&g.name===0){if(b.body[0]!==y)throw new Error("Nodes must be equal");return!0}if(r.ExpressionStatement.check(b)&&g.name==="expression"){if(b.expression!==y)throw new Error("Nodes must be equal");return!0}if(r.SequenceExpression.check(b)&&g.parent.name==="expressions"&&g.name===0){if(b.expressions[0]!==y)throw new Error("Nodes must be equal");continue}if(r.CallExpression.check(b)&&g.name==="callee"){if(b.callee!==y)throw new Error("Nodes must be equal");continue}if(r.MemberExpression.check(b)&&g.name==="object"){if(b.object!==y)throw new Error("Nodes must be equal");continue}if(r.ConditionalExpression.check(b)&&g.name==="test"){if(b.test!==y)throw new Error("Nodes must be equal");continue}if(l(b)&&g.name==="left"){if(b.left!==y)throw new Error("Nodes must be equal");continue}if(r.UnaryExpression.check(b)&&!b.prefix&&g.name==="argument"){if(b.argument!==y)throw new Error("Nodes must be equal");continue}return!1}return!0}function h(g){if(r.VariableDeclaration.check(g.node)){var y=g.get("declarations").value;if(!y||y.length===0)return g.prune()}else if(r.ExpressionStatement.check(g.node)){if(!g.get("expression").value)return g.prune()}else r.IfStatement.check(g.node)&&m(g);return g}function m(g){var y=g.get("test").value,b=g.get("alternate").value,_=g.get("consequent").value;if(!_&&!b){var E=n.expressionStatement(y);g.replace(E)}else if(!_&&b){var x=n.unaryExpression("!",y,!0);r.UnaryExpression.check(y)&&y.operator==="!"&&(x=y.argument),g.get("test").replace(x),g.get("consequent").replace(b),g.get("alternate").replace()}}return u}Ve(()=>module);var zh=Object.prototype.hasOwnProperty;function Ire(t){var e=t.use(dt),r=t.use($M),n=e.builtInTypes.array,i=e.builtInTypes.object,s=e.builtInTypes.function,o;let a=function h(){if(!(this instanceof h))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=u(this),this._shouldVisitComments=zh.call(this._methodNameTable,"Block")||zh.call(this._methodNameTable,"Line"),this.Context=d(this),this._visiting=!1,this._changeReported=!1};function u(h){var m=Object.create(null);for(var g in h)/^visit[A-Z]/.test(g)&&(m[g.slice(5)]=!0);for(var y=e.computeSupertypeLookupTable(m),b=Object.create(null),_=Object.keys(y),E=_.length,x=0;x<E;++x){var S=_[x];g="visit"+y[S],s.check(h[g])&&(b[S]=g)}return b}a.fromMethodsObject=function(m){if(m instanceof a)return m;if(!i.check(m))return new a;let g=function b(){if(!(this instanceof b))throw new Error("Visitor constructor cannot be invoked without 'new'");a.call(this)};var y=g.prototype=Object.create(l);return y.constructor=g,c(y,m),c(g,a),s.assert(g.fromMethodsObject),s.assert(g.visit),new g};function c(h,m){for(var g in m)zh.call(m,g)&&(h[g]=m[g]);return h}a.visit=function(m,g){return a.fromMethodsObject(g).visit(m)};var l=a.prototype;l.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var h=arguments.length,m=new Array(h),g=0;g<h;++g)m[g]=arguments[g];m[0]instanceof r||(m[0]=new r({root:m[0]}).get("root")),this.reset.apply(this,m);var y;try{var b=this.visitWithoutReset(m[0]);y=!0}finally{if(this._visiting=!1,!y&&this._abortRequested)return m[0].value}return b},l.AbortRequest=function(){},l.abort=function(){var h=this;h._abortRequested=!0;var m=new h.AbortRequest;throw m.cancel=function(){h._abortRequested=!1},m},l.reset=function(h){},l.visitWithoutReset=function(h){if(this instanceof this.Context)return this.visitor.visitWithoutReset(h);if(!(h instanceof r))throw new Error("");var m=h.value,g=m&&typeof m=="object"&&typeof m.type=="string"&&this._methodNameTable[m.type];if(g){var y=this.acquireContext(h);try{return y.invokeVisitorMethod(g)}finally{this.releaseContext(y)}}else return p(h,this)};function p(h,m){if(!(h instanceof r))throw new Error("");if(!(m instanceof a))throw new Error("");var g=h.value;if(n.check(g))h.each(m.visitWithoutReset,m);else if(i.check(g)){var y=e.getFieldNames(g);m._shouldVisitComments&&g.comments&&y.indexOf("comments")<0&&y.push("comments");for(var b=y.length,_=[],E=0;E<b;++E){var x=y[E];zh.call(g,x)||(g[x]=e.getFieldValue(g,x)),_.push(h.get(x))}for(var E=0;E<b;++E)m.visitWithoutReset(_[E])}return h.value}l.acquireContext=function(h){return this._reusableContextStack.length===0?new this.Context(h):this._reusableContextStack.pop().reset(h)},l.releaseContext=function(h){if(!(h instanceof this.Context))throw new Error("");this._reusableContextStack.push(h),h.currentPath=null},l.reportChanged=function(){this._changeReported=!0},l.wasChangeReported=function(){return this._changeReported};function d(h){function m(y){if(!(this instanceof m))throw new Error("");if(!(this instanceof a))throw new Error("");if(!(y instanceof r))throw new Error("");Object.defineProperty(this,"visitor",{value:h,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=y,this.needToCallTraverse=!0,Object.seal(this)}if(!(h instanceof a))throw new Error("");var g=m.prototype=Object.create(h);return g.constructor=m,c(g,f),m}var f=Object.create(null);return f.reset=function(m){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof r))throw new Error("");return this.currentPath=m,this.needToCallTraverse=!0,this},f.invokeVisitorMethod=function(m){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");var g=this.visitor[m].call(this,this.currentPath);if(g===!1?this.needToCallTraverse=!1:g!==o&&(this.currentPath=this.currentPath.replace(g)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+m);var y=this.currentPath;return y&&y.value},f.traverse=function(m,g){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,p(m,a.fromMethodsObject(g||this.visitor))},f.visit=function(m,g){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,a.fromMethodsObject(g||this.visitor).visitWithoutReset(m)},f.reportChanged=function(){this.visitor.reportChanged()},f.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},a}Ve(()=>module);function Nre(t){var e=t.use(dt),r=e.getFieldNames,n=e.getFieldValue,i=e.builtInTypes.array,s=e.builtInTypes.object,o=e.builtInTypes.Date,a=e.builtInTypes.RegExp,u=Object.prototype.hasOwnProperty;function c(h,m,g){return i.check(g)?g.length=0:g=null,p(h,m,g)}c.assert=function(h,m){var g=[];if(!c(h,m,g))if(g.length===0){if(h!==m)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+g.map(l).join(""))};function l(h){return/[_$a-z][_$a-z0-9]*/i.test(h)?"."+h:"["+JSON.stringify(h)+"]"}function p(h,m,g){return h===m?!0:i.check(h)?d(h,m,g):s.check(h)?f(h,m,g):o.check(h)?o.check(m)&&+h==+m:a.check(h)?a.check(m)&&h.source===m.source&&h.global===m.global&&h.multiline===m.multiline&&h.ignoreCase===m.ignoreCase:h==m}function d(h,m,g){i.assert(h);var y=h.length;if(!i.check(m)||m.length!==y)return g&&g.push("length"),!1;for(var b=0;b<y;++b){if(g&&g.push(b),b in h!=b in m||!p(h[b],m[b],g))return!1;if(g){var _=g.pop();if(_!==b)throw new Error(""+_)}}return!0}function f(h,m,g){if(s.assert(h),!s.check(m))return!1;if(h.type!==m.type)return g&&g.push("type"),!1;var y=r(h),b=y.length,_=r(m),E=_.length;if(b===E){for(var x=0;x<b;++x){var S=y[x],T=n(h,S),w=n(m,S);if(g&&g.push(S),!p(T,w,g))return!1;if(g){var k=g.pop();if(k!==S)throw new Error(""+k)}}return!0}if(!g)return!1;var R=Object.create(null);for(x=0;x<b;++x)R[y[x]]=!0;for(x=0;x<E;++x){if(S=_[x],!u.call(R,S))return g.push(S),!1;delete R[S]}for(S in R){g.push(S);break}return!1}return c}Ve(()=>module);function Fre(t){let e=Ore(),r=e.use(dt);t.forEach(e.use),r.finalize();let n=e.use(Ire);return{Type:r.Type,builtInTypes:r.builtInTypes,namedTypes:r.namedTypes,khulnasofts:r.khulnasofts,defineMethod:r.defineMethod,getFieldNames:r.getFieldNames,getFieldValue:r.getFieldValue,eachField:r.eachField,someField:r.someField,getSupertypeNames:r.getSupertypeNames,getKhulnasoftName:r.getKhulnasoftName,astNodesAreEquivalent:e.use(Nre),finalize:r.finalize,Path:e.use(BM),NodePath:e.use($M),PathVisitor:n,use:e.use,visit:n.visit}}function Ore(){let t=[],e=[];function r(i){var s=t.indexOf(i);return s===-1&&(s=t.length,t.push(i),e[s]=i(n)),e[s]}var n={use:r};return n}Ve(()=>module);function UM(){return{BinaryOperators:["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof"],AssignmentOperators:["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="],LogicalOperators:["||","&&"]}}Ve(()=>module);function jM(t){let e=t.use(UM);return e.BinaryOperators.indexOf("**")<0&&e.BinaryOperators.push("**"),e.AssignmentOperators.indexOf("**=")<0&&e.AssignmentOperators.push("**="),e}Ve(()=>module);function qM(t){let e=t.use(jM);return e.LogicalOperators.indexOf("??")<0&&e.LogicalOperators.push("??"),e}Ve(()=>module);function kre(t){let e=t.use(qM);return e.LogicalOperators.forEach(r=>{let n=r+"=";e.AssignmentOperators.indexOf(n)<0&&e.AssignmentOperators.push(n)}),e}Ve(()=>module);function Rre(t){var e=t.use(dt),r=e.Type,n=r.def,i=r.or,s=t.use(Ur),o=s.defaults,a=s.geq;let{BinaryOperators:u,AssignmentOperators:c,LogicalOperators:l}=t.use(UM);n("Printable").field("loc",i(n("SourceLocation"),null),o.null,!0),n("Node").bases("Printable").field("type",String).field("comments",i([n("Comment")],null),o.null,!0),n("SourceLocation").field("start",n("Position")).field("end",n("Position")).field("source",i(String,null),o.null),n("Position").field("line",a(1)).field("column",a(0)),n("File").bases("Node").build("program","name").field("program",n("Program")).field("name",i(String,null),o.null),n("Program").bases("Node").build("body").field("body",[n("Statement")]),n("Function").bases("Node").field("id",i(n("Identifier"),null),o.null).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("generator",Boolean,o.false).field("async",Boolean,o.false),n("Statement").bases("Node"),n("EmptyStatement").bases("Statement").build(),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]),n("ExpressionStatement").bases("Statement").build("expression").field("expression",n("Expression")),n("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Statement")).field("alternate",i(n("Statement"),null),o.null),n("LabeledStatement").bases("Statement").build("label","body").field("label",n("Identifier")).field("body",n("Statement")),n("BreakStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("ContinueStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("WithStatement").bases("Statement").build("object","body").field("object",n("Expression")).field("body",n("Statement")),n("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",n("Expression")).field("cases",[n("SwitchCase")]).field("lexical",Boolean,o.false),n("ReturnStatement").bases("Statement").build("argument").field("argument",i(n("Expression"),null)),n("ThrowStatement").bases("Statement").build("argument").field("argument",n("Expression")),n("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",n("BlockStatement")).field("handler",i(n("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[n("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[n("CatchClause")],o.emptyArray).field("finalizer",i(n("BlockStatement"),null),o.null),n("CatchClause").bases("Node").build("param","guard","body").field("param",n("Pattern")).field("guard",i(n("Expression"),null),o.null).field("body",n("BlockStatement")),n("WhileStatement").bases("Statement").build("test","body").field("test",n("Expression")).field("body",n("Statement")),n("DoWhileStatement").bases("Statement").build("body","test").field("body",n("Statement")).field("test",n("Expression")),n("ForStatement").bases("Statement").build("init","test","update","body").field("init",i(n("VariableDeclaration"),n("Expression"),null)).field("test",i(n("Expression"),null)).field("update",i(n("Expression"),null)).field("body",n("Statement")),n("ForInStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("DebuggerStatement").bases("Statement").build(),n("Declaration").bases("Statement"),n("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",n("Identifier")),n("FunctionExpression").bases("Function","Expression").build("id","params","body"),n("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",i("var","let","const")).field("declarations",[n("VariableDeclarator")]),n("VariableDeclarator").bases("Node").build("id","init").field("id",n("Pattern")).field("init",i(n("Expression"),null),o.null),n("Expression").bases("Node"),n("ThisExpression").bases("Expression").build(),n("ArrayExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),null)]),n("ObjectExpression").bases("Expression").build("properties").field("properties",[n("Property")]),n("Property").bases("Node").build("kind","key","value").field("kind",i("init","get","set")).field("key",i(n("Literal"),n("Identifier"))).field("value",n("Expression")),n("SequenceExpression").bases("Expression").build("expressions").field("expressions",[n("Expression")]);var p=i("-","+","!","~","typeof","void","delete");n("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",p).field("argument",n("Expression")).field("prefix",Boolean,o.true);let d=i(...u);n("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",d).field("left",n("Expression")).field("right",n("Expression"));let f=i(...c);n("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",f).field("left",i(n("Pattern"),n("MemberExpression"))).field("right",n("Expression"));var h=i("++","--");n("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",h).field("argument",n("Expression")).field("prefix",Boolean);var m=i(...l);n("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",m).field("left",n("Expression")).field("right",n("Expression")),n("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Expression")).field("alternate",n("Expression")),n("NewExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("CallExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("MemberExpression").bases("Expression").build("object","property","computed").field("object",n("Expression")).field("property",i(n("Identifier"),n("Expression"))).field("computed",Boolean,function(){var g=this.property.type;return g==="Literal"||g==="MemberExpression"||g==="BinaryExpression"}),n("Pattern").bases("Node"),n("SwitchCase").bases("Node").build("test","consequent").field("test",i(n("Expression"),null)).field("consequent",[n("Statement")]),n("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,o.false),n("Literal").bases("Expression").build("value").field("value",i(String,Boolean,null,Number,RegExp,BigInt)),n("Comment").bases("Printable").field("value",String).field("leading",Boolean,o.true).field("trailing",Boolean,o.false)}Ve(()=>module);function Mre(t){t.use(Rre);let e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults;r("Function").field("generator",Boolean,i.false).field("expression",Boolean,i.false).field("defaults",[n(r("Expression"),null)],i.emptyArray).field("rest",n(r("Identifier"),null),i.null),r("RestElement").bases("Pattern").build("argument").field("argument",r("Pattern")).field("typeAnnotation",n(r("TypeAnnotation"),r("TSTypeAnnotation"),null),i.null),r("SpreadElementPattern").bases("Pattern").build("argument").field("argument",r("Pattern")),r("FunctionDeclaration").build("id","params","body","generator","expression").field("id",n(r("Identifier"),null)),r("FunctionExpression").build("id","params","body","generator","expression"),r("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,i.null).field("body",n(r("BlockStatement"),r("Expression"))).field("generator",!1,i.false),r("ForOfStatement").bases("Statement").build("left","right","body").field("left",n(r("VariableDeclaration"),r("Pattern"))).field("right",r("Expression")).field("body",r("Statement")),r("YieldExpression").bases("Expression").build("argument","delegate").field("argument",n(r("Expression"),null)).field("delegate",Boolean,i.false),r("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",r("Expression")).field("blocks",[r("ComprehensionBlock")]).field("filter",n(r("Expression"),null)),r("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",r("Expression")).field("blocks",[r("ComprehensionBlock")]).field("filter",n(r("Expression"),null)),r("ComprehensionBlock").bases("Node").build("left","right","each").field("left",r("Pattern")).field("right",r("Expression")).field("each",Boolean),r("Property").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("value",n(r("Expression"),r("Pattern"))).field("method",Boolean,i.false).field("shorthand",Boolean,i.false).field("computed",Boolean,i.false),r("ObjectProperty").field("shorthand",Boolean,i.false),r("PropertyPattern").bases("Pattern").build("key","pattern").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("pattern",r("Pattern")).field("computed",Boolean,i.false),r("ObjectPattern").bases("Pattern").build("properties").field("properties",[n(r("PropertyPattern"),r("Property"))]),r("ArrayPattern").bases("Pattern").build("elements").field("elements",[n(r("Pattern"),null)]),r("SpreadElement").bases("Node").build("argument").field("argument",r("Expression")),r("ArrayExpression").field("elements",[n(r("Expression"),r("SpreadElement"),r("RestElement"),null)]),r("NewExpression").field("arguments",[n(r("Expression"),r("SpreadElement"))]),r("CallExpression").field("arguments",[n(r("Expression"),r("SpreadElement"))]),r("AssignmentPattern").bases("Pattern").build("left","right").field("left",r("Pattern")).field("right",r("Expression")),r("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",n("constructor","method","get","set")).field("key",r("Expression")).field("value",r("Function")).field("computed",Boolean,i.false).field("static",Boolean,i.false);let s=n(r("MethodDefinition"),r("VariableDeclarator"),r("ClassPropertyDefinition"),r("ClassProperty"),r("StaticBlock"));r("ClassProperty").bases("Declaration").build("key").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("computed",Boolean,i.false),r("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),r("ClassBody").bases("Declaration").build("body").field("body",[s]),r("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",n(r("Identifier"),null)).field("body",r("ClassBody")).field("superClass",n(r("Expression"),null),i.null),r("ClassExpression").bases("Expression").build("id","body","superClass").field("id",n(r("Identifier"),null),i.null).field("body",r("ClassBody")).field("superClass",n(r("Expression"),null),i.null),r("Super").bases("Expression").build(),r("Specifier").bases("Node"),r("ModuleSpecifier").bases("Specifier").field("local",n(r("Identifier"),null),i.null).field("id",n(r("Identifier"),null),i.null).field("name",n(r("Identifier"),null),i.null),r("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",r("Identifier")),r("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),r("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),r("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[n(r("ImportSpecifier"),r("ImportNamespaceSpecifier"),r("ImportDefaultSpecifier"))],i.emptyArray).field("source",r("Literal")).field("importKind",n("value","type"),function(){return"value"}),r("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",n(r("Declaration"),null)).field("specifiers",[r("ExportSpecifier")],i.emptyArray).field("source",n(r("Literal"),null),i.null),r("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",r("Identifier")),r("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",n(r("Declaration"),r("Expression"))),r("ExportAllDeclaration").bases("Declaration").build("source").field("source",r("Literal")),r("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",r("Expression")).field("quasi",r("TemplateLiteral")),r("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[r("TemplateElement")]).field("expressions",[r("Expression")]),r("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean),r("MetaProperty").bases("Expression").build("meta","property").field("meta",r("Identifier")).field("property",r("Identifier"))}Ve(()=>module);function Lre(t){t.use(jM),t.use(Mre)}Ve(()=>module);function Bre(t){t.use(Lre);let r=t.use(dt).Type.def,n=t.use(Ur).defaults;r("Function").field("async",Boolean,n.false),r("AwaitExpression").bases("Expression").build("argument").field("argument",r("Expression"))}Ve(()=>module);function $re(t){t.use(Bre);let e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults;r("ForOfStatement").field("await",Boolean,i.false),r("SpreadProperty").bases("Node").build("argument").field("argument",r("Expression")),r("ObjectExpression").field("properties",[n(r("Property"),r("SpreadProperty"),r("SpreadElement"))]),r("TemplateElement").field("value",{cooked:n(String,null),raw:String}),r("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",r("Pattern")),r("ObjectPattern").field("properties",[n(r("PropertyPattern"),r("Property"),r("RestElement"),r("SpreadPropertyPattern"))])}Ve(()=>module);function Ure(t){t.use($re);let e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults;r("CatchClause").field("param",n(r("Pattern"),null),i.null)}Ve(()=>module);function jre(t){t.use(qM),t.use(Ure);let e=t.use(dt),r=e.Type.def,n=e.Type.or,s=t.use(Ur).defaults;r("ImportExpression").bases("Expression").build("source").field("source",r("Expression")),r("ExportAllDeclaration").bases("Declaration").build("source","exported").field("source",r("Literal")).field("exported",n(r("Identifier"),null,void 0),s.null),r("ChainElement").bases("Node").field("optional",Boolean,s.false),r("CallExpression").bases("Expression","ChainElement"),r("MemberExpression").bases("Expression","ChainElement"),r("ChainExpression").bases("Expression").build("expression").field("expression",r("ChainElement")),r("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,s.true),r("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,s.true)}Ve(()=>module);function qre(t){t.use(kre),t.use(jre)}Ve(()=>module);function Gre(t){t.use(qre);let r=t.use(dt).Type.def;r("StaticBlock").bases("Declaration").build("body").field("body",[r("Statement")])}Ve(()=>module);function np(t){t.use(Gre);let e=t.use(dt),r=e.Type,n=e.Type.def,i=r.or,o=t.use(Ur).defaults;n("AwaitExpression").build("argument","all").field("argument",i(n("Expression"),null)).field("all",Boolean,o.false),n("Decorator").bases("Node").build("expression").field("expression",n("Expression")),n("Property").field("decorators",i([n("Decorator")],null),o.null),n("MethodDefinition").field("decorators",i([n("Decorator")],null),o.null),n("PrivateName").bases("Expression","Pattern").build("id").field("id",n("Identifier")),n("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",n("PrivateName")).field("value",i(n("Expression"),null),o.null),n("ImportAttribute").bases("Node").build("key","value").field("key",i(n("Identifier"),n("Literal"))).field("value",n("Expression")),["ImportDeclaration","ExportAllDeclaration","ExportNamedDeclaration"].forEach(a=>{n(a).field("assertions",[n("ImportAttribute")],o.emptyArray)}),n("RecordExpression").bases("Expression").build("properties").field("properties",[i(n("ObjectProperty"),n("ObjectMethod"),n("SpreadElement"))]),n("TupleExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),n("SpreadElement"),null)]),n("ModuleExpression").bases("Node").build("body").field("body",n("Program"))}Ve(()=>module);function Vre(t){t.use(np);let e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults;r("JSXAttribute").bases("Node").build("name","value").field("name",n(r("JSXIdentifier"),r("JSXNamespacedName"))).field("value",n(r("Literal"),r("JSXExpressionContainer"),r("JSXElement"),r("JSXFragment"),null),i.null),r("JSXIdentifier").bases("Identifier").build("name").field("name",String),r("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",r("JSXIdentifier")).field("name",r("JSXIdentifier")),r("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",n(r("JSXIdentifier"),r("JSXMemberExpression"))).field("property",r("JSXIdentifier")).field("computed",Boolean,i.false);let s=n(r("JSXIdentifier"),r("JSXNamespacedName"),r("JSXMemberExpression"));r("JSXSpreadAttribute").bases("Node").build("argument").field("argument",r("Expression"));let o=[n(r("JSXAttribute"),r("JSXSpreadAttribute"))];r("JSXExpressionContainer").bases("Expression").build("expression").field("expression",n(r("Expression"),r("JSXEmptyExpression")));let a=[n(r("JSXText"),r("JSXExpressionContainer"),r("JSXSpreadChild"),r("JSXElement"),r("JSXFragment"),r("Literal"))];r("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",r("JSXOpeningElement")).field("closingElement",n(r("JSXClosingElement"),null),i.null).field("children",a,i.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",o,function(){return this.openingElement.attributes},!0),r("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",o,i.emptyArray).field("selfClosing",Boolean,i.false),r("JSXClosingElement").bases("Node").build("name").field("name",s),r("JSXFragment").bases("Expression").build("openingFragment","closingFragment","children").field("openingFragment",r("JSXOpeningFragment")).field("closingFragment",r("JSXClosingFragment")).field("children",a,i.emptyArray),r("JSXOpeningFragment").bases("Node").build(),r("JSXClosingFragment").bases("Node").build(),r("JSXText").bases("Literal").build("value","raw").field("value",String).field("raw",String,function(){return this.value}),r("JSXEmptyExpression").bases("Node").build(),r("JSXSpreadChild").bases("Node").build("expression").field("expression",r("Expression"))}Ve(()=>module);function GM(t){var e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults,s=n(r("TypeAnnotation"),r("TSTypeAnnotation"),null),o=n(r("TypeParameterDeclaration"),r("TSTypeParameterDeclaration"),null);r("Identifier").field("typeAnnotation",s,i.null),r("ObjectPattern").field("typeAnnotation",s,i.null),r("Function").field("returnType",s,i.null).field("typeParameters",o,i.null),r("ClassProperty").build("key","value","typeAnnotation","static").field("value",n(r("Expression"),null)).field("static",Boolean,i.false).field("typeAnnotation",s,i.null),["ClassDeclaration","ClassExpression"].forEach(a=>{r(a).field("typeParameters",o,i.null).field("superTypeParameters",n(r("TypeParameterInstantiation"),r("TSTypeParameterInstantiation"),null),i.null).field("implements",n([r("ClassImplements")],[r("TSExpressionWithTypeArguments")]),i.emptyArray)})}Ve(()=>module);function VM(t){t.use(np),t.use(GM);let e=t.use(dt),r=e.Type.def,n=e.Type.or,i=t.use(Ur).defaults;r("Flow").bases("Node"),r("FlowType").bases("Flow"),r("AnyTypeAnnotation").bases("FlowType").build(),r("EmptyTypeAnnotation").bases("FlowType").build(),r("MixedTypeAnnotation").bases("FlowType").build(),r("VoidTypeAnnotation").bases("FlowType").build(),r("SymbolTypeAnnotation").bases("FlowType").build(),r("NumberTypeAnnotation").bases("FlowType").build(),r("BigIntTypeAnnotation").bases("FlowType").build(),r("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),r("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),r("BigIntLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",null).field("raw",String),r("StringTypeAnnotation").bases("FlowType").build(),r("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),r("BooleanTypeAnnotation").bases("FlowType").build(),r("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),r("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",r("FlowType")),r("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",r("FlowType")),r("NullLiteralTypeAnnotation").bases("FlowType").build(),r("NullTypeAnnotation").bases("FlowType").build(),r("ThisTypeAnnotation").bases("FlowType").build(),r("ExistsTypeAnnotation").bases("FlowType").build(),r("ExistentialTypeParam").bases("FlowType").build(),r("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[r("FunctionTypeParam")]).field("returnType",r("FlowType")).field("rest",n(r("FunctionTypeParam"),null)).field("typeParameters",n(r("TypeParameterDeclaration"),null)),r("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",n(r("Identifier"),null)).field("typeAnnotation",r("FlowType")).field("optional",Boolean),r("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",r("FlowType")),r("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[n(r("ObjectTypeProperty"),r("ObjectTypeSpreadProperty"))]).field("indexers",[r("ObjectTypeIndexer")],i.emptyArray).field("callProperties",[r("ObjectTypeCallProperty")],i.emptyArray).field("inexact",n(Boolean,void 0),i.undefined).field("exact",Boolean,i.false).field("internalSlots",[r("ObjectTypeInternalSlot")],i.emptyArray),r("Variance").bases("Node").build("kind").field("kind",n("plus","minus"));let s=n(r("Variance"),"plus","minus",null);r("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",n(r("Literal"),r("Identifier"))).field("value",r("FlowType")).field("optional",Boolean).field("variance",s,i.null),r("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",r("Identifier")).field("key",r("FlowType")).field("value",r("FlowType")).field("variance",s,i.null).field("static",Boolean,i.false),r("ObjectTypeCallProperty").bases("Node").build("value").field("value",r("FunctionTypeAnnotation")).field("static",Boolean,i.false),r("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",n(r("Identifier"),r("QualifiedTypeIdentifier"))).field("id",r("Identifier")),r("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",n(r("Identifier"),r("QualifiedTypeIdentifier"))).field("typeParameters",n(r("TypeParameterInstantiation"),null)),r("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",r("Identifier")).field("property",n(r("MemberTypeAnnotation"),r("GenericTypeAnnotation"))),r("IndexedAccessType").bases("FlowType").build("objectType","indexType").field("objectType",r("FlowType")).field("indexType",r("FlowType")),r("OptionalIndexedAccessType").bases("FlowType").build("objectType","indexType","optional").field("objectType",r("FlowType")).field("indexType",r("FlowType")).field("optional",Boolean),r("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",r("FlowType")),r("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",r("FlowType")),r("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",r("Identifier")).field("value",r("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),r("TypeParameterDeclaration").bases("Node").build("params").field("params",[r("TypeParameter")]),r("TypeParameterInstantiation").bases("Node").build("params").field("params",[r("FlowType")]),r("TypeParameter").bases("FlowType").build("name","variance","bound","default").field("name",String).field("variance",s,i.null).field("bound",n(r("TypeAnnotation"),null),i.null).field("default",n(r("FlowType"),null),i.null),r("ClassProperty").field("variance",s,i.null),r("ClassImplements").bases("Node").build("id").field("id",r("Identifier")).field("superClass",n(r("Expression"),null),i.null).field("typeParameters",n(r("TypeParameterInstantiation"),null),i.null),r("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",r("ObjectTypeAnnotation")).field("extends",n([r("InterfaceExtends")],null),i.null),r("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null),i.null).field("body",r("ObjectTypeAnnotation")).field("extends",[r("InterfaceExtends")]),r("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),r("InterfaceExtends").bases("Node").build("id").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterInstantiation"),null),i.null),r("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null)).field("right",r("FlowType")),r("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),r("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null)).field("impltype",r("FlowType")).field("supertype",n(r("FlowType"),null)),r("DeclareOpaqueType").bases("OpaqueType").build("id","typeParameters","supertype").field("impltype",n(r("FlowType"),null)),r("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",r("Expression")).field("typeAnnotation",r("TypeAnnotation")),r("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("DeclareVariable").bases("Statement").build("id").field("id",r("Identifier")),r("DeclareFunction").bases("Statement").build("id").field("id",r("Identifier")).field("predicate",n(r("FlowPredicate"),null),i.null),r("DeclareClass").bases("InterfaceDeclaration").build("id"),r("DeclareModule").bases("Statement").build("id","body").field("id",n(r("Identifier"),r("Literal"))).field("body",r("BlockStatement")),r("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",r("TypeAnnotation")),r("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(r("DeclareVariable"),r("DeclareFunction"),r("DeclareClass"),r("FlowType"),r("TypeAlias"),r("DeclareOpaqueType"),r("InterfaceDeclaration"),null)).field("specifiers",[n(r("ExportSpecifier"),r("ExportBatchSpecifier"))],i.emptyArray).field("source",n(r("Literal"),null),i.null),r("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",n(r("Literal"),null),i.null),r("ImportDeclaration").field("importKind",n("value","type","typeof"),()=>"value"),r("FlowPredicate").bases("Flow"),r("InferredPredicate").bases("FlowPredicate").build(),r("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",r("Expression")),r("Function").field("predicate",n(r("FlowPredicate"),null),i.null),r("CallExpression").field("typeArguments",n(null,r("TypeParameterInstantiation")),i.null),r("NewExpression").field("typeArguments",n(null,r("TypeParameterInstantiation")),i.null),r("EnumDeclaration").bases("Declaration").build("id","body").field("id",r("Identifier")).field("body",n(r("EnumBooleanBody"),r("EnumNumberBody"),r("EnumStringBody"),r("EnumSymbolBody"))),r("EnumBooleanBody").build("members","explicitType").field("members",[r("EnumBooleanMember")]).field("explicitType",Boolean),r("EnumNumberBody").build("members","explicitType").field("members",[r("EnumNumberMember")]).field("explicitType",Boolean),r("EnumStringBody").build("members","explicitType").field("members",n([r("EnumStringMember")],[r("EnumDefaultedMember")])).field("explicitType",Boolean),r("EnumSymbolBody").build("members").field("members",[r("EnumDefaultedMember")]),r("EnumBooleanMember").build("id","init").field("id",r("Identifier")).field("init",n(r("Literal"),Boolean)),r("EnumNumberMember").build("id","init").field("id",r("Identifier")).field("init",r("Literal")),r("EnumStringMember").build("id","init").field("id",r("Identifier")).field("init",r("Literal")),r("EnumDefaultedMember").build("id").field("id",r("Identifier"))}Ve(()=>module);function Kre(t){t.use(np);var e=t.use(dt),r=t.use(Ur).defaults,n=e.Type.def,i=e.Type.or;n("VariableDeclaration").field("declarations",[i(n("VariableDeclarator"),n("Identifier"))]),n("Property").field("value",i(n("Expression"),n("Pattern"))),n("ArrayPattern").field("elements",[i(n("Pattern"),n("SpreadElement"),null)]),n("ObjectPattern").field("properties",[i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"))]),n("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),n("ExportBatchSpecifier").bases("Specifier").build(),n("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",i(n("Declaration"),n("Expression"),null)).field("specifiers",[i(n("ExportSpecifier"),n("ExportBatchSpecifier"))],r.emptyArray).field("source",i(n("Literal"),null),r.null),n("Block").bases("Comment").build("value","leading","trailing"),n("Line").bases("Comment").build("value","leading","trailing")}Ve(()=>module);function KM(t){t.use(np);let e=t.use(dt),r=t.use(Ur).defaults,n=e.Type.def,i=e.Type.or,{undefined:s}=e.builtInTypes;n("Noop").bases("Statement").build(),n("DoExpression").bases("Expression").build("body").field("body",[n("Statement")]),n("BindExpression").bases("Expression").build("object","callee").field("object",i(n("Expression"),null)).field("callee",n("Expression")),n("ParenthesizedExpression").bases("Expression").build("expression").field("expression",n("Expression")),n("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("CommentBlock").bases("Comment").build("value","leading","trailing"),n("CommentLine").bases("Comment").build("value","leading","trailing"),n("Directive").bases("Node").build("value").field("value",n("DirectiveLiteral")),n("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,r["use strict"]),n("InterpreterDirective").bases("Node").build("value").field("value",String),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],r.emptyArray),n("Program").bases("Node").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],r.emptyArray).field("interpreter",i(n("InterpreterDirective"),null),r.null);function o(l=String,p){return["extra",{rawValue:l,raw:String},function(){let f=e.getFieldValue(this,"value");return{rawValue:f,raw:p?p(f):String(f)}}]}n("StringLiteral").bases("Literal").build("value").field("value",String).field(...o(String,l=>JSON.stringify(l))),n("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",i(String,null),r.null).field(...o(Number)),n("BigIntLiteral").bases("Literal").build("value").field("value",i(String,Number)).field(...o(String,l=>l+"n")),n("DecimalLiteral").bases("Literal").build("value").field("value",String).field(...o(String,l=>l+"m")),n("NullLiteral").bases("Literal").build().field("value",null,r.null),n("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),n("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)}).field(...o(i(RegExp,s),l=>`/${l.pattern}/${l.flags||""}`)).field("regex",{pattern:String,flags:String},function(){return{pattern:this.pattern,flags:this.flags}});var a=i(n("Property"),n("ObjectMethod"),n("ObjectProperty"),n("SpreadProperty"),n("SpreadElement"));n("ObjectExpression").bases("Expression").build("properties").field("properties",[a]),n("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",i("method","get","set")).field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("computed",Boolean,r.false).field("generator",Boolean,r.false).field("async",Boolean,r.false).field("accessibility",i(n("Literal"),null),r.null).field("decorators",i([n("Decorator")],null),r.null),n("ObjectProperty").bases("Node").build("key","value").field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("value",i(n("Expression"),n("Pattern"))).field("accessibility",i(n("Literal"),null),r.null).field("computed",Boolean,r.false);var u=i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("ClassAccessorProperty"),n("StaticBlock"));n("ClassBody").bases("Declaration").build("body").field("body",[u]),n("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",i(n("Literal"),n("Identifier"),n("Expression"))),n("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",n("PrivateName")),n("ClassAccessorProperty").bases("Declaration").build("key","value","decorators","computed","static").field("key",i(n("Literal"),n("Identifier"),n("PrivateName"),n("Expression"))).field("value",i(n("Expression"),null),r.null),["ClassMethod","ClassPrivateMethod"].forEach(l=>{n(l).field("kind",i("get","set","method","constructor"),()=>"method").field("body",n("BlockStatement")).field("access",i("public","private","protected",null),r.null)}),["ClassMethod","ClassPrivateMethod","ClassAccessorProperty"].forEach(l=>{n(l).field("computed",Boolean,r.false).field("static",Boolean,r.false).field("abstract",Boolean,r.false).field("accessibility",i("public","private","protected",null),r.null).field("decorators",i([n("Decorator")],null),r.null).field("definite",Boolean,r.false).field("optional",Boolean,r.false).field("override",Boolean,r.false).field("readonly",Boolean,r.false)});var c=i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"),n("ObjectProperty"),n("RestProperty"),n("RestElement"));n("ObjectPattern").bases("Pattern").build("properties").field("properties",[c]).field("decorators",i([n("Decorator")],null),r.null),n("SpreadProperty").bases("Node").build("argument").field("argument",n("Expression")),n("RestProperty").bases("Node").build("argument").field("argument",n("Expression")),n("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("Import").bases("Expression").build()}Ve(()=>module);function Hre(t){let r=t.use(dt).Type.def;t.use(KM),t.use(VM),r("V8IntrinsicIdentifier").bases("Expression").build("name").field("name",String),r("TopicReference").bases("Expression").build()}Ve(()=>module);function zre(t){t.use(KM),t.use(GM);var e=t.use(dt),r=e.namedTypes,n=e.Type.def,i=e.Type.or,s=t.use(Ur).defaults,o=e.Type.from(function(l,p){return!!(r.StringLiteral&&r.StringLiteral.check(l,p)||r.Literal&&r.Literal.check(l,p)&&typeof l.value=="string")},"StringLiteral");n("TSType").bases("Node");var a=i(n("Identifier"),n("TSQualifiedName"));n("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",a),n("TSHasOptionalTypeParameterInstantiation").field("typeParameters",i(n("TSTypeParameterInstantiation"),null),s.null),n("TSHasOptionalTypeParameters").field("typeParameters",i(n("TSTypeParameterDeclaration"),null,void 0),s.null),n("TSHasOptionalTypeAnnotation").field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null),n("TSQualifiedName").bases("Node").build("left","right").field("left",a).field("right",a),n("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSSatisfiesExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",n("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSIntrinsicKeyword","TSThisType"].forEach(l=>{n(l).bases("TSType").build()}),n("TSArrayType").bases("TSType").build("elementType").field("elementType",n("TSType")),n("TSLiteralType").bases("TSType").build("literal").field("literal",i(n("NumericLiteral"),n("StringLiteral"),n("BooleanLiteral"),n("TemplateLiteral"),n("UnaryExpression"),n("BigIntLiteral"))),n("TemplateLiteral").field("expressions",i([n("Expression")],[n("TSType")])),["TSUnionType","TSIntersectionType"].forEach(l=>{n(l).bases("TSType").build("types").field("types",[n("TSType")])}),n("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",n("TSType")).field("extendsType",n("TSType")).field("trueType",n("TSType")).field("falseType",n("TSType")),n("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",n("TSTypeParameter")),n("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType"));var u=[i(n("Identifier"),n("RestElement"),n("ArrayPattern"),n("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(l=>{n(l).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",u)}),n("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",i(n("Identifier"),null),s.null).field("params",[n("Pattern")]).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[n("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",i("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",i(n("Identifier"),n("StringLiteral"),n("NumericLiteral"),n("Expression"))).field("kind",i("get","set","method","constructor"),function(){return"method"}).field("access",i("public","private","protected",void 0),s.undefined).field("decorators",i([n("Decorator")],null),s.null).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",i(Boolean,"+","-"),s.false).field("typeParameter",n("TSTypeParameter")).field("optional",i(Boolean,"+","-"),s.false).field("typeAnnotation",i(n("TSType"),null),s.null),n("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[i(n("TSType"),n("TSNamedTupleMember"))]),n("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",n("Identifier")).field("optional",Boolean,s.false).field("elementType",n("TSType")),n("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",n("TSType")).field("indexType",n("TSType")),n("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",n("TSType")),n("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i(n("TSType"),n("TSTypeAnnotation"))),n("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[n("Identifier")]).field("readonly",Boolean,s.false),n("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",n("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",i(n("Expression"),null),s.null),n("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",n("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",u),n("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",i(n("Identifier"),n("TSThisType"))).field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(l=>{n(l).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",u)}),n("TSEnumMember").bases("Node").build("id","initializer").field("id",i(n("Identifier"),o)).field("initializer",i(n("Expression"),null),s.null),n("TSTypeQuery").bases("TSType").build("exprName").field("exprName",i(a,n("TSImportType")));var c=i(n("TSCallSignatureDeclaration"),n("TSConstructSignatureDeclaration"),n("TSIndexSignature"),n("TSMethodSignature"),n("TSPropertySignature"));n("TSTypeLiteral").bases("TSType").build("members").field("members",[c]),n("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",i(n("Identifier"),String)).field("constraint",i(n("TSType"),void 0),s.undefined).field("default",i(n("TSType"),void 0),s.undefined),n("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",n("TSType")).field("expression",n("Expression")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[n("TSTypeParameter")]),n("TSInstantiationExpression").bases("Expression","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",n("Expression")),n("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[n("TSType")]),n("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",n("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[n("TSEnumMember")]).field("initializer",i(n("Expression"),null),s.null),n("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",n("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",n("TSType")),n("TSModuleBlock").bases("Node").build("body").field("body",[n("Statement")]),n("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",i(o,a)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",i(n("TSModuleBlock"),n("TSModuleDeclaration"),null),s.null),n("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",o).field("qualifier",i(a,void 0),s.undefined),n("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",n("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",i(a,n("TSExternalModuleReference"))),n("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",o),n("TSExportAssignment").bases("Statement").build("expression").field("expression",n("Expression")),n("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",n("Identifier")),n("TSInterfaceBody").bases("Node").build("body").field("body",[c]),n("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",a),n("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",a).field("declare",Boolean,s.false).field("extends",i([n("TSExpressionWithTypeArguments")],null),s.null).field("body",n("TSInterfaceBody")),n("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",i("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",i(n("Identifier"),n("AssignmentPattern"))),n("ClassProperty").field("access",i("public","private","protected",void 0),s.undefined),n("ClassAccessorProperty").bases("Declaration","TSHasOptionalTypeAnnotation"),n("ClassBody").field("body",[i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassAccessorProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("StaticBlock"),n("TSDeclareMethod"),c)])}Ve(()=>module);var Pn;Pn||(Pn={});var{astNodesAreEquivalent:ZEe,khulnasofts:Su,builtInTypes:In,defineMethod:eDe,eachField:tDe,finalize:rDe,getKhulnasoftName:nDe,getFieldNames:Wre,getFieldValue:is,getSupertypeNames:iDe,namedTypes:Yre,NodePath:Jre,Path:sDe,PathVisitor:oDe,someField:Xre,Type:aDe,use:uDe,visit:cDe}=Fre([np,Vre,VM,Kre,Hre,zre]);Object.assign(Pn,Yre);var Wh=Pn,SM=cm.default.SourceMapConsumer,Qre=cm.default.SourceMapGenerator,HM=Object.prototype.hasOwnProperty;function Zre(){return`
`}function _M(t,e,r){return t&&HM.call(t,e)?t[e]:r}function ene(...t){let e={},r=t.length;for(let n=0;n<r;++n){let i=Object.keys(t[n]),s=i.length;for(let o=0;o<s;++o)e[i[o]]=!0}return e}function Fe(t,e){return t.line-e.line||t.column-e.column}function Gs(t){return{line:t.line,column:t.column}}function tne(t,e){if(t){if(!e)return t}else return e||null;let r=new SM(t),n=new SM(e),i=new Qre({file:e.file,sourceRoot:e.sourceRoot}),s={};return n.eachMapping(function(o){let a=r.originalPositionFor({line:o.originalLine,column:o.originalColumn}),u=a.source;if(u===null)return;i.addMapping({source:u,original:Gs(a),generated:{line:o.generatedLine,column:o.generatedColumn},name:o.name});let c=r.sourceContentFor(u);c&&!HM.call(s,u)&&(s[u]=c,i.setSourceContent(u,c))}),i.toJSON()}function zM(t,e){if(!t.loc)return null;let r={start:t.loc.start,end:t.loc.end};function n(i){D_(r,i.loc)}return t.declaration&&t.declaration.decorators&&lm(t)&&t.declaration.decorators.forEach(n),Fe(r.start,r.end)<0&&(r.start=Gs(r.start),e.skipSpaces(r.start,!1,!0),Fe(r.start,r.end)<0&&(r.end=Gs(r.end),e.skipSpaces(r.end,!0,!0))),t.comments&&t.comments.forEach(n),r}function D_(t,e){t&&e&&(Fe(e.start,t.start)<0&&(t.start=e.start),Fe(t.end,e.end)<0&&(t.end=e.end))}function I_(t,e){let r=t.loc;if(r&&(r.start.line<1&&(r.start.line=1),r.end.line<1&&(r.end.line=1)),t.type==="File"&&(r.start=e.firstPos(),r.end=e.lastPos()),rne(t,e),nne(t,e),r&&t.decorators)t.decorators.forEach(function(n){D_(r,n.loc)});else if(t.declaration&&lm(t)){t.declaration.loc=null;let n=t.declaration.decorators;n&&n.forEach(function(i){D_(r,i.loc)})}else if(Wh.MethodDefinition&&Wh.MethodDefinition.check(t)||Wh.Property.check(t)&&(t.method||t.shorthand))t.value.loc=null,Wh.FunctionExpression.check(t.value)&&(t.value.id=null);else if(t.type==="ObjectTypeProperty"){let n=t.loc,i=n&&n.end;i&&(i=Gs(i),e.prevPos(i)&&e.charAt(i)===","&&(i=e.skipSpaces(i,!0,!0))&&(n.end=i))}}function rne(t,e){if(t.type!=="ForStatement")return;function r(n){let i=n&&n.loc,s=i&&i.start,o=i&&Gs(i.end);for(;s&&o&&Fe(s,o)<0&&(e.prevPos(o),e.charAt(o)===";");)i.end.line=o.line,i.end.column=o.column}r(t.init),r(t.test),r(t.update)}function nne(t,e){if(t.type==="TemplateLiteral"&&t.quasis.length!==0){if(t.loc){let r=Gs(t.loc.start),n=t.quasis[0];Fe(n.loc.start,r)<0&&(n.loc.start=r);let i=Gs(t.loc.end),s=t.quasis[t.quasis.length-1];Fe(i,s.loc.end)<0&&(s.loc.end=i)}t.expressions.forEach(function(r,n){let i=e.skipSpaces(r.loc.start,!0,!1);if(e.prevPos(i)&&e.charAt(i)==="{"&&e.prevPos(i)&&e.charAt(i)==="$"){let o=t.quasis[n];Fe(i,o.loc.end)<0&&(o.loc.end=i)}let s=e.skipSpaces(r.loc.end,!1,!1);if(e.charAt(s)==="}"){let o=t.quasis[n+1];Fe(o.loc.start,s)<0&&(o.loc.start=s)}})}}function lm(t){if(t)switch(t.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1}function WM(t){let e=t.getParentNode();return t.getName()==="declaration"&&lm(e)?e:null}function Ql(t,e){let r=t.trailingComma;return typeof r=="object"?!!r[e]:!!r}var x_={tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:Zre(),wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0,tokens:!0},ine=x_.hasOwnProperty;function pm(t){let e=t||x_;function r(n){return ine.call(e,n)?e[n]:x_[n]}return{tabWidth:+r("tabWidth"),useTabs:!!r("useTabs"),reuseWhitespace:!!r("reuseWhitespace"),lineTerminator:r("lineTerminator"),wrapColumn:Math.max(r("wrapColumn"),0),sourceFileName:r("sourceFileName"),sourceMapName:r("sourceMapName"),sourceRoot:r("sourceRoot"),inputSourceMap:r("inputSourceMap"),parser:r("esprima")||r("parser"),range:r("range"),tolerant:r("tolerant"),quote:r("quote"),trailingComma:r("trailingComma"),arrayBracketSpacing:r("arrayBracketSpacing"),objectCurlySpacing:r("objectCurlySpacing"),arrowParensAlways:r("arrowParensAlways"),flowObjectCommas:r("flowObjectCommas"),tokens:!!r("tokens")}}var S_=class t{constructor(e,r,n=r){this.sourceLines=e,this.sourceLoc=r,this.targetLoc=n}slice(e,r,n=e.lastPos()){let i=this.sourceLines,s=this.sourceLoc,o=this.targetLoc;function a(u){let c=s[u],l=o[u],p=r;return u==="end"&&(p=n),sne(i,c,e,l,p)}if(Fe(r,o.start)<=0)if(Fe(o.end,n)<=0)o={start:qs(o.start,r.line,r.column),end:qs(o.end,r.line,r.column)};else{if(Fe(n,o.start)<=0)return null;s={start:s.start,end:a("end")},o={start:qs(o.start,r.line,r.column),end:qs(n,r.line,r.column)}}else{if(Fe(o.end,r)<=0)return null;Fe(o.end,n)<=0?(s={start:a("start"),end:s.end},o={start:{line:1,column:0},end:qs(o.end,r.line,r.column)}):(s={start:a("start"),end:a("end")},o={start:{line:1,column:0},end:qs(n,r.line,r.column)})}return new t(this.sourceLines,s,o)}add(e,r){return new t(this.sourceLines,this.sourceLoc,{start:CM(this.targetLoc.start,e,r),end:CM(this.targetLoc.end,e,r)})}subtract(e,r){return new t(this.sourceLines,this.sourceLoc,{start:qs(this.targetLoc.start,e,r),end:qs(this.targetLoc.end,e,r)})}indent(e,r=!1,n=!1){if(e===0)return this;let i=this.targetLoc,s=i.start.line,o=i.end.line;if(r&&s===1&&o===1)return this;if(i={start:i.start,end:i.end},!r||s>1){let a=i.start.column+e;i.start={line:s,column:n?Math.max(0,a):a}}if(!r||o>1){let a=i.end.column+e;i.end={line:o,column:n?Math.max(0,a):a}}return new t(this.sourceLines,this.sourceLoc,i)}};function CM(t,e,r){return{line:t.line+e-1,column:t.line===1?t.column+r:t.column}}function qs(t,e,r){return{line:t.line-e+1,column:t.line===e?t.column-r:t.column}}function sne(t,e,r,n,i){let s=Fe(n,i);if(s===0)return e;let o,a;if(s<0){o=t.skipSpaces(e)||t.lastPos(),a=r.skipSpaces(n)||r.lastPos();let u=i.line-a.line;for(o.line+=u,a.line+=u,u>0&&(o.column=0,a.column=0);Fe(a,i)<0&&r.nextPos(a,!0););}else{o=t.skipSpaces(e,!0)||t.firstPos(),a=r.skipSpaces(n,!0)||r.firstPos();let u=i.line-a.line;for(o.line+=u,a.line+=u,u<0&&(o.column=t.getLineLength(o.line),a.column=r.getLineLength(a.line));Fe(i,a)<0&&r.prevPos(a,!0););}return o}var one=Object.defineProperty,ane=(t,e,r)=>e in t?one(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kl=(t,e,r)=>(ane(t,typeof e!="symbol"?e+"":e,r),r),Du=class t{constructor(e,r=null){this.infos=e,Kl(this,"length"),Kl(this,"name"),Kl(this,"mappings",[]),Kl(this,"cachedSourceMap",null),Kl(this,"cachedTabWidth"),this.length=e.length,this.name=r||null,this.name&&this.mappings.push(new S_(this,{start:this.firstPos(),end:this.lastPos()}))}toString(e){return this.sliceString(this.firstPos(),this.lastPos(),e)}getSourceMap(e,r){if(!e)return null;let n=this;function i(a){return a=a||{},a.file=e,r&&(a.sourceRoot=r),a}if(n.cachedSourceMap)return i(n.cachedSourceMap.toJSON());let s=new cm.default.SourceMapGenerator(i()),o={};return n.mappings.forEach(function(a){let u=a.sourceLines.skipSpaces(a.sourceLoc.start)||a.sourceLines.lastPos(),c=n.skipSpaces(a.targetLoc.start)||n.lastPos();for(;Fe(u,a.sourceLoc.end)<0&&Fe(c,a.targetLoc.end)<0;){a.sourceLines.charAt(u),n.charAt(c);let l=a.sourceLines.name;if(s.addMapping({source:l,original:{line:u.line,column:u.column},generated:{line:c.line,column:c.column}}),!__.call(o,l)){let p=a.sourceLines.toString();s.setSourceContent(l,p),o[l]=p}n.nextPos(c,!0),a.sourceLines.nextPos(u,!0)}}),n.cachedSourceMap=s,s.toJSON()}bootstrapCharAt(e){let r=e.line,n=e.column,i=this.toString().split(C_),s=i[r-1];return typeof s>"u"?"":n===s.length&&r<i.length?`
`:n>=s.length?"":s.charAt(n)}charAt(e){let r=e.line,n=e.column,i=this,s=i.infos,o=s[r-1],a=n;if(typeof o>"u"||a<0)return"";let u=this.getIndentAt(r);return a<u?" ":(a+=o.sliceStart-u,a===o.sliceEnd&&r<this.length?`
`:a>=o.sliceEnd?"":o.line.charAt(a))}stripMargin(e,r){if(e===0)return this;if(r&&this.length===1)return this;let n=new t(this.infos.map(function(i,s){return i.line&&(s>0||!r)&&(i={...i,indent:Math.max(0,i.indent-e)}),i}));if(this.mappings.length>0){let i=n.mappings;this.mappings.forEach(function(s){i.push(s.indent(e,r,!0))})}return n}indent(e){if(e===0)return this;let r=new t(this.infos.map(function(n){return n.line&&!n.locked&&(n={...n,indent:n.indent+e}),n}));if(this.mappings.length>0){let n=r.mappings;this.mappings.forEach(function(i){n.push(i.indent(e))})}return r}indentTail(e){if(e===0)return this;if(this.length<2)return this;let r=new t(this.infos.map(function(n,i){return i>0&&n.line&&!n.locked&&(n={...n,indent:n.indent+e}),n}));if(this.mappings.length>0){let n=r.mappings;this.mappings.forEach(function(i){n.push(i.indent(e,!0))})}return r}lockIndentTail(){return this.length<2?this:new t(this.infos.map((e,r)=>({...e,locked:r>0})))}getIndentAt(e){return Math.max(this.infos[e-1].indent,0)}guessTabWidth(){if(typeof this.cachedTabWidth=="number")return this.cachedTabWidth;let e=[],r=0;for(let s=1,o=this.length;s<=o;++s){let a=this.infos[s-1],u=a.line.slice(a.sliceStart,a.sliceEnd);if(gu(u))continue;let c=Math.abs(a.indent-r);e[c]=~~e[c]+1,r=a.indent}let n=-1,i=2;for(let s=1;s<e.length;s+=1)__.call(e,s)&&e[s]>n&&(n=e[s],i=s);return this.cachedTabWidth=i}startsWithComment(){if(this.infos.length===0)return!1;let e=this.infos[0],r=e.sliceStart,n=e.sliceEnd,i=e.line.slice(r,n).trim();return i.length===0||i.slice(0,2)==="//"||i.slice(0,2)==="/*"}isOnlyWhitespace(){return gu(this.toString())}isPrecededOnlyByWhitespace(e){let r=this.infos[e.line-1],n=Math.max(r.indent,0),i=e.column-n;if(i<=0)return!0;let s=r.sliceStart,o=Math.min(s+i,r.sliceEnd),a=r.line.slice(s,o);return gu(a)}getLineLength(e){let r=this.infos[e-1];return this.getIndentAt(e)+r.sliceEnd-r.sliceStart}nextPos(e,r=!1){let n=Math.max(e.line,0);return Math.max(e.column,0)<this.getLineLength(n)?(e.column+=1,r?!!this.skipSpaces(e,!1,!0):!0):n<this.length?(e.line+=1,e.column=0,r?!!this.skipSpaces(e,!1,!0):!0):!1}prevPos(e,r=!1){let n=e.line,i=e.column;if(i<1){if(n-=1,n<1)return!1;i=this.getLineLength(n)}else i=Math.min(i-1,this.getLineLength(n));return e.line=n,e.column=i,r?!!this.skipSpaces(e,!0,!0):!0}firstPos(){return{line:1,column:0}}lastPos(){return{line:this.length,column:this.getLineLength(this.length)}}skipSpaces(e,r=!1,n=!1){if(e?e=n?e:{line:e.line,column:e.column}:r?e=this.lastPos():e=this.firstPos(),r){for(;this.prevPos(e);)if(!gu(this.charAt(e))&&this.nextPos(e))return e;return null}else{for(;gu(this.charAt(e));)if(!this.nextPos(e))return null;return e}}trimLeft(){let e=this.skipSpaces(this.firstPos(),!1,!0);return e?this.slice(e):Vo}trimRight(){let e=this.skipSpaces(this.lastPos(),!0,!0);return e?this.slice(this.firstPos(),e):Vo}trim(){let e=this.skipSpaces(this.firstPos(),!1,!0);if(e===null)return Vo;let r=this.skipSpaces(this.lastPos(),!0,!0);return r===null?Vo:this.slice(e,r)}eachPos(e,r=this.firstPos(),n=!1){let i=this.firstPos();if(r&&(i.line=r.line,i.column=r.column),!(n&&!this.skipSpaces(i,!1,!0)))do e.call(this,i);while(this.nextPos(i,n))}bootstrapSlice(e,r){let n=this.toString().split(C_).slice(e.line-1,r.line);return n.length>0&&(n.push(n.pop().slice(0,r.column)),n[0]=n[0].slice(e.column)),I(n.join(`
`))}slice(e,r){if(!r){if(!e)return this;r=this.lastPos()}if(!e)throw new Error("cannot slice with end but not start");let n=this.infos.slice(e.line-1,r.line);e.line===r.line?n[0]=yu(n[0],e.column,r.column):(n[0]=yu(n[0],e.column),n.push(yu(n.pop(),0,r.column)));let i=new t(n);if(this.mappings.length>0){let s=i.mappings;this.mappings.forEach(function(o){let a=o.slice(this,e,r);a&&s.push(a)},this)}return i}bootstrapSliceString(e,r,n){return this.slice(e,r).toString(n)}sliceString(e=this.firstPos(),r=this.lastPos(),n){let{tabWidth:i,useTabs:s,reuseWhitespace:o,lineTerminator:a}=pm(n),u=[];for(let c=e.line;c<=r.line;++c){let l=this.infos[c-1];c===e.line?c===r.line?l=yu(l,e.column,r.column):l=yu(l,e.column):c===r.line&&(l=yu(l,0,r.column));let p=Math.max(l.indent,0),d=l.line.slice(0,l.sliceStart);if(o&&gu(d)&&YM(d,i)===p){u.push(l.line.slice(0,l.sliceEnd));continue}let f=0,h=p;s&&(f=Math.floor(p/i),h-=f*i);let m="";f>0&&(m+=new Array(f+1).join("	")),h>0&&(m+=new Array(h+1).join(" ")),m+=l.line.slice(l.sliceStart,l.sliceEnd),u.push(m)}return u.join(a)}isEmpty(){return this.length<2&&this.getLineLength(1)<1}join(e){let r=this,n=[],i=[],s;function o(c){if(c!==null){if(s){let l=c.infos[0],p=new Array(l.indent+1).join(" "),d=n.length,f=Math.max(s.indent,0)+s.sliceEnd-s.sliceStart;s.line=s.line.slice(0,s.sliceEnd)+p+l.line.slice(l.sliceStart,l.sliceEnd),s.locked=s.locked||l.locked,s.sliceEnd=s.line.length,c.mappings.length>0&&c.mappings.forEach(function(h){i.push(h.add(d,f))})}else c.mappings.length>0&&i.push.apply(i,c.mappings);c.infos.forEach(function(l,p){(!s||p>0)&&(s={...l},n.push(s))})}}function a(c,l){l>0&&o(r),o(c)}if(e.map(function(c){let l=I(c);return l.isEmpty()?null:l}).forEach((c,l)=>{r.isEmpty()?o(c):a(c,l)}),n.length<1)return Vo;let u=new t(n);return u.mappings=i,u}concat(...e){let r=[this];return r.push.apply(r,e),Vo.join(r)}},Zh={},__=Zh.hasOwnProperty,une=10;function YM(t,e){let r=0,n=t.length;for(let i=0;i<n;++i)switch(t.charCodeAt(i)){case 9:{let s=Math.ceil(r/e)*e;s===r?r+=e:r=s;break}case 11:case 12:case 13:case 65279:break;case 32:default:r+=1;break}return r}var cne=/^\s*/,C_=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function I(t,e){if(t instanceof Du)return t;t+="";let r=e&&e.tabWidth,n=t.indexOf("	")<0,i=!e&&n&&t.length<=une;if(i&&__.call(Zh,t))return Zh[t];let s=new Du(t.split(C_).map(function(o){let a=cne.exec(o)[0];return{line:o,indent:YM(a,r),locked:!1,sliceStart:a.length,sliceEnd:o.length}}),pm(e).sourceFileName);return i&&(Zh[t]=s),s}function gu(t){return!/\S/.test(t)}function yu(t,e,r){let n=t.sliceStart,i=t.sliceEnd,s=Math.max(t.indent,0),o=s+i-n;return typeof r>"u"&&(r=o),e=Math.max(e,0),r=Math.min(r,o),r=Math.max(r,e),r<s?(s=r,i=n):i-=o-r,o=r,o-=e,e<s?s-=e:(e-=s,s=0,n+=e),t.indent===s&&t.sliceStart===n&&t.sliceEnd===i?t:{line:t.line,indent:s,locked:!1,sliceStart:n,sliceEnd:i}}function v(t){return Vo.join(t)}var Vo=I(""),xu=Pn,JM=In.array,lne=In.object,vM=new WeakMap;function XM(t,e,r){if(!t)return r;if(I_(t,e),r){if(xu.Node.check(t)&&xu.SourceLocation.check(t.loc)){let i=r.length-1;for(;i>=0;--i){let s=r[i];if(s&&s.loc&&Fe(s.loc.end,t.loc.start)<=0)break}return r.splice(i+1,0,t),r}}else{let i=vM.get(t);if(i)return i}let n;if(JM.check(t))n=Object.keys(t);else if(lne.check(t))n=Wre(t);else return r;r||vM.set(t,r=[]);for(let i=0,s=n.length;i<s;++i)XM(t[n[i]],e,r);return r}function QM(t,e,r){let n=XM(t,r),i=0,s=n&&n.length,o,a;for(;typeof s=="number"&&i<s;){let u=i+s>>1,c=n[u];if(Fe(c.loc.start,e.loc.start)<=0&&Fe(e.loc.end,c.loc.end)<=0){QM(e.enclosingNode=c,e,r);return}if(Fe(c.loc.end,e.loc.start)<=0){o=c,i=u+1;continue}if(Fe(e.loc.end,c.loc.start)<=0){a=c,s=u;continue}throw new Error("Comment location overlaps with node location")}o&&(e.precedingNode=o),a&&(e.followingNode=a)}function pne(t,e,r){if(!JM.check(t))return;let n=[];t.forEach(function(i){i.loc.lines=r,QM(e,i,r);let s=i.precedingNode,o=i.enclosingNode,a=i.followingNode;if(s&&a){let u=n.length;u>0&&n[u-1].followingNode!==i.followingNode&&Hl(n,r),n.push(i)}else if(s)Hl(n,r),eL(s,i);else if(a)Hl(n,r),ZM(a,i);else if(o)Hl(n,r),dne(o,i);else throw new Error("AST contains no nodes at all?")}),Hl(n,r),t.forEach(function(i){delete i.precedingNode,delete i.enclosingNode,delete i.followingNode})}function Hl(t,e){let r=t.length;if(r===0)return;let n=t[0].precedingNode,i=t[0].followingNode,s=i.loc.start,o=r,a;for(;o>0;--o){a=t[o-1];let u=e.sliceString(a.loc.end,s);if(/\S/.test(u))break;s=a.loc.start}for(;o<=r&&(a=t[o])&&(a.type==="Line"||a.type==="CommentLine")&&a.loc.start.column>i.loc.start.column;)++o;if(o){let{enclosingNode:u}=t[o-1];u?.type==="CallExpression"&&--o}t.forEach(function(u,c){c<o?eL(n,u):ZM(i,u)}),t.length=0}function N_(t,e){(t.comments||(t.comments=[])).push(e)}function ZM(t,e){e.leading=!0,e.trailing=!1,N_(t,e)}function dne(t,e){e.leading=!1,e.trailing=!1,N_(t,e)}function eL(t,e){e.leading=!1,e.trailing=!0,N_(t,e)}function fne(t,e){let r=t.getValue();xu.Comment.assert(r);let n=r.loc,i=n&&n.lines,s=[e(t)];if(r.trailing)s.push(`
`);else if(i instanceof Du){let o=i.slice(n.end,i.skipSpaces(n.end)||i.lastPos());o.length===1?s.push(o):s.push(new Array(o.length).join(`
`))}else s.push(`
`);return v(s)}function hne(t,e){let r=t.getValue(t);xu.Comment.assert(r);let n=r.loc,i=n&&n.lines,s=[];if(i instanceof Du){let o=i.skipSpaces(n.start,!0)||i.firstPos(),a=i.slice(o,n.start);a.length===1?s.push(a):s.push(new Array(a.length).join(`
`))}return s.push(e(t)),v(s)}function TM(t,e){let r=t.getValue(),n=e(t),i=xu.Node.check(r)&&is(r,"comments");if(!i||i.length===0)return n;let s=[],o=[n];return t.each(function(a){let u=a.getValue(),c=is(u,"leading"),l=is(u,"trailing");c||l&&!(xu.Statement.check(r)||u.type==="Block"||u.type==="CommentBlock")?s.push(fne(a,e)):l&&o.push(hne(a,e))},"comments"),s.push.apply(s,o),v(s)}var mne=Su,gne=In.object,yne=In.array;function tL(t,e){e=pm(e);let r=I(t,e),n=r.toString({tabWidth:e.tabWidth,reuseWhitespace:!1,useTabs:!1}),i=[],s=e.parser.parse(n,{jsx:!0,loc:!0,locations:!0,range:e.range,comment:!0,onComment:i,tolerant:_M(e,"tolerant",!0),ecmaVersion:6,sourceType:_M(e,"sourceType","module")}),o=Array.isArray(s.tokens)?s.tokens:!1;delete s.tokens,o.forEach(function(l){typeof l.value!="string"&&(l.value=r.sliceString(l.loc.start,l.loc.end))}),Array.isArray(s.comments)&&(i=s.comments,delete s.comments),s.loc?I_(s,r):s.loc={start:r.firstPos(),end:r.lastPos()},s.loc.lines=r,s.loc.indent=0;let a,u;s.type==="Program"?(u=s,a=mne.file(s,e.sourceFileName||null),a.loc={start:r.firstPos(),end:r.lastPos(),lines:r,indent:0}):s.type==="File"&&(a=s,u=a.program),e.tokens&&(a.tokens=o);let c=zM({type:u.type,loc:u.loc,body:[],comments:i},r);return u.loc.start=c.start,u.loc.end=c.end,pne(i,u.body.length?a.program:a,r),new rL(r,o).copy(a)}var rL=function(e,r){this.lines=e,this.tokens=r,this.startTokenIndex=0,this.endTokenIndex=r.length,this.indent=0,this.seen=new Map},nL=rL.prototype;nL.copy=function(t){if(this.seen.has(t))return this.seen.get(t);if(yne.check(t)){let c=new Array(t.length);return this.seen.set(t,c),t.forEach(function(l,p){c[p]=this.copy(l)},this),c}if(!gne.check(t))return t;I_(t,this.lines);let e=Object.create(Object.getPrototypeOf(t),{original:{value:t,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(t,e);let r=t.loc,n=this.indent,i=n,s=this.startTokenIndex,o=this.endTokenIndex;r&&((t.type==="Block"||t.type==="Line"||t.type==="CommentBlock"||t.type==="CommentLine"||this.lines.isPrecededOnlyByWhitespace(r.start))&&(i=this.indent=r.start.column),r.lines=this.lines,r.tokens=this.tokens,r.indent=i,this.findTokenRange(r));let a=Object.keys(t),u=a.length;for(let c=0;c<u;++c){let l=a[c];l==="loc"||l==="tokens"&&t.type==="File"?e[l]=t[l]:e[l]=this.copy(t[l])}return this.indent=n,this.startTokenIndex=s,this.endTokenIndex=o,e};nL.findTokenRange=function(t){for(;this.startTokenIndex>0;){let e=t.tokens[this.startTokenIndex];if(Fe(t.start,e.loc.start)<0)--this.startTokenIndex;else break}for(;this.endTokenIndex<t.tokens.length;){let e=t.tokens[this.endTokenIndex];if(Fe(e.loc.end,t.end)<0)++this.endTokenIndex;else break}for(;this.startTokenIndex<this.endTokenIndex;){let e=t.tokens[this.startTokenIndex];if(Fe(e.loc.start,t.start)<0)++this.startTokenIndex;else break}for(t.start.token=this.startTokenIndex;this.endTokenIndex>this.startTokenIndex;){let e=t.tokens[this.endTokenIndex-1];if(Fe(t.end,e.loc.end)<0)--this.endTokenIndex;else break}t.end.token=this.endTokenIndex};var tt=Pn,bne=In.array,Ene=In.number,v_={};[["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(t,e){t.forEach(function(r){v_[r]=e})});var An=function(e){this.stack=[e]},ir=An.prototype;An.from=function(t){if(t instanceof An)return t.copy();if(t instanceof Jre){let e=Object.create(An.prototype),r=[t.value];for(let n;n=t.parentPath;t=n)r.push(t.name,n.value);return e.stack=r.reverse(),e}return new An(t)};ir.copy=function(){let e=Object.create(An.prototype);return e.stack=this.stack.slice(0),e};ir.getName=function(){let e=this.stack,r=e.length;return r>1?e[r-2]:null};ir.getValue=function(){let e=this.stack;return e[e.length-1]};ir.valueIsDuplicate=function(){let t=this.stack,e=t.length-1;return t.lastIndexOf(t[e],e-1)>=0};function iL(t,e){let r=t.stack;for(let n=r.length-1;n>=0;n-=2){let i=r[n];if(tt.Node.check(i)&&--e<0)return i}return null}ir.getNode=function(e=0){return iL(this,~~e)};ir.getParentNode=function(e=0){return iL(this,~~e+1)};ir.getRootValue=function(){let e=this.stack;return e.length%2===0?e[1]:e[0]};ir.call=function(e){let r=this.stack,n=r.length,i=r[n-1],s=arguments.length;for(let a=1;a<s;++a){let u=arguments[a];i=i[u],r.push(u,i)}let o=e(this);return r.length=n,o};ir.each=function(e){let r=this.stack,n=r.length,i=r[n-1],s=arguments.length;for(let o=1;o<s;++o){let a=arguments[o];i=i[a],r.push(a,i)}for(let o=0;o<i.length;++o)o in i&&(r.push(o,i[o]),e(this),r.length-=2);r.length=n};ir.map=function(e){let r=this.stack,n=r.length,i=r[n-1],s=arguments.length;for(let a=1;a<s;++a){let u=arguments[a];i=i[u],r.push(u,i)}let o=new Array(i.length);for(let a=0;a<i.length;++a)a in i&&(r.push(a,i[a]),o[a]=e(this,a),r.length-=2);return r.length=n,o};ir.hasParens=function(){let t=this.getNode(),e=this.getPrevToken(t);if(!e)return!1;let r=this.getNextToken(t);return r?!!(e.value==="("&&(r.value===")"||!this.canBeFirstInStatement()&&this.firstInStatement()&&!this.needsParens(!0))):!1};ir.getPrevToken=function(t){t=t||this.getNode();let e=t&&t.loc,r=e&&e.tokens;if(r&&e.start.token>0){let n=r[e.start.token-1];if(n){let i=this.getRootValue().loc;if(Fe(i.start,n.loc.start)<=0)return n}}return null};ir.getNextToken=function(t){t=t||this.getNode();let e=t&&t.loc,r=e&&e.tokens;if(r&&e.end.token<r.length){let n=r[e.end.token];if(n){let i=this.getRootValue().loc;if(Fe(n.loc.end,i.end)<=0)return n}}return null};ir.needsParens=function(t){let e=this.getNode();if(e.type==="AssignmentExpression"&&e.left.type==="ObjectPattern")return!0;let r=this.getParentNode(),n=this.getName();if(this.getValue()!==e||tt.Statement.check(e)||e.type==="Identifier"||r&&r.type==="ParenthesizedExpression")return!1;if(e.extra&&e.extra.parenthesized)return!0;if(!r)return!1;if(e.type==="UnaryExpression"&&r.type==="BinaryExpression"&&n==="left"&&r.left===e&&r.operator==="**")return!0;switch(e.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return r.type==="MemberExpression"&&n==="object"&&r.object===e;case"BinaryExpression":case"LogicalExpression":switch(r.type){case"CallExpression":return n==="callee"&&r.callee===e;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return n==="object"&&r.object===e;case"BinaryExpression":case"LogicalExpression":{let i=r.operator,s=v_[i],o=e.operator,a=v_[o];if(s>a||s===a&&n==="right")return!0;break}default:return!1}break;case"SequenceExpression":switch(r.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return n!=="expression";default:return!0}case"OptionalIndexedAccessType":return e.optional&&r.type==="IndexedAccessType";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return r.type==="NullableTypeAnnotation";case"Literal":return r.type==="MemberExpression"&&Ene.check(e.value)&&n==="object"&&r.object===e;case"NumericLiteral":return r.type==="MemberExpression"&&n==="object"&&r.object===e;case"YieldExpression":case"AwaitExpression":case"AssignmentExpression":case"ConditionalExpression":switch(r.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":case"NewExpression":return n==="callee"&&r.callee===e;case"ConditionalExpression":return n==="test"&&r.test===e;case"MemberExpression":return n==="object"&&r.object===e;default:return!1}case"ArrowFunctionExpression":return tt.CallExpression.check(r)&&n==="callee"&&r.callee===e||tt.MemberExpression.check(r)&&n==="object"&&r.object===e||tt.TSAsExpression&&tt.TSAsExpression.check(r)&&n==="expression"&&r.expression===e?!0:sL(r);case"ObjectExpression":if(r.type==="ArrowFunctionExpression"&&n==="body"&&r.body===e)return!0;break;case"TSAsExpression":if(r.type==="ArrowFunctionExpression"&&n==="body"&&r.body===e&&e.expression.type==="ObjectExpression")return!0;break;case"CallExpression":if(n==="declaration"&&tt.ExportDefaultDeclaration.check(r)&&tt.FunctionExpression.check(e.callee))return!0}return r.type==="NewExpression"&&n==="callee"&&r.callee===e?T_(e):!!(t!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function sL(t){return tt.BinaryExpression.check(t)||tt.LogicalExpression.check(t)}function T_(t){return tt.CallExpression.check(t)?!0:bne.check(t)?t.some(T_):tt.Node.check(t)?Xre(t,(e,r)=>T_(r)):!1}ir.canBeFirstInStatement=function(){let t=this.getNode();return!(tt.FunctionExpression.check(t)||tt.ObjectExpression.check(t)||tt.ClassExpression.check(t))};ir.firstInStatement=function(){let t=this.stack,e,r,n,i;for(let s=t.length-1;s>=0;s-=2)if(tt.Node.check(t[s])&&(n=e,i=r,e=t[s-1],r=t[s]),!(!r||!i)){if(tt.BlockStatement.check(r)&&e==="body"&&n===0||tt.ExpressionStatement.check(r)&&n==="expression"||tt.AssignmentExpression.check(r)&&n==="left"||tt.ArrowFunctionExpression.check(r)&&n==="body")return!0;if(!(tt.SequenceExpression.check(r)&&t[s+1]==="expressions"&&n===0)&&!(tt.CallExpression.check(r)&&n==="callee")&&!(tt.MemberExpression.check(r)&&n==="object")&&!(tt.ConditionalExpression.check(r)&&n==="test")&&!(sL(r)&&n==="left")&&!(tt.UnaryExpression.check(r)&&!r.prefix&&n==="argument"))return!1}return!0};var ep=Pn.Printable,wM=Pn.Expression,Dne=Pn.ReturnStatement,xne=Pn.SourceLocation,tp=In.object,w_=In.array,Sne=In.string,am=/[0-9a-z_$]/i,oL=function(e){let r=this,n=[];r.replace=function(i,s){Sne.check(s)&&(s=I(s)),n.push({lines:s,start:i.start,end:i.end})},r.get=function(i){i=i||{start:{line:1,column:0},end:{line:e.length,column:e.getLineLength(e.length)}};let s=i.start,o=[];function a(u,c){o.push(e.slice(u,c))}return n.sort((u,c)=>Fe(u.start,c.start)).forEach(function(u){Fe(s,u.start)>0||(a(s,u.start),o.push(u.lines),s=u.end)}),a(s,i.end),v(o)}},aL=oL.prototype;aL.tryToReprintComments=function(t,e,r){let n=this;if(!t.comments&&!e.comments)return!0;let i=An.from(t),s=An.from(e);i.stack.push("comments",AM(t)),s.stack.push("comments",AM(e));let o=[],a=cL(i,s,o);return a&&o.length>0&&o.forEach(function(u){let c=u.oldPath.getValue();n.replace(c.loc,r(u.newPath).indentTail(c.loc.indent))}),a};function AM(t){let e=[];return t.comments&&t.comments.length>0&&t.comments.forEach(function(r){(r.leading||r.trailing)&&e.push(r)}),e}aL.deleteComments=function(t){if(!t.comments)return;let e=this;t.comments.forEach(function(r){r.leading?e.replace({start:r.loc.start,end:t.loc.lines.skipSpaces(r.loc.end,!1,!1)},""):r.trailing&&e.replace({start:t.loc.lines.skipSpaces(r.loc.start,!0,!1),end:r.loc.end},"")})};function _ne(t){let e=t.getValue();if(!ep.check(e))return;let r=e.original,n=r&&r.loc,i=n&&n.lines,s=[];if(!(!i||!Tne(t,s)))return function(o){let a=new oL(i);s.forEach(function(c){let l=c.newPath.getValue(),p=c.oldPath.getValue();xne.assert(p.loc,!0);let d=!a.tryToReprintComments(l,p,o);d&&a.deleteComments(p);let f=o(c.newPath,{includeComments:d,avoidRootParens:p.type===l.type&&c.oldPath.hasParens()}).indentTail(p.loc.indent),h=Cne(i,p.loc,f),m=vne(i,p.loc,f);if(h||m){let g=[];h&&g.push(" "),g.push(f),m&&g.push(" "),f=v(g)}a.replace(p.loc,f)});let u=a.get(n).indentTail(-r.loc.indent);return t.needsParens()?v(["(",u,")"]):u}}function Cne(t,e,r){let n=Gs(e.start),i=t.prevPos(n)&&t.charAt(n),s=r.charAt(r.firstPos());return i&&am.test(i)&&s&&am.test(s)}function vne(t,e,r){let n=t.charAt(e.end),i=r.lastPos(),s=r.prevPos(i)&&r.charAt(i);return s&&am.test(s)&&n&&am.test(n)}function Tne(t,e){let r=t.getValue();ep.assert(r);let n=r.original;if(ep.assert(n),r.type!==n.type)return!1;let i=new An(n),s=A_(t,i,e);return s||(e.length=0),s}function uL(t,e,r){let n=t.getValue(),i=e.getValue();return n===i?!0:w_.check(n)?cL(t,e,r):tp.check(n)?wne(t,e,r):!1}function cL(t,e,r){let n=t.getValue(),i=e.getValue();if(n===i||t.valueIsDuplicate()||e.valueIsDuplicate())return!0;w_.assert(n);let s=n.length;if(!(w_.check(i)&&i.length===s))return!1;for(let o=0;o<s;++o){t.stack.push(o,n[o]),e.stack.push(o,i[o]);let a=uL(t,e,r);if(t.stack.length-=2,e.stack.length-=2,!a)return!1}return!0}function wne(t,e,r){let n=t.getValue();if(tp.assert(n),n.original===null)return!1;let i=e.getValue();if(!tp.check(i))return!1;if(n===i||t.valueIsDuplicate()||e.valueIsDuplicate())return!0;if(ep.check(n)){if(!ep.check(i))return!1;let s=t.getParentNode(),o=e.getParentNode();if(o!==null&&o.type==="FunctionTypeAnnotation"&&s!==null&&s.type==="FunctionTypeAnnotation"){let a=o.params.length!==1||!!o.params[0].name,u=s.params.length!==1||!!s.params[0].name;if(!a&&u)return!1}if(n.type===i.type){let a=[];if(A_(t,e,a))r.push.apply(r,a);else if(i.loc)r.push({oldPath:e.copy(),newPath:t.copy()});else return!1;return!0}return wM.check(n)&&wM.check(i)&&i.loc?(r.push({oldPath:e.copy(),newPath:t.copy()}),!0):!1}return A_(t,e,r)}function A_(t,e,r){let n=t.getValue(),i=e.getValue();if(tp.assert(n),tp.assert(i),n.original===null||t.needsParens()&&!e.hasParens())return!1;let s=ene(i,n);(i.type==="File"||n.type==="File")&&delete s.tokens,delete s.loc;let o=r.length;for(let a in s){if(a.charAt(0)==="_")continue;t.stack.push(a,is(n,a)),e.stack.push(a,is(i,a));let u=uL(t,e,r);if(t.stack.length-=2,e.stack.length-=2,!u)return!1}return!(Dne.check(t.getNode())&&r.length>o)}var gt=Pn,F_=In.string,Ane=In.object,um=function(e,r){F_.assert(e),this.code=e,r&&(Ane.assert(r),this.map=r)},Pne=um.prototype,PM=!1;Pne.toString=function(){return PM||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),PM=!0),this.code};var IM=new um(""),Ine=function(e){let r=e&&e.tabWidth;e=pm(e),e.sourceFileName=null;function n(s,o){return s=Object.assign({},s,o),a=>i(a,s)}function i(s,o){if(o=o||{},o.includeComments)return TM(s,n(o,{includeComments:!1}));let a=e.tabWidth;if(!r){let l=s.getNode().loc;l&&l.lines&&l.lines.guessTabWidth&&(e.tabWidth=l.lines.guessTabWidth())}let u=_ne(s),c=u?u(i):NM(s,e,o,n(o,{includeComments:!0,avoidRootParens:!1}));return e.tabWidth=a,c}this.print=function(s){if(!s)return IM;let o=i(An.from(s),{includeComments:!0,avoidRootParens:!1});return new um(o.toString(e),tne(e.inputSourceMap,o.getSourceMap(e.sourceMapName,e.sourceRoot)))},this.printGenerically=function(s){if(!s)return IM;function o(l){return TM(l,p=>NM(p,e,{includeComments:!0,avoidRootParens:!1},o))}let a=An.from(s),u=e.reuseWhitespace;e.reuseWhitespace=!1;let c=new um(o(a).toString(e));return e.reuseWhitespace=u,c}};function NM(t,e,r,n){let i=t.getValue(),s=[],o=Nne(t,e,n);if(!i||o.isEmpty())return o;let a=!1,u=Fne(t,n);return u.isEmpty()?r.avoidRootParens||(a=t.needsParens()):s.push(u),a&&s.unshift("("),s.push(o),a&&s.push(")"),v(s)}function Nne(t,e,r){let n=t.getValue();if(!n)return I("");if(typeof n=="string")return I(n,e);gt.Printable.assert(n);let i=[];switch(n.type){case"File":return t.call(r,"program");case"Program":return n.directives&&t.each(function(s){i.push(r(s),`;
`)},"directives"),n.interpreter&&i.push(t.call(r,"interpreter")),i.push(t.call(s=>bu(s,e,r),"body")),v(i);case"Noop":case"EmptyStatement":return I("");case"ExpressionStatement":return v([t.call(r,"expression"),";"]);case"ParenthesizedExpression":return v(["(",t.call(r,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return I(" ").join([t.call(r,"left"),n.operator,t.call(r,"right")]);case"AssignmentPattern":return v([t.call(r,"left")," = ",t.call(r,"right")]);case"MemberExpression":case"OptionalMemberExpression":{i.push(t.call(r,"object"));let s=t.call(r,"property"),o=is(n,"optional");return n.computed?i.push(o?"?.[":"[",s,"]"):i.push(o?"?.":".",s),v(i)}case"ChainExpression":return t.call(r,"expression");case"MetaProperty":return v([t.call(r,"meta"),".",t.call(r,"property")]);case"BindExpression":return n.object&&i.push(t.call(r,"object")),i.push("::",t.call(r,"callee")),v(i);case"Path":return I(".").join(n.body);case"Identifier":return v([I(n.name,e),n.optional?"?":"",t.call(r,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return v(["...",t.call(r,"argument"),t.call(r,"typeAnnotation")]);case"FunctionDeclaration":case"FunctionExpression":case"TSDeclareFunction":return n.declare&&i.push("declare "),n.async&&i.push("async "),i.push("function"),n.generator&&i.push("*"),n.id?i.push(" ",t.call(r,"id"),t.call(r,"typeParameters")):n.typeParameters&&i.push(t.call(r,"typeParameters")),i.push("(",di(t,e,r),")",t.call(r,"returnType")),n.body&&i.push(" ",t.call(r,"body")),v(i);case"ArrowFunctionExpression":return n.async&&i.push("async "),n.typeParameters&&i.push(t.call(r,"typeParameters")),!e.arrowParensAlways&&n.params.length===1&&!n.rest&&n.params[0].type==="Identifier"&&!n.params[0].typeAnnotation&&!n.returnType?i.push(t.call(r,"params",0)):i.push("(",di(t,e,r),")",t.call(r,"returnType")),i.push(" => ",t.call(r,"body")),v(i);case"MethodDefinition":return y_(t,e,r);case"YieldExpression":return i.push("yield"),n.delegate&&i.push("*"),n.argument&&i.push(" ",t.call(r,"argument")),v(i);case"AwaitExpression":return i.push("await"),n.all&&i.push("*"),n.argument&&i.push(" ",t.call(r,"argument")),v(i);case"ModuleExpression":return v([`module {
`,t.call(r,"body").indent(e.tabWidth),`
}`]);case"ModuleDeclaration":return i.push("module",t.call(r,"id")),n.source?i.push("from",t.call(r,"source")):i.push(t.call(r,"body")),I(" ").join(i);case"ImportSpecifier":return n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.imported?(i.push(t.call(r,"imported")),n.local&&n.local.name!==n.imported.name&&i.push(" as ",t.call(r,"local"))):n.id&&(i.push(t.call(r,"id")),n.name&&i.push(" as ",t.call(r,"name"))),v(i);case"ExportSpecifier":return n.exportKind&&n.exportKind!=="value"&&i.push(n.exportKind+" "),n.local?(i.push(t.call(r,"local")),n.exported&&n.exported.name!==n.local.name&&i.push(" as ",t.call(r,"exported"))):n.id&&(i.push(t.call(r,"id")),n.name&&i.push(" as ",t.call(r,"name"))),v(i);case"ExportBatchSpecifier":return I("*");case"ImportNamespaceSpecifier":return i.push("* as "),n.local?i.push(t.call(r,"local")):n.id&&i.push(t.call(r,"id")),v(i);case"ImportDefaultSpecifier":return n.local?t.call(r,"local"):t.call(r,"id");case"TSExportAssignment":return v(["export = ",t.call(r,"expression")]);case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return OM(t,e,r);case"ExportAllDeclaration":return i.push("export *"),n.exported&&i.push(" as ",t.call(r,"exported")),i.push(" from ",t.call(r,"source"),";"),v(i);case"TSNamespaceExportDeclaration":return i.push("export as namespace ",t.call(r,"id")),em(v(i));case"ExportNamespaceSpecifier":return v(["* as ",t.call(r,"exported")]);case"ExportDefaultSpecifier":return t.call(r,"exported");case"Import":return I("import",e);case"ImportExpression":return v(["import(",t.call(r,"source"),")"]);case"ImportDeclaration":{if(i.push("import "),n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.specifiers&&n.specifiers.length>0){let s=[],o=[];if(t.each(function(a){let u=a.getValue();u.type==="ImportSpecifier"?o.push(r(a)):(u.type==="ImportDefaultSpecifier"||u.type==="ImportNamespaceSpecifier")&&s.push(r(a))},"specifiers"),s.forEach((a,u)=>{u>0&&i.push(", "),i.push(a)}),o.length>0){let a=I(", ").join(o);a.getLineLength(1)>e.wrapColumn&&(a=v([I(`,
`).join(o).indent(e.tabWidth),","])),s.length>0&&i.push(", "),a.length>1?i.push(`{
`,a,`
}`):e.objectCurlySpacing?i.push("{ ",a," }"):i.push("{",a,"}")}i.push(" from ")}return i.push(t.call(r,"source"),pL(t,e,r),";"),v(i)}case"ImportAttribute":return v([t.call(r,"key"),": ",t.call(r,"value")]);case"StaticBlock":i.push("static ");case"BlockStatement":{let s=t.call(o=>bu(o,e,r),"body");return s.isEmpty()&&(!n.directives||n.directives.length===0)?(i.push("{}"),v(i)):(i.push(`{
`),n.directives&&t.each(function(o){i.push(em(r(o).indent(e.tabWidth)),n.directives.length>1||!s.isEmpty()?`
`:"")},"directives"),i.push(s.indent(e.tabWidth)),i.push(`
}`),v(i))}case"ReturnStatement":{if(i.push("return"),n.argument){let s=t.call(r,"argument");s.startsWithComment()||s.length>1&&gt.JSXElement&&gt.JSXElement.check(n.argument)?i.push(` (
`,s.indent(e.tabWidth),`
)`):i.push(" ",s)}return i.push(";"),v(i)}case"CallExpression":case"OptionalCallExpression":return i.push(t.call(r,"callee")),n.typeParameters&&i.push(t.call(r,"typeParameters")),n.typeArguments&&i.push(t.call(r,"typeArguments")),is(n,"optional")&&i.push("?."),i.push(FM(t,e,r)),v(i);case"RecordExpression":i.push("#");case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":{let s=n.type==="ObjectTypeAnnotation",o=e.flowObjectCommas?",":s?";":",",a=[],u=!1;s&&(a.push("indexers","callProperties"),n.internalSlots!=null&&a.push("internalSlots")),a.push("properties");let c=0;a.forEach(function(m){c+=n[m].length});let l=s&&c===1||c===0,p=n.exact?"{|":"{",d=n.exact?"|}":"}";i.push(l?p:p+`
`);let f=i.length-1,h=0;if(a.forEach(function(m){t.each(function(g){let y=r(g);l||(y=y.indent(e.tabWidth));let b=!s&&y.length>1;b&&u&&i.push(`
`),i.push(y),h<c-1?(i.push(o+(b?`

`:`
`)),u=!b):(c!==1&&s||!l&&Ql(e,"objects")&&g.getValue().type!=="RestElement")&&i.push(o),h++},m)}),n.inexact){let m=I("...",e);l?(c>0&&i.push(o," "),i.push(m)):i.push(`
`,m.indent(e.tabWidth))}return i.push(l?d:`
`+d),h!==0&&l&&e.objectCurlySpacing&&(i[f]=p+" ",i[i.length-1]=" "+d),n.typeAnnotation&&i.push(t.call(r,"typeAnnotation")),v(i)}case"PropertyPattern":return v([t.call(r,"key"),": ",t.call(r,"pattern")]);case"ObjectProperty":case"Property":{if(n.method||n.kind==="get"||n.kind==="set")return y_(t,e,r);if(n.shorthand&&n.value.type==="AssignmentPattern")return t.call(r,"value");let s=t.call(r,"key");return n.computed?i.push("[",s,"]"):i.push(s),(!n.shorthand||n.key.name!==n.value.name)&&i.push(": ",t.call(r,"value")),v(i)}case"ClassMethod":case"ObjectMethod":case"ClassPrivateMethod":case"TSDeclareMethod":return y_(t,e,r);case"PrivateName":return v(["#",t.call(r,"id")]);case"Decorator":return v(["@",t.call(r,"expression")]);case"TupleExpression":i.push("#");case"ArrayExpression":case"ArrayPattern":{let o=n.elements.length,a=t.map(r,"elements"),c=I(", ").join(a).getLineLength(1)<=e.wrapColumn;return c?e.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),t.each(function(l){let p=l.getName();if(!l.getValue())i.push(",");else{let f=a[p];c?p>0&&i.push(" "):f=f.indent(e.tabWidth),i.push(f),(p<o-1||!c&&Ql(e,"arrays"))&&i.push(","),c||i.push(`
`)}},"elements"),c&&e.arrayBracketSpacing?i.push(" ]"):i.push("]"),n.typeAnnotation&&i.push(t.call(r,"typeAnnotation")),v(i)}case"SequenceExpression":return I(", ").join(t.map(r,"expressions"));case"ThisExpression":return I("this");case"Super":return I("super");case"NullLiteral":return I("null");case"RegExpLiteral":return I(Eu(n)||`/${n.pattern}/${n.flags||""}`,e);case"BigIntLiteral":return I(Eu(n)||n.value+"n",e);case"NumericLiteral":return I(Eu(n)||n.value,e);case"DecimalLiteral":return I(Eu(n)||n.value+"m",e);case"StringLiteral":return I(Yl(n.value,e));case"BooleanLiteral":case"Literal":return I(Eu(n)||(typeof n.value=="string"?Yl(n.value,e):n.value),e);case"Directive":return t.call(r,"value");case"DirectiveLiteral":return I(Eu(n)||Yl(n.value,e),e);case"InterpreterDirective":return I(`#!${n.value}
`,e);case"ModuleSpecifier":if(n.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return I(Yl(n.value,e),e);case"UnaryExpression":return i.push(n.operator),/[a-z]$/.test(n.operator)&&i.push(" "),i.push(t.call(r,"argument")),v(i);case"UpdateExpression":return i.push(t.call(r,"argument"),n.operator),n.prefix&&i.reverse(),v(i);case"ConditionalExpression":return v([t.call(r,"test")," ? ",t.call(r,"consequent")," : ",t.call(r,"alternate")]);case"NewExpression":return i.push("new ",t.call(r,"callee")),n.typeParameters&&i.push(t.call(r,"typeParameters")),n.typeArguments&&i.push(t.call(r,"typeArguments")),n.arguments&&i.push(FM(t,e,r)),v(i);case"VariableDeclaration":{n.declare&&i.push("declare "),i.push(n.kind," ");let s=0,o=t.map(function(u){let c=r(u);return s=Math.max(c.length,s),c},"declarations");s===1?i.push(I(", ").join(o)):o.length>1?i.push(I(`,
`).join(o).indentTail(n.kind.length+1)):i.push(o[0]);let a=t.getParentNode();return!gt.ForStatement.check(a)&&!gt.ForInStatement.check(a)&&!(gt.ForOfStatement&&gt.ForOfStatement.check(a))&&!(gt.ForAwaitStatement&&gt.ForAwaitStatement.check(a))&&i.push(";"),v(i)}case"VariableDeclarator":return n.init?I(" = ").join([t.call(r,"id"),t.call(r,"init")]):t.call(r,"id");case"WithStatement":return v(["with (",t.call(r,"object"),") ",t.call(r,"body")]);case"IfStatement":{let s=Go(t.call(r,"consequent"),e);return i.push("if (",t.call(r,"test"),")",s),n.alternate&&i.push(kM(s)?" else":`
else`,Go(t.call(r,"alternate"),e)),v(i)}case"ForStatement":{let s=t.call(r,"init"),o=s.length>1?`;
`:"; ",a="for (",u=I(o).join([s,t.call(r,"test"),t.call(r,"update")]).indentTail(a.length),c=v([a,u,")"]),l=Go(t.call(r,"body"),e);return i.push(c),c.length>1&&(i.push(`
`),l=l.trimLeft()),i.push(l),v(i)}case"WhileStatement":return v(["while (",t.call(r,"test"),")",Go(t.call(r,"body"),e)]);case"ForInStatement":return v([n.each?"for each (":"for (",t.call(r,"left")," in ",t.call(r,"right"),")",Go(t.call(r,"body"),e)]);case"ForOfStatement":case"ForAwaitStatement":return i.push("for "),(n.await||n.type==="ForAwaitStatement")&&i.push("await "),i.push("(",t.call(r,"left")," of ",t.call(r,"right"),")",Go(t.call(r,"body"),e)),v(i);case"DoWhileStatement":{let s=v(["do",Go(t.call(r,"body"),e)]);return i.push(s),kM(s)?i.push(" while"):i.push(`
while`),i.push(" (",t.call(r,"test"),");"),v(i)}case"DoExpression":{let s=t.call(o=>bu(o,e,r),"body");return v([`do {
`,s.indent(e.tabWidth),`
}`])}case"BreakStatement":return i.push("break"),n.label&&i.push(" ",t.call(r,"label")),i.push(";"),v(i);case"ContinueStatement":return i.push("continue"),n.label&&i.push(" ",t.call(r,"label")),i.push(";"),v(i);case"LabeledStatement":return v([t.call(r,"label"),`:
`,t.call(r,"body")]);case"TryStatement":return i.push("try ",t.call(r,"block")),n.handler?i.push(" ",t.call(r,"handler")):n.handlers&&t.each(function(s){i.push(" ",r(s))},"handlers"),n.finalizer&&i.push(" finally ",t.call(r,"finalizer")),v(i);case"CatchClause":return i.push("catch "),n.param&&i.push("(",t.call(r,"param")),n.guard&&i.push(" if ",t.call(r,"guard")),n.param&&i.push(") "),i.push(t.call(r,"body")),v(i);case"ThrowStatement":return v(["throw ",t.call(r,"argument"),";"]);case"SwitchStatement":return v(["switch (",t.call(r,"discriminant"),`) {
`,I(`
`).join(t.map(r,"cases")),`
}`]);case"SwitchCase":return n.test?i.push("case ",t.call(r,"test"),":"):i.push("default:"),n.consequent.length>0&&i.push(`
`,t.call(s=>bu(s,e,r),"consequent").indent(e.tabWidth)),v(i);case"DebuggerStatement":return I("debugger;");case"JSXAttribute":return i.push(t.call(r,"name")),n.value&&i.push("=",t.call(r,"value")),v(i);case"JSXIdentifier":return I(n.name,e);case"JSXNamespacedName":return I(":").join([t.call(r,"namespace"),t.call(r,"name")]);case"JSXMemberExpression":return I(".").join([t.call(r,"object"),t.call(r,"property")]);case"JSXSpreadAttribute":return v(["{...",t.call(r,"argument"),"}"]);case"JSXSpreadChild":return v(["{...",t.call(r,"expression"),"}"]);case"JSXExpressionContainer":return v(["{",t.call(r,"expression"),"}"]);case"JSXElement":case"JSXFragment":{let s="opening"+(n.type==="JSXElement"?"Element":"Fragment"),o="closing"+(n.type==="JSXElement"?"Element":"Fragment"),a=t.call(r,s);if(n[s].selfClosing)return a;let u=v(t.map(function(l){let p=l.getValue();if(gt.Literal.check(p)&&typeof p.value=="string"){if(/\S/.test(p.value))return p.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(p.value))return`
`}return r(l)},"children")).indentTail(e.tabWidth),c=t.call(r,o);return v([a,u,c])}case"JSXOpeningElement":{i.push("<",t.call(r,"name"));let s=[];t.each(function(u){s.push(" ",r(u))},"attributes");let o=v(s);return(o.length>1||o.getLineLength(1)>e.wrapColumn)&&(s.forEach(function(u,c){u===" "&&(s[c]=`
`)}),o=v(s).indentTail(e.tabWidth)),i.push(o,n.selfClosing?" />":">"),v(i)}case"JSXClosingElement":return v(["</",t.call(r,"name"),">"]);case"JSXOpeningFragment":return I("<>");case"JSXClosingFragment":return I("</>");case"JSXText":return I(n.value,e);case"JSXEmptyExpression":return I("");case"TypeAnnotatedIdentifier":return v([t.call(r,"annotation")," ",t.call(r,"identifier")]);case"ClassBody":return n.body.length===0?I("{}"):v([`{
`,t.call(s=>bu(s,e,r),"body").indent(e.tabWidth),`
}`]);case"ClassPropertyDefinition":return i.push("static ",t.call(r,"definition")),gt.MethodDefinition.check(n.definition)||i.push(";"),v(i);case"ClassProperty":{n.declare&&i.push("declare ");let s=n.accessibility||n.access;typeof s=="string"&&i.push(s," "),n.static&&i.push("static "),n.abstract&&i.push("abstract "),n.readonly&&i.push("readonly ");let o=t.call(r,"key");return n.computed&&(o=v(["[",o,"]"])),n.variance&&(o=v([Wl(t,r),o])),i.push(o),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(t.call(r,"typeAnnotation")),n.value&&i.push(" = ",t.call(r,"value")),i.push(";"),v(i)}case"ClassPrivateProperty":return n.static&&i.push("static "),i.push(t.call(r,"key")),n.typeAnnotation&&i.push(t.call(r,"typeAnnotation")),n.value&&i.push(" = ",t.call(r,"value")),i.push(";"),v(i);case"ClassAccessorProperty":return i.push(...lL(n),"accessor "),n.computed?i.push("[",t.call(r,"key"),"]"):i.push(t.call(r,"key")),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(t.call(r,"typeAnnotation")),n.value&&i.push(" = ",t.call(r,"value")),i.push(";"),v(i);case"ClassDeclaration":case"ClassExpression":case"DeclareClass":return n.declare&&i.push("declare "),n.abstract&&i.push("abstract "),i.push("class"),n.id&&i.push(" ",t.call(r,"id")),n.typeParameters&&i.push(t.call(r,"typeParameters")),n.superClass&&i.push(" extends ",t.call(r,"superClass"),t.call(r,"superTypeParameters")),n.extends&&n.extends.length>0&&i.push(" extends ",I(", ").join(t.map(r,"extends"))),n.implements&&n.implements.length>0&&i.push(" implements ",I(", ").join(t.map(r,"implements"))),i.push(" ",t.call(r,"body")),n.type==="DeclareClass"?zl(t,i):v(i);case"TemplateElement":return I(n.value.raw,e).lockIndentTail();case"TemplateLiteral":{let s=t.map(r,"expressions");return i.push("`"),t.each(function(o){let a=o.getName();i.push(r(o)),a<s.length&&i.push("${",s[a],"}")},"quasis"),i.push("`"),v(i).lockIndentTail()}case"TaggedTemplateExpression":return v([t.call(r,"tag"),t.call(r,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"Flow":case"FlowType":case"FlowPredicate":case"MemberTypeAnnotation":case"Type":case"TSHasOptionalTypeParameterInstantiation":case"TSHasOptionalTypeParameters":case"TSHasOptionalTypeAnnotation":case"ChainElement":throw new Error("unprintable type: "+JSON.stringify(n.type));case"CommentBlock":case"Block":return v(["/*",I(n.value,e),"*/"]);case"CommentLine":case"Line":return v(["//",I(n.value,e)]);case"TypeAnnotation":return n.typeAnnotation?(n.typeAnnotation.type!=="FunctionTypeAnnotation"&&i.push(": "),i.push(t.call(r,"typeAnnotation")),v(i)):I("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return I("*",e);case"EmptyTypeAnnotation":return I("empty",e);case"AnyTypeAnnotation":return I("any",e);case"MixedTypeAnnotation":return I("mixed",e);case"ArrayTypeAnnotation":return v([t.call(r,"elementType"),"[]"]);case"TupleTypeAnnotation":{let s=t.map(r,"types"),a=I(", ").join(s).getLineLength(1)<=e.wrapColumn;return a?e.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),t.each(function(u){let c=u.getName();if(!u.getValue())i.push(",");else{let p=s[c];a?c>0&&i.push(" "):p=p.indent(e.tabWidth),i.push(p),(c<n.types.length-1||!a&&Ql(e,"arrays"))&&i.push(","),a||i.push(`
`)}},"types"),a&&e.arrayBracketSpacing?i.push(" ]"):i.push("]"),v(i)}case"BooleanTypeAnnotation":return I("boolean",e);case"BooleanLiteralTypeAnnotation":return I(""+n.value,e);case"InterfaceTypeAnnotation":return i.push("interface"),n.extends&&n.extends.length>0&&i.push(" extends ",I(", ").join(t.map(r,"extends"))),i.push(" ",t.call(r,"body")),v(i);case"DeclareFunction":return zl(t,["function ",t.call(r,"id"),";"]);case"DeclareModule":return zl(t,["module ",t.call(r,"id")," ",t.call(r,"body")]);case"DeclareModuleExports":return zl(t,["module.exports",t.call(r,"typeAnnotation")]);case"DeclareVariable":return zl(t,["var ",t.call(r,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return v(["declare ",OM(t,e,r)]);case"EnumDeclaration":return v(["enum ",t.call(r,"id"),t.call(r,"body")]);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return(n.type==="EnumSymbolBody"||n.explicitType)&&i.push(" of ",n.type.slice(4,-4).toLowerCase()),i.push(` {
`,I(`
`).join(t.map(r,"members")).indent(e.tabWidth),`
}`),v(i);case"EnumDefaultedMember":return v([t.call(r,"id"),","]);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":return v([t.call(r,"id")," = ",t.call(r,"init"),","]);case"InferredPredicate":return I("%checks",e);case"DeclaredPredicate":return v(["%checks(",t.call(r,"value"),")"]);case"FunctionTypeAnnotation":{let s=t.getParentNode(0),o=!(gt.ObjectTypeCallProperty.check(s)||gt.ObjectTypeInternalSlot.check(s)&&s.method||gt.DeclareFunction.check(t.getParentNode(2)));o&&!gt.FunctionTypeParam.check(s)&&!gt.TypeAlias.check(s)&&i.push(": ");let u=!!n.typeParameters,c=u||n.params.length!==1||n.params[0].name;return i.push(u?t.call(r,"typeParameters"):"",c?"(":"",di(t,e,r),c?")":""),n.returnType&&i.push(o?" => ":": ",t.call(r,"returnType")),v(i)}case"FunctionTypeParam":{let s=t.call(r,"name");return i.push(s),n.optional&&i.push("?"),s.infos[0].line&&i.push(": "),i.push(t.call(r,"typeAnnotation")),v(i)}case"GenericTypeAnnotation":return v([t.call(r,"id"),t.call(r,"typeParameters")]);case"DeclareInterface":i.push("declare ");case"InterfaceDeclaration":case"TSInterfaceDeclaration":return n.declare&&i.push("declare "),i.push("interface ",t.call(r,"id"),t.call(r,"typeParameters")," "),n.extends&&n.extends.length>0&&i.push("extends ",I(", ").join(t.map(r,"extends"))," "),n.body&&i.push(t.call(r,"body")),v(i);case"ClassImplements":case"InterfaceExtends":return v([t.call(r,"id"),t.call(r,"typeParameters")]);case"IntersectionTypeAnnotation":return I(" & ").join(t.map(r,"types"));case"NullableTypeAnnotation":return v(["?",t.call(r,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return I("null",e);case"ThisTypeAnnotation":return I("this",e);case"NumberTypeAnnotation":return I("number",e);case"ObjectTypeCallProperty":return t.call(r,"value");case"ObjectTypeIndexer":return n.static&&i.push("static "),i.push(Wl(t,r),"["),n.id&&i.push(t.call(r,"id"),": "),i.push(t.call(r,"key"),"]: ",t.call(r,"value")),v(i);case"ObjectTypeProperty":return v([Wl(t,r),t.call(r,"key"),n.optional?"?":"",": ",t.call(r,"value")]);case"ObjectTypeInternalSlot":return v([n.static?"static ":"","[[",t.call(r,"id"),"]]",n.optional?"?":"",n.value.type!=="FunctionTypeAnnotation"?": ":"",t.call(r,"value")]);case"QualifiedTypeIdentifier":return v([t.call(r,"qualification"),".",t.call(r,"id")]);case"StringLiteralTypeAnnotation":return I(Yl(n.value,e),e);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return I(JSON.stringify(n.value),e);case"BigIntLiteralTypeAnnotation":return I(n.raw,e);case"StringTypeAnnotation":return I("string",e);case"DeclareTypeAlias":i.push("declare ");case"TypeAlias":return v(["type ",t.call(r,"id"),t.call(r,"typeParameters")," = ",t.call(r,"right"),";"]);case"DeclareOpaqueType":i.push("declare ");case"OpaqueType":return i.push("opaque type ",t.call(r,"id"),t.call(r,"typeParameters")),n.supertype&&i.push(": ",t.call(r,"supertype")),n.impltype&&i.push(" = ",t.call(r,"impltype")),i.push(";"),v(i);case"TypeCastExpression":return v(["(",t.call(r,"expression"),t.call(r,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return v(["<",I(", ").join(t.map(r,"params")),">"]);case"Variance":return n.kind==="plus"?I("+"):n.kind==="minus"?I("-"):I("");case"TypeParameter":return n.variance&&i.push(Wl(t,r)),i.push(t.call(r,"name")),n.bound&&i.push(t.call(r,"bound")),n.default&&i.push("=",t.call(r,"default")),v(i);case"TypeofTypeAnnotation":return v([I("typeof ",e),t.call(r,"argument")]);case"IndexedAccessType":case"OptionalIndexedAccessType":return v([t.call(r,"objectType"),n.optional?"?.":"","[",t.call(r,"indexType"),"]"]);case"UnionTypeAnnotation":return I(" | ").join(t.map(r,"types"));case"VoidTypeAnnotation":return I("void",e);case"NullTypeAnnotation":return I("null",e);case"SymbolTypeAnnotation":return I("symbol",e);case"BigIntTypeAnnotation":return I("bigint",e);case"TSType":throw new Error("unprintable type: "+JSON.stringify(n.type));case"TSNumberKeyword":return I("number",e);case"TSBigIntKeyword":return I("bigint",e);case"TSObjectKeyword":return I("object",e);case"TSBooleanKeyword":return I("boolean",e);case"TSStringKeyword":return I("string",e);case"TSSymbolKeyword":return I("symbol",e);case"TSAnyKeyword":return I("any",e);case"TSVoidKeyword":return I("void",e);case"TSIntrinsicKeyword":return I("intrinsic",e);case"TSThisType":return I("this",e);case"TSNullKeyword":return I("null",e);case"TSUndefinedKeyword":return I("undefined",e);case"TSUnknownKeyword":return I("unknown",e);case"TSNeverKeyword":return I("never",e);case"TSArrayType":return v([t.call(r,"elementType"),"[]"]);case"TSLiteralType":return t.call(r,"literal");case"TSUnionType":return I(" | ").join(t.map(r,"types"));case"TSIntersectionType":return I(" & ").join(t.map(r,"types"));case"TSConditionalType":return i.push(t.call(r,"checkType")," extends ",t.call(r,"extendsType")," ? ",t.call(r,"trueType")," : ",t.call(r,"falseType")),v(i);case"TSInferType":return i.push("infer ",t.call(r,"typeParameter")),v(i);case"TSParenthesizedType":return v(["(",t.call(r,"typeAnnotation"),")"]);case"TSFunctionType":return v([t.call(r,"typeParameters"),"(",di(t,e,r),") => ",t.call(r,"typeAnnotation","typeAnnotation")]);case"TSConstructorType":return v(["new ",t.call(r,"typeParameters"),"(",di(t,e,r),") => ",t.call(r,"typeAnnotation","typeAnnotation")]);case"TSMappedType":return i.push(n.readonly?"readonly ":"","[",t.call(r,"typeParameter"),"]",n.optional?"?":""),n.typeAnnotation&&i.push(": ",t.call(r,"typeAnnotation"),";"),v([`{
`,v(i).indent(e.tabWidth),`
}`]);case"TSTupleType":return v(["[",I(", ").join(t.map(r,"elementTypes")),"]"]);case"TSNamedTupleMember":return i.push(t.call(r,"label")),n.optional&&i.push("?"),i.push(": ",t.call(r,"elementType")),v(i);case"TSRestType":return v(["...",t.call(r,"typeAnnotation")]);case"TSOptionalType":return v([t.call(r,"typeAnnotation"),"?"]);case"TSIndexedAccessType":return v([t.call(r,"objectType"),"[",t.call(r,"indexType"),"]"]);case"TSTypeOperator":return v([t.call(r,"operator")," ",t.call(r,"typeAnnotation")]);case"TSTypeLiteral":{let s=I(`
`).join(t.map(r,"members").map(o=>rp(o)!==";"?o.concat(";"):o));return s.isEmpty()?I("{}",e):(i.push(`{
`,s.indent(e.tabWidth),`
}`),v(i))}case"TSEnumMember":return i.push(t.call(r,"id")),n.initializer&&i.push(" = ",t.call(r,"initializer")),v(i);case"TSTypeQuery":return v(["typeof ",t.call(r,"exprName")]);case"TSParameterProperty":return n.accessibility&&i.push(n.accessibility," "),n.export&&i.push("export "),n.static&&i.push("static "),n.readonly&&i.push("readonly "),i.push(t.call(r,"parameter")),v(i);case"TSTypeReference":return v([t.call(r,"typeName"),t.call(r,"typeParameters")]);case"TSQualifiedName":return v([t.call(r,"left"),".",t.call(r,"right")]);case"TSAsExpression":case"TSSatisfiesExpression":{let s=t.call(r,"expression");return i.push(s,n.type==="TSSatisfiesExpression"?" satisfies ":" as ",t.call(r,"typeAnnotation")),v(i)}case"TSTypeCastExpression":return v([t.call(r,"expression"),t.call(r,"typeAnnotation")]);case"TSNonNullExpression":return v([t.call(r,"expression"),"!"]);case"TSTypeAnnotation":return v([": ",t.call(r,"typeAnnotation")]);case"TSIndexSignature":return v([n.readonly?"readonly ":"","[",t.map(r,"parameters"),"]",t.call(r,"typeAnnotation")]);case"TSPropertySignature":return i.push(Wl(t,r),n.readonly?"readonly ":""),n.computed?i.push("[",t.call(r,"key"),"]"):i.push(t.call(r,"key")),i.push(n.optional?"?":"",t.call(r,"typeAnnotation")),v(i);case"TSMethodSignature":return n.computed?i.push("[",t.call(r,"key"),"]"):i.push(t.call(r,"key")),n.optional&&i.push("?"),i.push(t.call(r,"typeParameters"),"(",di(t,e,r),")",t.call(r,"typeAnnotation")),v(i);case"TSTypePredicate":return n.asserts&&i.push("asserts "),i.push(t.call(r,"parameterName")),n.typeAnnotation&&i.push(" is ",t.call(r,"typeAnnotation","typeAnnotation")),v(i);case"TSCallSignatureDeclaration":return v([t.call(r,"typeParameters"),"(",di(t,e,r),")",t.call(r,"typeAnnotation")]);case"TSConstructSignatureDeclaration":return n.typeParameters?i.push("new",t.call(r,"typeParameters")):i.push("new "),i.push("(",di(t,e,r),")",t.call(r,"typeAnnotation")),v(i);case"TSTypeAliasDeclaration":return v([n.declare?"declare ":"","type ",t.call(r,"id"),t.call(r,"typeParameters")," = ",t.call(r,"typeAnnotation"),";"]);case"TSTypeParameter":{i.push(t.call(r,"name"));let s=t.getParentNode(0),o=gt.TSMappedType.check(s);return n.constraint&&i.push(o?" in ":" extends ",t.call(r,"constraint")),n.default&&i.push(" = ",t.call(r,"default")),v(i)}case"TSTypeAssertion":return i.push("<",t.call(r,"typeAnnotation"),"> ",t.call(r,"expression")),v(i);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return v(["<",I(", ").join(t.map(r,"params")),">"]);case"TSEnumDeclaration":{i.push(n.declare?"declare ":"",n.const?"const ":"","enum ",t.call(r,"id"));let s=I(`,
`).join(t.map(r,"members"));return s.isEmpty()?i.push(" {}"):i.push(` {
`,s.indent(e.tabWidth),`
}`),v(i)}case"TSExpressionWithTypeArguments":return v([t.call(r,"expression"),t.call(r,"typeParameters")]);case"TSInterfaceBody":{let s=I(`
`).join(t.map(r,"body").map(o=>rp(o)!==";"?o.concat(";"):o));return s.isEmpty()?I("{}",e):v([`{
`,s.indent(e.tabWidth),`
}`])}case"TSImportType":return i.push("import(",t.call(r,"argument"),")"),n.qualifier&&i.push(".",t.call(r,"qualifier")),n.typeParameters&&i.push(t.call(r,"typeParameters")),v(i);case"TSImportEqualsDeclaration":return n.isExport&&i.push("export "),i.push("import ",t.call(r,"id")," = ",t.call(r,"moduleReference")),em(v(i));case"TSExternalModuleReference":return v(["require(",t.call(r,"expression"),")"]);case"TSModuleDeclaration":return t.getParentNode().type==="TSModuleDeclaration"?i.push("."):(n.declare&&i.push("declare "),n.global||(n.id.type==="StringLiteral"||n.id.type==="Literal"&&typeof n.id.value=="string"||n.loc&&n.loc.lines&&n.id.loc&&n.loc.lines.sliceString(n.loc.start,n.id.loc.start).indexOf("module")>=0?i.push("module "):i.push("namespace "))),i.push(t.call(r,"id")),n.body&&(i.push(" "),i.push(t.call(r,"body"))),v(i);case"TSModuleBlock":{let s=t.call(o=>bu(o,e,r),"body");return s.isEmpty()?i.push("{}"):i.push(`{
`,s.indent(e.tabWidth),`
}`),v(i)}case"TSInstantiationExpression":return i.push(t.call(r,"expression"),t.call(r,"typeParameters")),v(i);case"V8IntrinsicIdentifier":return v(["%",t.call(r,"name")]);case"TopicReference":return I("#");case"ClassHeritage":case"ComprehensionBlock":case"ComprehensionExpression":case"Glob":case"GeneratorExpression":case"LetStatement":case"LetExpression":case"GraphExpression":case"GraphIndexExpression":case"XMLDefaultDeclaration":case"XMLAnyName":case"XMLQualifiedIdentifier":case"XMLFunctionQualifiedIdentifier":case"XMLAttributeSelector":case"XMLFilterExpression":case"XML":case"XMLElement":case"XMLList":case"XMLEscape":case"XMLText":case"XMLStartTag":case"XMLEndTag":case"XMLPointTag":case"XMLName":case"XMLAttribute":case"XMLCdata":case"XMLComment":case"XMLProcessingInstruction":default:debugger;throw new Error("unknown type: "+JSON.stringify(n.type))}}function Fne(t,e){let r=[],n=t.getValue();return n.decorators&&n.decorators.length>0&&!WM(t)?t.each(function(i){r.push(e(i),`
`)},"decorators"):lm(n)&&n.declaration&&n.declaration.decorators&&t.each(function(i){r.push(e(i),`
`)},"declaration","decorators"),v(r)}function bu(t,e,r){let n=[];t.each(function(a){let u=a.getValue();u&&(u.type==="EmptyStatement"&&!(u.comments&&u.comments.length>0)||(gt.Comment.check(u)||gt.Statement.check(u)||F_.assert(u),n.push({node:u,printed:r(a)})))});let i=null,s=n.length,o=[];return n.forEach(function(a,u){let c=a.printed,l=a.node,p=c.length>1,d=u>0,f=u<s-1,h,m,g=l&&l.loc&&l.loc.lines,y=g&&e.reuseWhitespace&&zM(l,g);if(d)if(y){let b=g.skipSpaces(y.start,!0),_=b?b.line:1,E=y.start.line-_;h=Array(E+1).join(`
`)}else h=p?`

`:`
`;else h="";if(f)if(y){let b=g.skipSpaces(y.end),E=(b?b.line:g.length)-y.end.line;m=Array(E+1).join(`
`)}else m=p?`

`:`
`;else m="";o.push(One(i,h),c),f?i=m:m&&o.push(m)}),v(o)}function One(t,e){if(!t&&!e)return I("");if(!t)return I(e);if(!e)return I(t);let r=I(t),n=I(e);return n.length>r.length?n:r}function lL(t){let e=[];t.declare&&e.push("declare ");let r=t.accessibility||t.access;return typeof r=="string"&&e.push(r," "),t.static&&e.push("static "),t.override&&e.push("override "),t.abstract&&e.push("abstract "),t.readonly&&e.push("readonly "),e}function y_(t,e,r){let n=t.getNode(),i=n.kind,s=[],o=n.value;gt.FunctionExpression.check(o)||(o=n),s.push(...lL(n)),o.async&&s.push("async "),o.generator&&s.push("*"),(i==="get"||i==="set")&&s.push(i," ");let a=t.call(r,"key");return n.computed&&(a=v(["[",a,"]"])),s.push(a),n.optional&&s.push("?"),n===o?(s.push(t.call(r,"typeParameters"),"(",di(t,e,r),")",t.call(r,"returnType")),n.body?s.push(" ",t.call(r,"body")):s.push(";")):(s.push(t.call(r,"value","typeParameters"),"(",t.call(u=>di(u,e,r),"value"),")",t.call(r,"value","returnType")),o.body?s.push(" ",t.call(r,"value","body")):s.push(";")),v(s)}function FM(t,e,r){let n=t.map(r,"arguments"),i=Ql(e,"parameters"),s=I(", ").join(n);return s.getLineLength(1)>e.wrapColumn?(s=I(`,
`).join(n),v([`(
`,s.indent(e.tabWidth),i?`,
)`:`
)`])):v(["(",s,")"])}function di(t,e,r){let n=t.getValue(),i,s=[];n.params?(i=n.params,s=t.map(r,"params")):n.parameters&&(i=n.parameters,s=t.map(r,"parameters")),n.defaults&&t.each(function(a){let u=a.getName(),c=s[u];c&&a.getValue()&&(s[u]=v([c," = ",r(a)]))},"defaults"),n.rest&&s.push(v(["...",t.call(r,"rest")]));let o=I(", ").join(s);return o.length>1||o.getLineLength(1)>e.wrapColumn?(o=I(`,
`).join(s),Ql(e,"parameters")&&!n.rest&&i[i.length-1].type!=="RestElement"?o=v([o,`,
`]):o=v([o,`
`]),v([`
`,o.indent(e.tabWidth)])):o}function pL(t,e,r){let n=t.getValue();if(n.assertions&&n.assertions.length>0){let i=[" assert {"],s=t.map(r,"assertions"),o=I(", ").join(s);return o.length>1||o.getLineLength(1)>e.wrapColumn?i.push(`
`,I(`,
`).join(s).indent(e.tabWidth),`
}`):i.push(" ",o," }"),v(i)}return I("")}function OM(t,e,r){let n=t.getValue(),i=["export "];n.exportKind&&n.exportKind==="type"&&(n.declaration||i.push("type "));let s=e.objectCurlySpacing;if(gt.Declaration.assert(n),(n.default||n.type==="ExportDefaultDeclaration")&&i.push("default "),n.declaration)i.push(t.call(r,"declaration"));else if(n.specifiers){if(n.specifiers.length===1&&n.specifiers[0].type==="ExportBatchSpecifier")i.push("*");else if(n.specifiers.length===0)i.push("{}");else if(n.specifiers[0].type==="ExportDefaultSpecifier"){let a=[],u=[];if(t.each(function(c){c.getValue().type==="ExportDefaultSpecifier"?a.push(r(c)):u.push(r(c))},"specifiers"),a.forEach((c,l)=>{l>0&&i.push(", "),i.push(c)}),u.length>0){let c=I(", ").join(u);c.getLineLength(1)>e.wrapColumn&&(c=v([I(`,
`).join(u).indent(e.tabWidth),","])),a.length>0&&i.push(", "),c.length>1?i.push(`{
`,c,`
}`):e.objectCurlySpacing?i.push("{ ",c," }"):i.push("{",c,"}")}}else i.push(s?"{ ":"{",I(", ").join(t.map(r,"specifiers")),s?" }":"}");n.source&&i.push(" from ",t.call(r,"source"),pL(t,e,r))}let o=v(i);return rp(o)!==";"&&!(n.declaration&&(n.declaration.type==="FunctionDeclaration"||n.declaration.type==="ClassDeclaration"||n.declaration.type==="TSModuleDeclaration"||n.declaration.type==="TSInterfaceDeclaration"||n.declaration.type==="TSEnumDeclaration"))&&(o=v([o,";"])),o}function zl(t,e){return WM(t)||e.unshift("declare "),v(e)}function Wl(t,e){return t.call(function(r){let n=r.getValue();return n?n==="plus"?I("+"):n==="minus"?I("-"):e(r):I("")},"variance")}function Go(t,e){return t.length>1?v([" ",t]):v([`
`,em(t).indent(e.tabWidth)])}function rp(t){let e=t.lastPos();do{let r=t.charAt(e);if(/\S/.test(r))return r}while(t.prevPos(e))}function kM(t){return rp(t)==="}"}function Yh(t){return t.replace(/['"]/g,e=>e==='"'?"'":'"')}function Eu(t){let e=is(t,"value"),r=is(t,"extra");if(r&&typeof r.raw=="string"&&e==r.rawValue)return r.raw;if(t.type==="Literal"){let n=t.raw;if(typeof n=="string"&&e==n)return n}}function Jh(t){return JSON.stringify(t).replace(/[\u2028\u2029]/g,function(e){return"\\u"+e.charCodeAt(0).toString(16)})}function Yl(t,e){switch(F_.assert(t),e.quote){case"auto":{let r=Jh(t),n=Yh(Jh(Yh(t)));return r.length>n.length?n:r}case"single":return Yh(Jh(Yh(t)));case"double":default:return Jh(t)}}function em(t){let e=rp(t);return!e||`
};`.indexOf(e)<0?v([t,";"]):t}function kne(t,e){return new Ine(e).print(t)}var Xh;function dL(){if(Xh)return Xh;let t=Rne();return Xh={parse(e,r){return MM.parse(e,{...t,...r})}},Xh}function Rne(){return{sourceType:"module",strictMode:!1,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,startLine:1,tokens:!0,plugins:["asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","classStaticBlock","decimal","decorators-legacy","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importAssertions","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{proposal:"minimal"}],["recordAndTuple",{syntaxType:"hash"}],"throwExpressions","topLevelAwait","v8intrinsic","jsx","typescript"]}}var Mne=Object.defineProperty,Lne=(t,e,r)=>e in t?Mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RM=(t,e,r)=>(Lne(t,typeof e!="symbol"?e+"":e,r),r),nr=class extends Error{constructor(e,r){if(super(""),RM(this,"rawMessage"),RM(this,"options"),this.name="MagicastError",this.rawMessage=e,this.options=r,r?.ast&&r?.code&&r.ast.loc){let{line:n,column:i}=r.ast.loc.start,s=r.code.split(`
`),o=Math.max(0,n-3),a=Math.min(s.length,n+3),u=s.slice(o,a).map((c,l)=>(c=`${(o+l+1).toString().padStart(3," ")} | ${c}`,o+l===n-1&&(c+=`
${" ".repeat(6+i)}^`),c));e+=`

${u.join(`
`)}
`}this.message=e}},Bne=new Set(["Literal","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","RegExpLiteral","BigIntLiteral"]),fL=new Set(["string","number","boolean","bigint","symbol","undefined"]),Dt=Su;function $ne(t){return/^[$A-Z_a-z][\w$]*$/.test(t)}var O_="__magicast_proxy";function mr(t,e=new Set){if(t===void 0)return Dt.identifier("undefined");if(t===null)return Dt.literal(null);if(fL.has(typeof t))return Dt.literal(t);if(e.has(t))throw new nr("Can not serialize circular reference");if(e.add(t),t[O_])return t.$ast;if(t instanceof RegExp){let r=Dt.regExpLiteral(t.source,t.flags);return delete r.extra.raw,r}return t instanceof Set?Dt.newExpression(Dt.identifier("Set"),[Dt.arrayExpression([...t].map(r=>mr(r,e)))]):t instanceof Date?Dt.newExpression(Dt.identifier("Date"),[Dt.literal(t.toISOString())]):t instanceof Map?Dt.newExpression(Dt.identifier("Map"),[Dt.arrayExpression([...t].map(([r,n])=>Dt.arrayExpression([mr(r,e),mr(n,e)])))]):Array.isArray(t)?Dt.arrayExpression(t.map(r=>mr(r,e))):typeof t=="object"?Dt.objectExpression(Object.entries(t).map(([r,n])=>Dt.property("init",/^[$A-Z_a-z][\w$]*$/g.test(r)?Dt.identifier(r):Dt.literal(r),mr(n,e)))):Dt.literal(t)}function Une(t,e={}){let r=e;return r[O_]=!0,r.$ast=t,r.$type||(r.$type="object"),r}var jne={enumerable:!0,configurable:!0};function un(t,e,r){let n=Une(t,e);return new Proxy({},{ownKeys(){return Object.keys(n).filter(i=>i!==O_&&!i.startsWith("$"))},getOwnPropertyDescriptor(){return jne},has(i,s){return s in n},...r,get(i,s,o){if(s in n)return n[s];if(r.get)return r.get(i,s,o)},set(i,s,o,a){return s in n?(n[s]=o,!0):r.set?r.set(i,s,o,a):!1}})}var $r=Su,b_=new WeakMap;function qne(t,e,r){if(b_.has(e))return b_.get(e);let n=un(e,{get $declaration(){return t},get imported(){return e.type==="ImportDefaultSpecifier"?"default":e.type==="ImportNamespaceSpecifier"?"*":e.imported.type==="Identifier"?e.imported.name:e.imported.value},set imported(i){if(e.type!=="ImportSpecifier")throw new nr("Changing import name is not yet implemented");e.imported.type==="Identifier"?e.imported.name=i:e.imported.value=i},get local(){return e.local.name},set local(i){e.local.name=i},get from(){return t.source.value},set from(i){if(i===t.source.value)return;t.specifiers=t.specifiers.filter(o=>o!==e),t.specifiers.length===0&&(r.body=r.body.filter(o=>o!==t));let s=r.body.find(o=>o.type==="ImportDeclaration"&&o.source.value===i);s?s.specifiers.push(e):r.body.unshift($r.importDeclaration([e],$r.stringLiteral(i)))},toJSON(){return{imported:this.imported,local:this.local,from:this.from}}},{ownKeys(){return["imported","local","from","toJSON"]}});return b_.set(e,n),n}function Gne(t,e){let r=()=>{let o=[];for(let a of t.body)if(a.type==="ImportDeclaration")for(let u of a.specifiers)o.push(qne(a,u,t));return o},n=(o,a,u)=>{let c=r(),l=c.find(h=>h.local===o),p=a.local||o;if(l)return l.imported=a.imported,l.local=p,l.from=a.from,!0;let d=a.imported==="default"?$r.importDefaultSpecifier($r.identifier(p)):a.imported==="*"?$r.importNamespaceSpecifier($r.identifier(p)):$r.importSpecifier($r.identifier(a.imported),$r.identifier(p)),f=c.find(h=>h.from===a.from)?.$declaration;if(f)f.specifiers.push(d);else if(u==="prepend"||c.length===0)t.body.unshift($r.importDeclaration([d],$r.stringLiteral(a.from)));else{let h=c.at(-1).$declaration,m=t.body.indexOf(h);t.body.splice(m+1,0,$r.importDeclaration([d],$r.stringLiteral(a.from)))}return!0},i=o=>{let a=r().find(l=>l.local===o);if(!a)return!1;let u=a.$declaration,c=a.$ast;return u.specifiers=u.specifiers.filter(l=>l!==c),u.specifiers.length===0&&(t.body=t.body.filter(l=>l!==u)),!0};return un(t,{$type:"imports",$add(o){n(o.local||o.imported,o,"prepend")},$prepend(o){n(o.local||o.imported,o,"prepend")},$append(o){n(o.local||o.imported,o,"append")},get $items(){return r()},toJSON(){return r().reduce((o,a)=>(o[a.local]=a,o),{})}},{get(o,a){return r().find(u=>u.local===a)},set(o,a,u){return n(a,u,"prepend")},deleteProperty(o,a){return i(a)},ownKeys(){return r().map(o=>o.local)},has(o,a){return r().some(u=>u.local===a)}})}function dm(t,e,r){let n=s=>e[s],i=(s,o)=>{e[s]=o};return un(t,{$type:"array",push(s){e.push(mr(s))},pop(){return hr(e.pop(),r)},unshift(s){e.unshift(mr(s))},shift(){return hr(e.shift(),r)},splice(s,o,...a){return e.splice(s,o,...a.map(c=>mr(c))).map(c=>hr(c,r))},find(s){return e.map(o=>hr(o,r)).find(s)},findIndex(s){return e.map(o=>hr(o,r)).findIndex(s)},includes(s){return e.map(o=>hr(o,r)).includes(s)},toJSON(){return e.map(s=>hr(s,r))}},{get(s,o){if(o==="length")return e.length;if(o===Symbol.iterator)return function*(){for(let c of e)yield hr(c,r)};if(typeof o=="symbol")return;let a=+o;if(Number.isNaN(a))return;let u=n(a);if(u)return hr(u,r)},set(s,o,a){if(typeof o=="symbol")return!1;let u=+o;return Number.isNaN(u)?!1:(i(u,mr(a)),!0)},deleteProperty(s,o){if(typeof o=="symbol")return!1;let a=+o;return Number.isNaN(a)?!1:(e[a]=mr(void 0),!0)},ownKeys(){return["length",...e.map((s,o)=>o.toString())]}})}function Vne(t,e){if("elements"in t)return dm(t,t.elements,e)}function hL(t,e){if(t.type!=="CallExpression")throw new nr("Not a function call");function r(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${r(i.object)}.${r(i.property)}`;throw new nr("Not implemented")}let n=dm(t,t.arguments,e);return un(t,{$type:"function-call",$callee:r(t.callee),$args:n},{})}function Kne(t,e){if(t.type!=="ArrowFunctionExpression")throw new nr("Not an arrow function expression");let r=dm(t,t.params,e);return un(t,{$type:"arrow-function-expression",$params:r,$body:hr(t.body,e)},{})}var Hne=Su;function zne(t,e){if(!("properties"in t))return;let r=s=>{for(let o of t.properties){if("key"in o&&"name"in o.key&&o.key.name===s)return o.value;if(o.type==="ObjectProperty"&&(o.key.type==="StringLiteral"||o.key.type==="NumericLiteral"||o.key.type==="BooleanLiteral")&&o.key.value.toString()===s)return o.value.value??o.value}},n=(s,o=!1)=>{if("key"in s&&"name"in s.key)return s.key.name;if(s.type==="ObjectProperty"&&(s.key.type==="StringLiteral"||s.key.type==="NumericLiteral"||s.key.type==="BooleanLiteral"))return s.key.value.toString();if(o)throw new nr(`Casting "${s.type}" is not supported`,{ast:s,code:e?.$code})},i=(s,o)=>{let a=t.properties.find(u=>n(u)===s);a?a.value=o:$ne(s)?t.properties.push({type:"Property",key:{type:"Identifier",name:s},value:o}):t.properties.push({type:"ObjectProperty",key:Hne.stringLiteral(s),value:o})};return un(t,{$type:"object",toJSON(){return t.properties.reduce((s,o)=>("key"in o&&"name"in o.key&&(s[o.key.name]=hr(o.value,e)),s),{})}},{get(s,o){let a=r(o);if(a)return hr(a,e)},set(s,o,a){return typeof o!="string"&&(o=String(o)),i(o,mr(a)),!0},deleteProperty(s,o){typeof o!="string"&&(o=String(o));let a=t.properties.findIndex(u=>"key"in u&&"name"in u.key&&u.key.name===o);return a!==-1&&t.properties.splice(a,1),!0},ownKeys(){return t.properties.map(s=>n(s,!0)).filter(Boolean)}})}function mL(t,e){if(t.type!=="NewExpression")throw new nr("Not a new expression");function r(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${r(i.object)}.${r(i.property)}`;throw new nr("Not implemented")}let n=dm(t,t.arguments,e);return un(t,{$type:"new-expression",$callee:r(t.callee),$args:n},{})}function Wne(t){if(t.type!=="Identifier")throw new nr("Not an identifier");return un(t,{$type:"identifier",$name:t.name},{})}function Yne(t){if(t.type!=="LogicalExpression")throw new nr("Not a logical expression");return un(t,{$type:"logicalExpression"},{})}function Jne(t){if(t.type!=="MemberExpression")throw new nr("Not a member expression");return un(t,{$type:"memberExpression"},{})}var E_=new WeakMap;function hr(t,e){if(fL.has(typeof t))return t;if(Bne.has(t.type))return t.value;if(E_.has(t))return E_.get(t);let r;switch(t.type){case"ObjectExpression":{r=zne(t,e);break}case"ArrayExpression":{r=Vne(t,e);break}case"CallExpression":{r=hL(t,e);break}case"ArrowFunctionExpression":{r=Kne(t,e);break}case"NewExpression":{r=mL(t,e);break}case"Identifier":{r=Wne(t);break}case"LogicalExpression":{r=Yne(t);break}case"MemberExpression":{r=Jne(t);break}case"TSAsExpression":case"TSSatisfiesExpression":{r=hr(t.expression,e);break}default:throw new nr(`Casting "${t.type}" is not supported`,{ast:t,code:e?.$code})}return E_.set(t,r),r}var Jl=Su;function Xne(t,e){let r=i=>{let s=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let o of t.body)if(o.type===s){if(i==="default")return o.declaration;if(o.declaration&&"declarations"in o.declaration){let a=o.declaration.declarations[0];if("name"in a.id&&a.id.name===i)return a.init}}},n=(i,s)=>{let o=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration",a=mr(s);for(let u of t.body)if(u.type===o){if(i==="default"){u.declaration=a;return}if(u.declaration&&"declarations"in u.declaration){let c=u.declaration.declarations[0];if("name"in c.id&&c.id.name===i){c.init=a;return}}}t.body.push(i==="default"?Jl.exportDefaultDeclaration(a):Jl.exportNamedDeclaration(Jl.variableDeclaration("const",[Jl.variableDeclarator(Jl.identifier(i),a)])))};return un(t,{$type:"exports"},{get(i,s){let o=r(s);if(o)return hr(o,e)},set(i,s,o){return n(s,o),!0},ownKeys(){return t.body.flatMap(i=>i.type==="ExportDefaultDeclaration"?["default"]:i.type==="ExportNamedDeclaration"&&i.declaration&&"declarations"in i.declaration?i.declaration.declarations.map(s=>"name"in s.id?s.id.name:""):[]).filter(Boolean)},deleteProperty(i,s){let o=s==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let a=0;a<t.body.length;a++){let u=t.body[a];if(u.type===o){if(s==="default")return t.body.splice(a,1),!0;if(u.declaration&&"declarations"in u.declaration){let c=u.declaration.declarations[0];if("name"in c.id&&c.id.name===s)return t.body.splice(a,1),!0}}}return!1}})}function Qne(t,e){let r=t.program;if(r.type!=="Program")throw new nr(`Cannot proxify ${t.type} as module`);let n={$code:e,$type:"module"},i=un(r,n,{ownKeys(){return["imports","exports","generate"]}});return n.exports=Xne(r,i),n.imports=Gne(r),n.generate=s=>k_(i,s),i}function gL(t,e={}){let r={wrapColumn:e.wrapColumn===void 0,indent:e.tabWidth===void 0||e.useTabs===void 0,quote:e.quote===void 0,arrowParens:e.arrowParensAlways===void 0,trailingComma:e.trailingComma===void 0},n=2,i=0,s=0,o=0,a=0,u=/(?<doubleQuote>"[^"]+")|(?<singleQuote>'[^']+')|(?<singleParam>\([^),]+\)\s*=>)|(?<trailingComma>,\s*[\]}])/g,c={doubleQuote:0,singleQuote:0,singleParam:0,trailingComma:0},l=(t||"").split(`
`),p=!1;for(let d of l){let f=d.trim();if(f.length!==0){if(r.wrapColumn&&d.length>o&&(o=d.length),r.indent){let h=d.match(/^\s+/)?.[0]||"";h.length>0&&(h.length>0&&h.length<n&&(n=h.length),h[0]==="	"?i++:h.length>0&&i--)}if(f.at(-1)===";"?s++:f.length>0&&s--,r.quote||r.arrowParens){let h=f.matchAll(u);for(let m of h)if(m.groups)for(let g in c)m.groups[g]&&c[g]++}r.trailingComma&&((d.startsWith("}")||d.startsWith("]"))&&(p?a++:a--),p=f.endsWith(","))}}return{wrapColumn:o,useTabs:i>0,tabWidth:n,quote:c.singleQuote>c.doubleQuote?"single":"double",arrowParensAlways:c.singleParam>0,trailingComma:a>0||c.trailingComma>0,useSemi:s>0,arrayBracketSpacing:void 0,objectCurlySpacing:void 0,...e}}function yL(t,e){let r=tL(t,{parser:e?.parser||dL(),...e});return Qne(r,t)}function bL(t,e){let r=tL("("+t+")",{parser:e?.parser||dL(),...e}),n=r.program.body[0];n.type==="ExpressionStatement"&&(n=n.expression),n.extra?.parenthesized&&(n.extra.parenthesized=!1);let i={$ast:r,$code:" "+t+" ",$type:"module"};return hr(n,i)}function k_(t,e={}){let r=t.$ast||t,n=e.format===!1||!("$code"in t)?{}:gL(t.$code,e.format),{code:i,map:s}=kne(r,{...e,...n});return{code:i,map:s}}async function Zne(t,e={}){let r=await tm.promises.readFile(t,"utf8");return e.sourceFileName=e.sourceFileName??t,yL(r,e)}async function eie(t,e,r){let n="$ast"in t?t.$ast:t,{code:i,map:s}=k_(n,r);await tm.promises.writeFile(e,i),s&&await tm.promises.writeFile(e+".map",s)}var Qh=Su,tie={functionCall(t,...e){let r=Qh.callExpression(Qh.identifier(t),e.map(n=>mr(n)));return hL(r)},newExpression(t,...e){let r=Qh.newExpression(Qh.identifier(t),e.map(n=>mr(n)));return mL(r)},literal(t){return mr(t)},raw(t){return bL(t)}};async function SL(t,e){let r=await(0,Bt.readdir)(t,{withFileTypes:!0}),n=[];for(let i of r){let s=Oe.default.join(t,i.name);if(i.isDirectory()){if(!e.has(i.name)){let o=await SL(s,e);n.push(...o)}}else n.push(s)}return n}async function _L(t){let e=new Set,r=(...c)=>{if(process.env.DEBUG){let l=new Date,p=`${String(l.getMinutes()).padStart(2,"0")}:${String(l.getSeconds()).padStart(2,"0")}.${String(l.getMilliseconds()).padStart(3,"0")}`;console.debug(p,"[khulnasoft-dev-tools]",...c)}},n=async c=>{let l=(0,EL.createHash)("md5");return l.update(c),l.digest("hex")},i=Oe.default.normalize(t.cwd),s=oie(Oe.default.normalize(t.cwd))??i,o=aie(Oe.default.normalize(t.cwd))??s,a={...Oe.default,getCwdDir:()=>i,getRepoRootDir:()=>s,getAppRootDir:()=>o,cwd:()=>process.cwd(),exists:async c=>{try{return await(0,Bt.access)(c),!0}catch{return!1}},magicast:R_,existsSync:c=>(0,lt.existsSync)(c),readdir:async(c,l)=>{let p=await(0,Bt.readdir)(c);return l?p.map(d=>Oe.default.join(c,d)):p},readdirRecursive:async(c,l)=>SL(c,new Set(l)),readdirSync:c=>(0,lt.readdirSync)(c),readFile:async c=>{try{return await(0,Bt.readFile)(c,"utf-8")}catch(l){if(l.code==="ENOENT")return null;throw r(l,c),l}},readFileSync(c){try{return(0,lt.readFileSync)(c,"utf-8")}catch(l){if(l.code==="ENOENT")return null;throw r(l,c),l}},spawnSync:_u.spawnSync,stat:async c=>await(0,Bt.stat)(c),statSync:c=>(0,lt.statSync)(c),unlinkSync:c=>{(0,lt.unlinkSync)(c)},unlink:async c=>{await(0,Bt.unlink)(c)},writeFile:async(c,l)=>{c=Oe.default.normalize(c);let p={path:c,basename:Oe.default.basename(c),dirname:Oe.default.dirname(c),extname:Oe.default.extname(c)};await(0,Bt.mkdir)(Oe.default.dirname(c),{recursive:!0}),await(0,Bt.writeFile)(c,l);for(let d of e)await d(p)},hash:n,getDeviceId:()=>n(`${(0,ip.hostname)()}:${(0,ip.homedir)()}`),formatCode:async(c,l)=>{let p=null;try{p=await M_.default.resolveConfig(c)}catch{}try{return M_.default.format(l,{...p,filepath:c})}catch{}return l},on:(c,l)=>{c==="change"&&e.add(l)},off:(c,l)=>{c==="change"&&e.delete(l)},debug:r,launchEditor:async c=>{try{let l=c.filePath;typeof c.line=="number"&&(l+=`:${c.line}`,typeof c.column=="number"&&(l+=`:${c.column}`)),(0,xL.default)(l,"code",(p,d)=>{console.error(`Failed to launch editor for ${p}`),d&&console.error(d)})}catch(l){console.error(`Failed to launch editor for ${String(l.message||l)}`)}},platform:()=>({runtime:"node",os:process.platform}),getRepoInfo:async()=>{let c=Oe.default.normalize(t.cwd);return{remoteUrl:rie(c),defaultBranch:nie(c),commit:iie(c),currentBranch:sie(c)}},getFrameworks:()=>[],ts:DL.default,version:"1.3.3",sdkVersion:null,ignoreMissingConfig:t.ignoreMissingConfig,kind:null},u=await vo(a);return a.getFrameworks=()=>u,a}function CL(){let t=(0,ip.homedir)();return Oe.default.join(t,".config","khulnasoft","dev-tools.json")}function L_(t,e){return typeof t=="object"&&t!=null&&e in t}async function Cu(){let t=CL();try{let e=await(0,Bt.readFile)(t,"utf-8");if(typeof e=="string")return JSON.parse(e)}catch(e){if(e.code==="ENOENT")return null}return null}async function B_(t){let e=CL();t=typeof t=="object"&&t!=null?t:{},await(0,Bt.mkdir)(Oe.default.dirname(e),{recursive:!0}),await(0,Bt.writeFile)(e,JSON.stringify(t??{},null,2))}function rie(t){try{return((0,_u.spawnSync)("git",["config","--get","remote.origin.url"],{cwd:t}).stdout||"").toString().trim()}catch(e){return console.error("Error getting git remote URL:",e),""}}function nie(t){let e="master";try{let r=(0,_u.spawnSync)("git",["branch","-r"],{cwd:t});return r.stdout&&r.stdout.toString().trim().split(`
`).map(i=>i.trim()).includes("origin/main")?"main":e}catch(r){return console.error("Error getting git default branch name:",r.toString().split(`
`)[0]),e}}function iie(t){try{return((0,_u.spawnSync)("git",["rev-parse","HEAD"],{cwd:t}).stdout||"").toString().trim()}catch(e){return console.error("Error getting git commit:",e),""}}function sie(t){try{return((0,_u.spawnSync)("git",["branch","--show-current"],{cwd:t}).stdout||"").toString().trim()}catch(e){return console.error("Error getting current branch name:",e),""}}function oie(t){let e=Oe.default.resolve("/");for(let r=0;r<20;r++){let n=Oe.default.join(t,"package.json");if((0,lt.existsSync)(n))return t;if(t===e)break;t=Oe.default.dirname(t)}return null}function aie(t){let e=Oe.default.resolve("/");for(let r=0;r<20;r++){if((0,lt.existsSync)(Oe.default.join(t,"package.json"))||(0,lt.existsSync)(Oe.default.join(t,"remix.config.js"))||(0,lt.existsSync)(Oe.default.join(t,"remix.config.mjs"))||(0,lt.existsSync)(Oe.default.join(t,"remix.config.ts"))||(0,lt.existsSync)(Oe.default.join(t,"vite.config.js"))||(0,lt.existsSync)(Oe.default.join(t,"vite.config.ts"))||(0,lt.existsSync)(Oe.default.join(t,"vite.config.mjs"))||(0,lt.existsSync)(Oe.default.join(t,"next.config.js"))||(0,lt.existsSync)(Oe.default.join(t,"next.config.ts"))||(0,lt.existsSync)(Oe.default.join(t,"angular.json"))||(0,lt.existsSync)(Oe.default.join(t,"project.json"))||(0,lt.existsSync)(Oe.default.join(t,"tsconfig.json")))return t;if(t===e)break;t=Oe.default.dirname(t)}return null}var vL=Y(require("crypto")),hm=new Uint8Array(256),fm=hm.length;function $_(){return fm>hm.length-16&&(vL.default.randomFillSync(hm),fm=0),hm.slice(fm,fm+=16)}var zt=[];for(let t=0;t<256;++t)zt.push((t+256).toString(16).slice(1));function TL(t,e=0){return zt[t[e+0]]+zt[t[e+1]]+zt[t[e+2]]+zt[t[e+3]]+"-"+zt[t[e+4]]+zt[t[e+5]]+"-"+zt[t[e+6]]+zt[t[e+7]]+"-"+zt[t[e+8]]+zt[t[e+9]]+"-"+zt[t[e+10]]+zt[t[e+11]]+zt[t[e+12]]+zt[t[e+13]]+zt[t[e+14]]+zt[t[e+15]]}var wL=Y(require("crypto")),U_={randomUUID:wL.default.randomUUID};function uie(t,e,r){if(U_.randomUUID&&!e&&!t)return U_.randomUUID();t=t||{};let n=t.random||(t.rng||$_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return TL(n)}var j_=uie;var G_=Y(require("os"),1);async function AL(){let t=!0==="true"&&process.env.NODE_ENV!=="test",e=await NL(),r=await IL();fi.init(t?"2532be1b0436a18cb938b21fc7fa9faf":"",{logLevel:fi.Types.LogLevel.None,flushIntervalMillis:500});let n=new fi.Identify;await fi.identify(n,{device_id:e,user_id:r,platform:G_.default.type(),os_name:process.platform,os_version:G_.default.release()}).promise,Vs.init({dsn:"https://3252dddc08dbb5bf406dc33bf3c13633@o117565.ingest.us.sentry.io/4505630794448896",tracesSampleRate:1,release:b2,environment:process.env.NODE_ENV,enabled:t,integrations:[new Vs.Integrations.Http({tracing:!0}),...Vs.autoDiscoverNodePerformanceMonitoringIntegrations()]}),Vs.setUser({username:process.env.USER||process.env.USERNAME||"unknown"})}async function wt(t,e,r){let n={...e,app:"dev-tools-cli",package:"cli"};return fi.track(t,n,{...r,user_id:await IL(),device_id:await NL()})}var mm,q_;async function PL(t){mm=t;let e=await Cu();await B_({...e,userId:t})}async function IL(){if(mm)return mm;let t=await Cu(),e;return L_(t,"userId")&&(e=t.userId),mm=e,e}async function NL(){if(q_)return q_;let t=await Cu(),e=j_();return L_(t,"deviceId")?e=t.deviceId:await B_({...t,deviceId:e}),q_=e,e}function ss(t){switch(wt("cli help",{subcommand:t}),console.log(""),Xt((0,$.bgCyan)((0,$.bold)((0,$.white)(" khulnasoft.com figma ")))+"  "+(0,$.dim)("1.3.3")),t){case"add":case"generate":case"gen":case"g":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Generate Figma Components")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com figma generate URL [URL ...] "))}

Start the auto-mapping wizard for the Figma Component URLs pasted in.

${(0,$.yellow)("Usage:")}
  Get the URL by right-clicking on the Figma Component and selecting
  "Copy Link". Be sure to copy the URL from the main component.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,$.cyan)("--force")}          Force operation even if there are warnings
  ${(0,$.cyan)("--skipInstallation")} Skip the package installation step
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"auth":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Authentication")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com figma auth "))}

Re-authenticate with Figma and Khulnasoft.com.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--force")}          Force re-authentication even if already authenticated`);break;case"publish":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Publish Mappings")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com figma publish "))}

Publish your Figma Mappings to Khulnasoft.com.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,$.cyan)("--force")}          Force publish even if there are warnings
  ${(0,$.cyan)("--printJson")}      Print output as JSON
  ${(0,$.cyan)("--dryrun")}         Run without making changes
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"migrate":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Migrate Mappings")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com figma migrate "))}

Migrate your existing Figma Mappings into the repo as local files.

${(0,$.yellow)("Description:")}
  Downloads existing Figma Mappings from Khulnasoft.com and saves them locally.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--force")}          Force migration even if there are warnings
  ${(0,$.cyan)("--yes")}            Auto-confirm all prompts`);break;case"code":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Code Generation")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com code --url URL "))}

Generate or modify code based on Figma designs.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--url")}            URL to start completion from
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--prompt")}         Prompt text for non-interactive mode
  ${(0,$.cyan)("--mode")}           Generation mode - either 'exact' for precise matches or 'creative' for more flexibility
  ${(0,$.cyan)("--cwd")}            Working directory to run commands from

${(0,$.yellow)("Configuration Files:")}
  ${(0,$.cyan)(".khulnasoftignore")}   Add patterns to exclude files from being included in code generation
  ${(0,$.cyan)(".khulnasoftrules")}    Add custom instructions that will be injected into the LLM prompt
  ${(0,$.cyan)(".cursorrules")}     Cursor's settings are automatically supported for consistent behavior`);break;case"indexing":K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bold)("Code Indexing")}

${(0,$.bgGreen)((0,$.white)(" npx khulnasoft.com code indexing "))}

Index your codebase to improve code generation results.

${(0,$.yellow)("Arguments:")}
  ${(0,$.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,$.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,$.cyan)("--cwd")}            Working directory to run commands from`);break;default:K.info(`${(0,$.bold)("Available Commands:")}
`),[{command:"generate URL [URL ...]",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"publish",description:"Publish your Figma Mappings to Khulnasoft.com"},{command:"migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"auth",description:"Re-authenticate with Figma and Khulnasoft.com"},{command:"code",description:"Generate or modify code based on Figma designs"},{command:"indexing",description:"Index your codebase to improve code generation results"}].forEach(({command:r,description:n})=>{K.info(`${(0,$.cyan)("\u2192")} ${(0,$.bgGreen)((0,$.white)(` npx khulnasoft.com figma ${r} `))}
   ${(0,$.dim)(n)}
`)}),K.info(`
Use ${(0,$.cyan)("npx khulnasoft.com figma help <command>")} for detailed help about a command`)}ar("bye \u{1F44B}")}var z_=Y(Oi(),1);var gm=Y(Oi(),1);var FL=require("undici"),sr=async(t,e)=>{let r="fetch"in globalThis?globalThis.fetch:FL.fetch;try{return await r(t,e)}catch(n){let i=typeof t=="string"?t:t instanceof URL?t.toString():t.url,s=e?.method||"GET",o=n instanceof Error?n.message:String(n),a=new Error(`Fetch failed for ${s} ${i}: ${o}`);throw n instanceof Error&&(a.cause=n),a.requestContext={url:i,method:s,headers:e?.headers},a}};var cie="https://cdn.khulnasoft.com";async function V_(t){try{let e=await sr(`${cie}/api/internal/kv/${t.spaceId}/${t.docId}?apiKey=${t.spaceId}`,{headers:{Authorization:`Bearer ${t.privateKey}`}});if(e.status===404)return gm.captureMessage("getKhulnasoftSpaceKv 404"),console.warn("GET 404",e.url),null;if(!e.ok)throw new Error(`HTTP ${e.status} ${e.statusText}`);return e.json()}catch(e){gm.captureException(e),console.error("GET failed",e);return}}var op=Y(kL(),1);var RL=Y(Oi(),1),ML=Y(Nh(),1);async function be(t){if(process.env.NODE_ENV!=="test")try{await Promise.allSettled([RL.flush(2e3),ML.flush().promise])}catch(e){console.error(e)}process.exit(t)}var hi=process.env.AIR_HOST||"https://air-layout-v2-tk43uighdq-uc.a.run.app";var jL=async(t,e)=>{let r=e._.slice(2);if(!r.length)return ge(`No Figma URL provided, use:
  npx khulnasoft.com figma generate "https://..."`),ss(),await be(1);console.log(""),Xt((0,X.bgMagenta)((0,X.bold)((0,X.white)(" figma generate ")))+"  "+(0,X.dim)("1.3.3")),K.message((0,X.dim)(`This command will help you create new ".mapper.tsx" files to connect Figma components to your code components.
Check out `)+(0,X.bold)((0,X.cyan)("https://www.khulnasoft.com/c/docs/cli-mapping"))+(0,X.dim)(" for more details."));let{figmaAuth:n,khulnasoftPublicKey:i,khulnasoftPrivateKey:s,userId:o}=await cn(t,e,{forceSpaceId:e.spaceId,figmaAuth:!0,khulnasoftPublicKey:!0,khulnasoftPrivateKey:!0});if(!s||!i)return ge("Missing khulnasoft.com credentials"),await be(1);if(!n?.access_token)return ge("Figma Auth failed, try again."),await be(1);wt("figma generate started",{spaceId:i});let u=Lo(Ms),c=Ir();c.start("Loading local repo");let l;try{l=await Ns(t),c.stop("Local repo loaded")}catch{c.stop("Repo's framework is not supported")}let p,d;c=Ir(),c.start("Gathering Figma component info");let f=await mie(n,{privateKey:s,spaceId:i},r),h=await l?.getRegistry({readAllInputTypes:!0});c.stop("Figma component info loaded");let m=await ap(t),{figmaKhulnasoftLinks:g}=await X_({figmaAuth:n,force:!0,print:!1,mappingFiles:m,sys:t});if(f.length>1){let b=await tC({message:`Pick which ${(0,X.magenta)("\u2756")} Figma components you want to connect to code:`,required:!0,options:f.map(([,_])=>({label:`${_.name}${g.some(E=>E.figmaKey===_.key)?(0,X.dim)(" (already mapped)"):""}`,value:_.key})),initialValues:f.map(([,_])=>_.key).filter(_=>!g.some(E=>E.figmaKey===_))});if(Ue(b))return ge("Mapping not saved, goodbye!"),await be(1);f=f.filter(([,_])=>b.includes(_.key))}let y=[];for(let b=0;b<f.length;b++){let[_,E]=f[b];b>0&&K.info(`Mapped ${b} / ${f.length} components:

${f.map(([,N],B)=>b>B?N.documentName==="-"?(0,X.dim)(` \u2756 ${N.name}`)+" "+(0,X.yellow)("(skipped)"):(0,X.green)(` \u2714 ${N.name} \u2192 <${N.documentName} />`):b===B?(0,X.underline)(` \u2192 ${N.name}`):(0,X.dim)(` \u2756 ${N.name}`)).filter(Boolean).join(`
`)}
`);let x,S,T;if(h){let N=await $L(h.components,E.name,!0);if(N==="external package"){let P=await wie(l);l?.addExternalPackage(P);let F=await l?.getRegistry({readAllInputTypes:!0});if(F&&(h=F),h){let L=await $L(h?.components.filter(V=>V.importPath===P),E.name,!0);L==="skip"?x=void 0:x=L}else{let L=await or({message:"Enter the import name of the component you want to map to",placeholder:"Button",validate(de){if(!de)return"Import name cannot be empty";if(!/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(de))return"Invalid import name. Please use a valid JavaScript identifier."}});if(Ue(L))return ge("Mapping not saved, goodbye!"),await be(1);let V=await _p({message:`Select the type of import for ${P}`,options:[{value:"named",label:"Named",hint:`import { ${L} } from '${P}';`},{value:"default",label:"Default",hint:`import ${L} from '${P}';`}]});if(Ue(V))return ge("Mapping not saved, goodbye!"),await be(1);x={id:"",exportName:L,importPath:P,importName:L,exportType:V,relFilePath:P,name:L,inputs:[],dependencies:[{name:L}],acceptsChildren:!0,filePath:P}}}else N==="skip"?x=void 0:x=N;if(!x){E.documentName="-",K.warning("Skipping mapping for "+E.name);continue}let B,J=Sie(E,x,h,!0,!1);S=J.figmaInterface,J.meta={figmaNode:E,figmaKey:E.key,registeredCmp:x,cliVersion:t.version,cliFrameworks:t.getFrameworks().map(P=>P.name),cliPlatform:t.platform(),cliDeviceId:await t.getDeviceId()};try{for(;;){J.previousCode=T,J.prompt=B;let P=0;K.message(u.highlight("typescript",`// Local component types
`+J.reactInterface+`

// \u2756 ${E.name}
`+J.figmaInterface).value),K.message((0,X.bgCyan)((0,X.bold)((0,X.white)(" Streaming >> ")))),console.log("");let F=(0,X.bgCyan)((0,X.bold)((0,X.white)(" << ")));T=await vie(J,i,o,s,(V,de)=>{let ne=u.highlight("typescript",de).value.split(`
`).map(ce=>(0,X.dim)("\u2502  ")+ce);if(P>0){let ce=Math.max(0,P-1),xt=ne.slice(Math.max(0,ce)),At=Math.min(P,1);At>0&&(K_.default.moveCursor(process.stdout,0,-At),K_.default.clearScreenDown(process.stdout)),process.stdout.write(xt.join(`
`)+F+`
`)}else process.stdout.write(ne.join(`
`));P=ne.length});let L=await or({message:`How does the mapping look? ${(0,X.dim)('Reply "good", or provide feedback (Ctrl+C to exit)')}`,defaultValue:"good",placeholder:"good"});if(Ue(L))return ge("Mapping not saved, goodbye!"),await be(1);if(L.trim()==="good")break;wt("figma add follow up prompt",{spaceId:i,prompt:L}),B=L}}catch(P){return z_.captureException(P),ge("LLM failed:"+String(P)),await be(1)}}else{let N=await Jt({message:`Create placeholder mapper for ${(0,X.magenta)(`\u2756 ${E.name}`)}?`,initialValue:!0,active:"Yes",inactive:"Skip"});if(!N||Ue(N)){E.documentName="-",K.warning(`Skipping mapping for ${(0,X.magenta)(`\u2756 ${E.name}`)}`);continue}S="",x={id:E.key,exportName:mi(E.name),importPath:"@components",importName:mi(E.name),exportType:"named",isRegistered:!0,name:mi(E.name),filePath:"./placeholder",inputs:[],relFilePath:"./placeholder.tsx"},T=`function Mapper(figma: BaseFigmaProps) {
  return (
    <${x.importName} />
  );
}`}let w=x.exportType==="default"?`import ${x.importName} from "${x.importPath}";
`:`import { ${x.importName} } from "${x.importPath}";
`,k=_.startsWith("https://")?`
url: ${JSON.stringify(_)},`:"",R="";l?.framework!=="react"&&l?.framework!=="next"&&l?.framework!=="@remix-run/react"&&(R=`// @ts-nocheck
`);let U="",ie=`
// \u2756 ${E.name}
${S}

// Read more at https://www.khulnasoft.com/c/docs/mapping-functions
figmaMapping({${k}
  componentKey: ${JSON.stringify(E.key)},
  mapper${T?.replace("function Mapper(","(")}
});
    `;ie=ie.replace(/\bReact\.ReactNode\b/gm,"ChildrenNode");let pe=["figmaMapping","type BaseFigmaProps"];T?.includes("falseToUndefined")&&pe.push("falseToUndefined"),T?.includes("explicitFalse")&&pe.push("explicitFalse"),ie?.includes("ChildrenNode")&&pe.push("ChildrenNode"),new RegExp(`\\b${x.importName}Props\\b`).test(ie)&&(pe.push("ComponentProps"),U+=`
type ${x.importName}Props = ComponentProps<typeof ${x.importName}>;
`);let ue=`import { ${pe.join(", ")} } from '@khulnasoft.com/dev-tools/figma';`,re=`${R}${ue}${w}${U}${ie}`,ke=`${mi(E.name)}.mapper.tsx`;if(E.documentName=x.importName,p)d=t.join(p,ke);else{let N=sp.default.existsSync("src");d=await fie(`${N?"src/":""}mappings/${ke}`),p=t.dirname(d),sp.default.mkdirSync(p,{recursive:!0})}sp.default.writeFileSync(d,await Pr(re,void 0,d)),y.push(d),l&&!x.isRegistered&&x.id&&(c=Ir(),c.start("Registering khulnasoft component in registry"),await l.registerComponent({cmpId:x.id}),c.stop(`<${x.importName}> added to the khulnasoft registry`))}await up(t,i,l,!0),p?(y.length===1?K.success(`${(0,X.bgGreen)((0,X.bold)((0,X.white)(" Done! \u{1F389} ")))} New mapper file saved in: ${(0,X.dim)(y[0])}`):K.success(`${(0,X.bgGreen)((0,X.bold)((0,X.white)(" Done! \u{1F389} ")))} Created ${y.length} new mapping files:
${y.map(b=>`  - ${b}`).join(`
`)}`),ar((0,X.dim)(`Figma mappings need to be published to come into effect. You can do this by running:

   `)+(0,X.bgBlack)((0,X.white)((0,X.bold)(" npx khulnasoft.com figma publish ")))+`

   `+(0,X.dim)("Read more: https://www.khulnasoft.com/c/docs/cli-mapping#publishing-a-new-mapping")),wt("figma add success",{spaceId:i,mappingPath:p})):ar("No new mappings were created.")},W_=t=>{let e=new URL(t);if(!t.startsWith("https://www.figma.com/design/"))return null;let r=e.searchParams.get("node-id")?.replaceAll("-",":"),n=e.pathname.split("/")[2];return r&&n?{fileID:n,nodeId:r}:null};async function fie(t){let e=await or({message:`Where do you want to save the new mapping? ${(0,X.dim)("(Ctrl+C to exit)")}`,defaultValue:t,placeholder:t,initialValue:t,validate(r){if((0,UL.isAbsolute)(r))return"Please enter a relative path, not absolute";if(!r.endsWith(".mapper.tsx")&&!r.endsWith(".mapper.jsx"))return"Please enter a path that ends with '.mapper.tsx'";if(sp.default.existsSync(r))return"File already exists, please choose a different name"}});return Ue(e)?(ge("Mapping not saved, goodbye!"),await be(1)):e}var hie=/^[a-f0-9]{40}$/;async function mie(t,e,r){return(await Promise.all(r.map(async i=>{let s,o;if(i.match(hie))try{let l=await V_({...e,docId:i});if(l)return[[i,l]];let p;try{p=await qL(`components/${i}`,{auth:t}),s=p.meta.file_key,o=p.meta.node_id}catch{K.warning("Failed to fetch component from Figma API.")}}catch(l){throw z_.captureException(l),l}if(!s||!o){let l;try{l=W_(i)}catch{}if(!l)return ge(`Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection.
   Or make sure the command is copied correctly from the Figma plugin and the same khulnasoft space is being used.`),await be(1);l&&({fileID:s,nodeId:o}=l)}let a=await Y_(t,s,o),u=HL(a[o].document,a[o].components);if(u){let l=(await Promise.all(Array.from(u).map(async([,p])=>await V_({...e,docId:p.key})))).filter(BL);if(l.length)return l.map(p=>[i,p])}let c=await Tie(a[o],o);return c?[[i,c]]:[]}))).flat().filter(BL)}var Y_=async(t,e,r,n)=>(await qL(`files/${e}/nodes`,{auth:t,params:{ids:r,depth:n}})).nodes,gie="https://api.figma.com/v1/",qL=async(t,{auth:e,params:r})=>{let n=new URL(`${gie}${t}`),i={};if(e.oauth?i.Authorization=`Bearer ${e.access_token}`:i["X-FIGMA-TOKEN"]=e.access_token,r)for(let o in r)r[o]!=null&&n.searchParams.set(o,r[o].toString());let s=await sr(n,{headers:i});if(!s.ok)throw new Error(`Figma REST ${s.statusText}: ${await s.text()}`);return s.json()};function GL(t,e){let r=e.types,n=[];return r.includes(t.type)&&n.push(t),"children"in t&&n.push(...t.children.flatMap(i=>GL(i,e))),n}function yie(t){let e=[],r={};try{r=t.componentPropertyDefinitions??{}}catch(u){console.error("Invalid Component Property Definitions",u)}let n=t.type==="COMPONENT_SET"?t.children:[t],i=new Map,s=[],o=Object.keys(r),a=Eie(o);for(let u of n){let c=GL(u,{types:["INSTANCE","TEXT"]});for(let l of c){s.push(l);let p=l.componentPropertyReferences;p&&p.visible&&(p.characters&&i.set(p.characters,a(p.visible)),p.mainComponent&&i.set(p.mainComponent,a(p.visible)))}}for(let u of o){let c=r[u];switch(c.type){case"TEXT":{e.push({id:u,name:a(u),value:c.defaultValue,type:"string",baseType:"text",isDefault:!0,ref:i.get(u)});break}case"BOOLEAN":{e.push({id:u,name:a(u),value:!!c.defaultValue,baseType:"boolean",isDefault:!0,type:"boolean"});break}case"VARIANT":{e.push({id:u,name:a(u),value:c.defaultValue,type:c.variantOptions?.map(l=>`'${l}'`).join(" | ")??"string",baseType:"variant",variantOptions:c.variantOptions??[],isDefault:!0,ref:i.get(u)});break}case"INSTANCE_SWAP":{e.push({id:u,name:a(u),value:String(c.defaultValue),type:"React.ReactNode",baseType:"slot",isDefault:!0,ref:i.get(u)});break}}}return{inputs:e,nameMap:a}}function bie(t,e){let{inputs:r,nameMap:n}=yie(e);return{name:e.name,jsx:e.type==="COMPONENT_SET"?H_(e.children[0],n,0,0):H_(e,n,0,0),inputs:r,key:e.key,description:e.description,documentationLinks:[],instanceId:t.includes(":")?t:e.id,documentName:"",tree:""}}var VL=/[^\x00-\x7F]/g;function LL(t){return typeof t=="string"?t.replace(/#\d+:\d+$/,"").replace(VL,"").trim():""}function Eie(t){let e=new Map,r=new Map;return t.forEach(n=>{let i=LL(n);r.has(i)?(e.has(n)&&(e.set(r.get(i),r.get(i)),e.delete(i)),e.set(n,n)):(e.set(n,i),r.set(i,n))}),n=>{let i=e.get(n)??LL(n);if(!i)throw new Error("No value for key "+n);return i}}var H_=(t,e,r,n,i=-1)=>{let s="  ".repeat(Math.max(i+1,0)),o="",a=t.type,u=a==="GROUP"||a==="FRAME"||i<0&&"children"in t,c="",l=i>=0;if(l){let p="";if(t.type==="INSTANCE"){if(t.componentPropertyReferences&&t.componentPropertyReferences.mainComponent)return o+=`${s}{figma["${e(t.componentPropertyReferences.mainComponent)}"]}
`,o;c=t.type}c===""&&(c=t.type),(t.type!=="TEXT"||!t.autoRename)&&(p+=` name="${t.name}"`),t.componentPropertyReferences&&t.componentPropertyReferences.visible&&(p+=` visible={figma["${e(t.componentPropertyReferences.visible)}"]}`),o+=`${s}<${c}${p}`}if(t.type==="TEXT")l&&(o+=`>
`),t.componentPropertyReferences&&t.componentPropertyReferences.characters?o+=`${s}  {figma["${e(t.componentPropertyReferences.characters)}"]}
`:o+=`${s}  ${t.characters}
`,l&&(o+=`${s}</${c}>
`);else if(u&&"children"in t&&t.children.length>0){l&&(o+=`>
`);let p=0;for(let d of t.children)o+=H_(d,e,p,t.children.length,i+1),p++;l&&(o+=`${s}</${c}>
`)}else l&&(o+=`/>
`);return o};function mi(t){return t=t.replace(VL,""),t=t.replace(/[\W\d]/g," "),t=t.trim(),t=Die(t),t=t.charAt(0).toUpperCase()+t.slice(1),t}function Die(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,r){return r===0?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")}function xie(t,e,r){let n=new RegExp(`^${t.importName}[A-Z]`),i=r?e.components.filter(s=>n.test(s.name)).map(s=>`<${s.name}>`):[];return`interface ${t.importName}Props {
${(t.inputs||[]).filter(s=>Cie(s)).map(s=>`  ${KL(s.name)}${s.required?"":"?"}: ${J_(s)};${i.length>0&&s.name==="children"?" // possible children: "+i.join(", "):""}`).join(`
`)}
}`}function Sie(t,e,r,n,i){let s=e.dependencies?.[0].name,o=mi(t.name),a=r.components.map(p=>p.name).join(", "),u=`// Component: <${e.importName}>${s?" from "+s:""}
${xie(e,r,i)}`,c=`interface Figma${o}Props extends BaseFigmaProps {
${t.inputs.map(p=>`  ${KL(p.name)}?: ${J_(p)};${p.ref?` // when "${p.ref}" is true`:""}`).join(`
`)}
}`,l=`${n?t.jsx:t.tree}`;return{figmaInterface:c,figmaTree:l,componentRegistry:a,figmaComponentName:o,reactInterface:u}}var _ie=new Set(["id","class","className","key","hidden","style","styles","css","ref"]),Cie=t=>!(_ie.has(t.name)||t.type==="object"||/^[A-Z_]/.test(t.name)||/^on[A-Z]/.test(t.name)||J_(t)==="null"),J_=t=>t.type==="reference"?"ReactNode":t.type==="file"||t.type==="richText"?"string":t.enum?t.enum.map(e=>`'${e}'`).join(" | "):t.meta?.ts?t.meta.ts:t.type,KL=t=>/^[a-zA-Z_]\w*$/.test(t)?t:`"${t}"`;async function vie(t,e,r,n,i){let s=new URL(`${hi}/mappings/completions`);e&&s.searchParams.set("apiKey",e),r&&s.searchParams.set("userId",r);let o=await sr(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!o.ok)throw new Error("Fetch to server failed");if(o.body){let a="",u=o.body.getReader(),c,l;for(;!c;){if({value:l,done:c}=await u.read(),c)return a;let p=new TextDecoder().decode(l);a+=p,i(p,a)}return a}}async function Tie(t,e){let r=t.document;if(r.type!=="COMPONENT"&&r.type!=="COMPONENT_SET"){let i=`Seems like the pasted URL points to a ${r.type} node, not a COMPONENT or COMPONENT_SET.`;return r.type==="INSTANCE"&&(i+=`
Double click and select "Go to main component", then copy the URL to the figma COMPONENT`),ge(i),await be(1)}let n=t.components[e]?.key??t.componentSets[e]?.key;return n?(t.document.key=n,bie(e,r)):(ge("Pasted URL does not correspond to a component or component set"),await be(1))}function BL(t){return t!=null}function HL(t,e,r=new Map){debugger;if(t.componentId&&r.set(t.componentId,e[t.componentId]),t.children)for(let n of t.children)HL(n,e,r);return r}async function wie(t){if(!t){let u=await or({message:"Enter the import path to the component you want to map to:",placeholder:"@mui/material",validate(c){if(!c)return"Import path cannot be empty";if(!/^(@[a-z0-9-~][a-z0-9-._~]*\/)?[a-z0-9-~][a-z0-9-._~]*(\/.+)?$/i.test(c))return"Invalid import path format. Please use a valid ESM import path."}});return Ue(u)?(ge("Mapping not saved, goodbye!"),await be(1)):u}let e=await t.findAllDependencies();if(!e||e.length===0)return null;let r=e.filter(u=>!Aie(u.name));if(r.length===0)return null;let n=r.map(u=>({title:u.name,value:u.name})),i=await(0,ym.default)({type:"autocomplete",name:"package",message:"Select an installed external package:",hint:"Type or use arrow keys. Press Enter to select",choices:n,async suggest(u,c){return u=u.toLowerCase(),c.map(p=>{let d=p.value.trim().toLowerCase(),f=0;return u.length===0?f=0:f=(0,op.distance)(u,d),{...p,distance:f}}).sort((p,d)=>p.distance-d.distance).filter(p=>p.title.toLowerCase().includes(u))}});if(!i.package)return ge("Package selection cancelled"),await be(1);let s=i.package,o=r.find(u=>u.name===i.package);function a(u){return/^[A-Z]/.test(u)}if(o&&o.subPackages.length>0){let u=o.subPackages.filter(c=>!zL.has(c)&&a(c));if(u.length>0){let c=[{title:`${o.name} ${(0,X.dim)("(Ctrl+C)")}`,value:null},...u.map(p=>({title:`${(0,X.dim)(o.name)}/${p}`,value:p}))],l=await(0,ym.default)({type:"autocomplete",name:"subPackage",message:"Select a component subpackage (optional):",hint:"Type or use arrow keys. Press Enter to select",async suggest(p,d){return p=p.toLowerCase().replace(o.name,""),d.map(h=>{if(h.value===null)return{...h,distance:0};let m=h.value?h.value.trim().toLowerCase():o.name,g=0;return p.length===0?g=0:g=(0,op.distance)(p,m),{...h,distance:g}}).sort((h,m)=>h.distance-m.distance).filter(h=>h.title.toLowerCase().includes(p))},choices:c});l.subPackage!==`${o.name} ${(0,X.dim)("(Ctrl+C)")}`&&(s=`${i.package}/${l.subPackage}`)}}return s}var zL=new Set(["react","react-dom","next","nextjs","typescript","babel","webpack","eslint","prettier","jest","lodash","axios","express","moment","redux","react-redux","styled-components","emotion","@types/react","@types/node","utils","helpers","constants","types","interfaces","hooks","context","providers","store","reducers","actions","services","api","clsx","class-variance-authority","lucide-react","dotenv"]),Aie=t=>t.startsWith("@types")||t.startsWith("@emotion")||t.startsWith("@khulnasoft.com")||t.startsWith("eslint")||t.startsWith("prettier")||t.startsWith("jest")||t.startsWith("lodash")||t.includes("autoprefixer")||t.includes("tailwind")||t.includes("postcss")||t.includes("webpack")||t.includes("babel")||t.includes("typescript")||t.includes("rollup")||t.includes("vite")||t.includes("esbuild")||t.includes("storybook")||t.includes("testing-library")||t.includes("cypress")?!0:zL.has(t);async function $L(t,e,r){let n="",i=e.toLowerCase();function s(u){let c=u.importName.toLowerCase(),l=(0,op.distance)(c,i);return c.includes(i)&&(l-=i.length),l}let o=t.slice().sort((u,c)=>{let l=s(u),p=s(c);return l===p?u.importName.localeCompare(c.importName):l-p}).map(u=>{let c=`${u.importName}`;return s(u)<3?c=(0,X.bold)((0,X.yellow)("\u2605 ")+c):c=c,{title:n+c+(0,X.dim)(` from '${u.importPath}'`),value:u}});return o.push({title:n+"\u23ED\uFE0F  Skip "+(0,X.dim)("(Ctrl+C)"),value:"skip"}),r&&o.push({title:n+"\u{1F4E6} External npm package",value:"external package"}),(await(0,ym.default)({type:"autocomplete",name:"component",message:`Select a code component to map ${(0,X.bold)((0,X.magenta)(`\u2756 ${e}`))}`,hint:"Type or use arrow keys. Press Enter to select",async suggest(u,c){u=u.toLowerCase();let l=u.length===0?i:u;return c.map(d=>{let f=(typeof d.value=="string"?d.value:d.value.importName).trim().toLowerCase(),h=0;return u.length===0&&typeof d.value=="string"?h=2:(h=(0,op.distance)(l,f),f.includes(i)&&(h-=i.length),typeof d.value=="string"&&(h+=1e3)),{...d,distance:h}}).sort((d,f)=>d.distance-f.distance).filter(d=>d.value==="external package"||d.value==="skip"?!0:d.title.toLowerCase().includes(u))},choices:o})).component}var YL=async(t,e)=>{let r=bm(e);console.log(""),Xt((0,Ee.bgCyan)((0,Ee.bold)((0,Ee.white)(" figma publish ")))+"  "+(0,Ee.dim)("1.3.3"));let{khulnasoftPrivateKey:n,khulnasoftPublicKey:i,userId:s,spaceName:o,figmaAuth:a}=await cn(t,e,{forceSpaceId:e.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,figmaAuth:!0}),u;u||(u=await Ns(t));let c=await ap(t);wt("figma publish started",{spaceId:i,mappingFiles:c.length});let{figmaKhulnasoftLinks:l,foundErrors:p}=await X_({figmaAuth:a,force:e.force,mappingFiles:c,sys:t,print:!0});if(p){if(wt("figma publish user error",{spaceId:i,mappingFiles:c.length,figmaKhulnasoftLinks:l.length}),e.force!==!0)return K.message(""),ge(`Please fix the issues and try again, or use the ${(0,Ee.bold)("--force")} flag to publish regardless.`),await be(1);K.warn("Local mappings contain some errors, but --force flag was used, skipping.")}let d=o?`${(0,Ee.bold)(o)} ${(0,Ee.dim)("("+i+")")}`:`space id "${(0,Ee.bold)(i)}"`;if(c.length===0){K.warning(`No mappings found. Publishing will remove all existing mapping in space: ${d}.`);let g=r||e.yes||await Jt({message:"Do you want to continue?",active:"Publish",inactive:"Cancel"});if(Ue(g)||!g)return ge("Publish cancelled"),await be(1)}else{let g=r||e.yes||await Jt({message:`Do you want to publish the found mappings to ${d}?
${(0,Ee.dim)("Existing mappings will be overwritten")}`,active:"Publish",inactive:"Cancel"});if(Ue(g)||!g)return ge("Publish cancelled"),await be(1)}let f=Ir(),h=await t.getRepoInfo();if(e.dryrun||(f.start("Publishing Figma Mappings"),await Rie(t,{spaceId:i,userId:s,privateKey:n,figmaKhulnasoftLinks:l,repoInfo:h}),f.stop(l.length>0?`${l.length} mappings uploaded`:"All mappings removed from the Khulnasoft space")),e.printJson||e.dryrun){let g=Lo(Ms);K.info(g.highlight("json",JSON.stringify(l,null,2)).value)}await up(t,i,u,!0),K.success((0,Ee.bgGreen)((0,Ee.bold)((0,Ee.white)(" Done! \u{1F389} "))));let m={react:"npm run start",angular:"npm run start",vue:"npm run dev",svelte:"npm run dev",next:"npm run dev",remix:"npm run dev"}[u.framework]??"npm run start";ar((0,Ee.dim)(`You can now start the dev server:

   `)+(0,Ee.bgBlack)((0,Ee.white)((0,Ee.bold)(` ${m} `)))+`

   `+(0,Ee.dim)("Then, go back to Figma and generate code again to see your mapped components.")),wt("figma publish success",{spaceId:i,mappingFiles:c.length,figmaKhulnasoftLinks:l.length})};async function Pie(t,e,r){let n=[],i=[e],s=t.relative(t.getAppRootDir(),e.fileName);for(;i.length>0;){let o=i.shift();if(Oie(o,e)){let a=Nie(t,o,e,r),{line:u,character:c}=e.getLineAndCharacterOfPosition(o.getStart());a&&(a.loc=`${s}:${u+1}:${c+1}`,n.push(a))}i.push(...o.getChildren(e))}return n}var Iie="figmaMapping";function Nie(t,e,r,n){let[i]=e.arguments;if(!i)throw new Error("Invalid figmaMapping call, no arguments found");if(!yt.default.isObjectLiteralExpression(i))throw new Error("Invalid figmaMapping call, argument is not an object literal");let s=i.properties;if(!s)throw new Error("Invalid figmaMapping call, argument has no properties");let o="",a,u,c="-",l=t.basename(r.fileName,".mapper.tsx"),p,d,f,h;if(e.typeArguments&&e.typeArguments.length>0){let g=WL(e.typeArguments[0].getText(r));g&&(l=g)}for(let g of s){let y=g.name?.getText(r);if(!y)throw new Error("Invalid figmaMapping call, property has no name");switch(y){case"url":{if(!("initializer"in g))throw new Error("Invalid figmaMapping call, url has no initializer");let b=g.initializer;if(!yt.default.isStringLiteral(b))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");h=b.text;break}case"componentKey":{if(!("initializer"in g))throw new Error("Invalid figmaMapping call, componentKey has no initializer");let b=g.initializer;if(!yt.default.isStringLiteral(b))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");o=b.text;break}case"mapper":if(yt.default.isMethodDeclaration(g)){let b=function(_){if((yt.default.isJsxOpeningElement(_)||yt.default.isJsxSelfClosingElement(_))&&yt.default.isIdentifier(_.tagName)){c=_.tagName.getText(r);let x=n.getSymbolAtLocation(_.tagName)?.getDeclarations()?.[0];if(x){let S=Fie(x);S?.importClause&&(S.importClause.name?.getText(r)===c?p="default":S.importClause.namedBindings&&(p="named"),d=c,yt.default.isStringLiteral(S.moduleSpecifier)&&(f=S.moduleSpecifier.text))}return c}else yt.default.forEachChild(_,b)};var m=b;if(g.parameters[0].type){let _=g.parameters[0].type.getText(r),E=WL(_);E&&(l=E)}yt.default.forEachChild(g,b),u=g.getText(r).replace(/^mapper/,"function Mapper"),a=Q_(u);break}case"designTokenMapper":if(yt.default.isMethodDeclaration(g)){u=g.getText(r).replace(/^designTokenMapper/,"function Mapper"),a=Q_(u),o="design-tokens";break}case"genericMapper":if(yt.default.isMethodDeclaration(g)){u=g.getText(r).replace(/^genericMapper/,"function Mapper"),a=Q_(u),o="*";break}}}if(!o&&!h)throw new Error("Invalid figmaMapping call, no componentKey or url found");if(!o&&!a)throw new Error("Invalid figmaMapping call, no mapper found");if(!o&&!u)throw new Error("Invalid figmaMapping call, no original mapper found");return{khulnasoftName:c,figmaName:l,figmaKey:o,figmaUrl:h,inputMapper:a,exportType:p,importName:d,importPath:f,originalInputMapper:u,source:"cli"}}function Q_(t){return yt.default.transpile(t,{target:yt.default.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:yt.default.ModuleResolutionKind.NodeJs,module:yt.default.ModuleKind.CommonJS,noImplicitAny:!1,esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1,jsx:yt.default.JsxEmit.React,jsxFactory:"React.createElement",jsxFragmentFactory:"React.Fragment",allowJs:!0,checkJs:!0,strict:!0,suppressImplicitAnyIndexErrors:!0,typeRoots:["node_modules/@types"],inlineSources:!0,inlineSourceMap:!0})}function Fie(t){let e=t;for(;e;){if(yt.default.isImportDeclaration(e))return e;e=e.parent}}function Oie(t,e){return yt.default.isCallExpression(t)&&t.expression.getText(e).includes(Iie)}async function ap(t){let e=["node_modules","dist","build","public"];return(await t.readdirRecursive(t.getAppRootDir(),e)).filter(n=>Zr(n))}function WL(t){let e=t.match(/^Figma(\w+)Props$/);if(e&&typeof e[1]=="string")return e[1]}var kie=async(t,e)=>{let r=new Map,n={};return e.forEach(i=>{let s=W_(i);if(!s)throw new Error("Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection");let o=r.get(s.fileID);o||(o=[],r.set(s.fileID,o)),o.includes(s.nodeId)||o.push(s.nodeId),n[i]=`${s.fileID}/${s.nodeId}`}),await Promise.all(Array.from(r.entries()).map(async([i,s])=>{let o=await Y_(t,i,s.join(","),0);for(let a of s){let u=o[a],c=u.components[a]?.key??u.componentSets[a]?.key;if(!c)throw new Error(`Cannot resolve figma component key for ${a} in file ${i}`);let l=`${i}/${a}`;for(let p of e)n[p]===l&&(n[p]=c)}})),n};async function up(t,e,r,n=!1){try{return r||(r=await Ns(t)),await r.setPublicApiKey({publicApiKey:e}),n&&await r.ensureFigmaImportPage(),!0}catch(i){return Z_.captureException(i),!1}}var Rie=async(t,e)=>{let r=new URL(`${hi}/mappings/publish`);if(r.searchParams.set("apiKey",e.spaceId),r.searchParams.set("userId",e.userId),!(await sr(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.privateKey}`},body:JSON.stringify({remoteUrl:e.repoInfo?.remoteUrl,defaultBranch:e.repoInfo?.defaultBranch,currentBranch:e.repoInfo?.currentBranch,commit:e.repoInfo?.commit,figmaKhulnasoftLinks:e.figmaKhulnasoftLinks,sdkVersion:t.sdkVersion,spaceKind:t.kind,cliVersion:t.version,cliFrameworks:t.getFrameworks().map(i=>i.name),cliPlatform:t.platform(),cliDeviceId:await t.getDeviceId()})})).ok)throw new Error("Failed to publish Figma mappings");return!0};async function X_({figmaAuth:t,force:e,mappingFiles:r,print:n,sys:i}){if(!r.length)return{figmaKhulnasoftLinks:[],foundErrors:!1};let s=[],o=await Tt(i,r),a=o.getTypeChecker(),u=[...o.getSyntacticDiagnostics(),...o.getGlobalDiagnostics(),...o.getSemanticDiagnostics(),...o.getDeclarationDiagnostics()].filter(d=>!(d.category!==yt.default.DiagnosticCategory.Error||d.code===6133||d.code===6138||d.code===6196||d.code===6192||d.code===6198||d.code===6199||d.code===6205||d.code===1449||d.code===2578||d.code===2695||d.code===2322)),c=new Set,l=!1;for(let d of r)try{let f=o.getSourceFile(d);if(!f)throw new Error(`Could not find source file for ${d}`);let h=f?.fileName;if(h){let g=u.filter(y=>y.file?.fileName===h);if(g.length>0&&(l=!0,e!==!0)){K.error((0,Ee.red)(`TypeScript errors in ${(0,Ee.dim)(i.relative(i.getAppRootDir(),d))}:
`)+g.map(y=>` \u2022 ${Mie(y)}`).join(`
`));continue}}let m=await Pie(i,f,a);if(s.push(...m),n){let g=!1,y=`${(0,Ee.dim)(i.relative(i.getAppRootDir(),d))}:
`+m.map(b=>{let _=!1;b.figmaKey?(_||(_=c.has(b.figmaKey)),c.add(b.figmaKey)):b.figmaUrl&&(_||(_=c.has(b.figmaUrl)),c.add(b.figmaUrl));let E="";switch(b.figmaKey){case"design-tokens":E="  "+(0,Ee.cyan)("\u2747\uFE0E Design tokens mapper");break;case"*":E="  "+(0,Ee.yellow)("\u25CF Generic mapper");break;default:E=`  ${(0,Ee.magenta)("\u2756 "+mi(b.figmaName))}  ${(0,Ee.dim)("\u2192")}  ${b.khulnasoftName==="-"?"-":"<"+b.khulnasoftName+">"}`;break}return _&&(g=!0,E=(0,Ee.bgRed)(E+(0,Ee.bold)(" <= duplicated"))),E}).join(`
`);g?(l=!0,K.error(y)):K.info(y)}}catch(f){return Z_.captureException(f),console.error(f),await be(1)}let p=s.filter(d=>d.figmaUrl&&!d.figmaKey).map(d=>d.figmaUrl);if(p.length>0){let d=await kie(t,p);for(let f of s)if(f.figmaUrl&&!f.figmaKey){let h=d[f.figmaUrl];if(!h)throw new Error("bad internal state");f.figmaKey=h}}return{figmaKhulnasoftLinks:s,foundErrors:l}}function Mie(t){let{messageText:e}=t;if(typeof e=="string")return e;let{next:r}=e,n=[e.messageText];return r&&n.push(r.map(i=>i.messageText).join(`
`)),n.join(`
`)}var QL=require("crypto");var bm=t=>!!(process.env.CI||t.ci),cn=async(t,e,r)=>{let n=bm(e)?{}:Uie(t),i=n.spaceName,s=n.userId,o,a=process.env.KHULNASOFT_PUBLIC_KEY??e.spaceId??n.khulnasoftPublicKey,u=process.env.KHULNASOFT_PRIVATE_KEY??e.privateKey??n.khulnasoftPrivateKey,c=process.env.FIGMA_PERSONAL_TOKEN??e.figmaToken;if(c?o={access_token:c,oauth:!1}:o=n.figmaAuth,r.forceSpaceId&&a&&a!==r.forceSpaceId){K.warning(`CLI is currently logged in space ${(0,Tu.yellow)(a)},
however the command required --spaceId=${(0,Tu.green)(r.forceSpaceId)}`);let l=e.yes||await Jt({message:"Do you wanna switch spaces?",active:"Yes",inactive:`Stay in current ${i} space`});if(Ue(l)||!l)throw ge(`Aborting. Another way to fix this conflict is making sure the figma plugin is logged in "${i}" instead.`),new Error("Exiting");a=r.forceSpaceId,u=void 0,i=void 0,s=void 0}if(bm(e)){if(!o&&r.figmaAuth)throw new Error(`No Figma personal token found.
Please set the FIGMA_PERSONAL_TOKEN environment variable.`);if(!u&&r.khulnasoftPrivateKey)throw new Error(`No Khulnasoft private key found.
Please set the KHULNASOFT_PRIVATE_KEY environment variable.`);if(!a&&r.khulnasoftPublicKey)throw new Error(`No Khulnasoft public key found.
Please set the KHULNASOFT_PUBLIC_KEY environment variable.`);return{figmaAuth:o,khulnasoftPublicKey:a,khulnasoftPrivateKey:u}}if((r.force||!o&&r.figmaAuth)&&(o=await Bie(),JL(t,{figmaAuth:o})),r.force||!u&&r.khulnasoftPrivateKey||!a&&r.khulnasoftPublicKey){let{privateKey:l,spaceId:p,spaceName:d,userId:f}=await $ie(t,r.forceSpaceId);if(r.forceSpaceId&&p!==r.forceSpaceId)throw new Error(`OAuth flow returned space ${(0,Tu.yellow)(p)}, however the command required --spaceId=${(0,Tu.green)(r.forceSpaceId)}`);a=p,u=l,i=d,s=f,await PL(s),await up(t,p,void 0,!1),JL(t,{khulnasoftPublicKey:a,khulnasoftPrivateKey:u,spaceName:i,userId:s})}return s&&as.setUser({id:s,username:process.env.USER||process.env.USERNAME||"unknown"}),(i||a)&&as.setContext("khulnasoft",{spaceId:a,spaceName:i}),{figmaAuth:o,khulnasoftPublicKey:a,khulnasoftPrivateKey:u,spaceName:i,userId:s}},Lie="RHr2ed743waC2g2ZHMEJSn6O0NQ08L";async function Bie(){let t=Ir(),{default:e}=await import("open");t.start("Waiting for Figma auth");let r=(0,QL.randomUUID)(),n=new URL("https://www.figma.com/oauth");n.searchParams.set("client_id","nrGCqw6TLl95QJhVDi097A"),n.searchParams.set("redirect_uri","http://localhost:5283/figma-connect"),n.searchParams.set("scope","files:read,file_dev_resources:read,file_variables:read"),n.searchParams.set("state",r),n.searchParams.set("response_type","code");let i,s=new Promise((o,a)=>{i=(0,e0.createServer)(async(u,c)=>{let l=new URL(u.url||"","http://localhost:5283");if(l.pathname==="/figma-connect"){let p=l.searchParams.get("code"),d=l.searchParams.get("state");if(p&&r===d){let f=await sr("https://www.figma.com/api/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:"nrGCqw6TLl95QJhVDi097A",client_secret:Lie,redirect_uri:"http://localhost:5283/figma-connect",code:p,grant_type:"authorization_code"}).toString()});f.ok||a(new Error("Failed to get figma access token"));let h=await f.json();c.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Figma"),()=>{o({...h,oauth:!0})})}}}),i.listen(5283,()=>{e(n.href,{wait:!1})})});try{return await s}finally{t.stop("Authenticated with Figma"),i&&("closeAllConnections"in i&&i.closeAllConnections(),i.close(o=>{o&&(as.captureException(o),console.error(o))}))}}async function $ie(t,e){let r=Ir();r.start("Waiting for Khulnasoft auth");let{default:n}=await import("open"),i=new URL("/cli-auth","https://khulnasoft.com");i.searchParams.set("client_id","khulnasoft-dev-tools-cli"),i.searchParams.set("host",await t.getDeviceId()),i.searchParams.set("response_type","code"),i.searchParams.set("cli","true"),e&&i.searchParams.set("space_id",e);let s,o=new URL(Xs,"http://localhost:5283");o.searchParams.set(fp,(0,XL.platform)()),o.searchParams.set(hp,process.versions.node);let a=t.getFrameworks();a.length>0&&(i.searchParams.set(zo,a[0].name),o.searchParams.set(zo,a[0].name)),i.searchParams.set("redirect_url",o.href);let u=new Promise(c=>{s=(0,e0.createServer)(async(l,p)=>{let d=new URL(l.url||"","http://localhost:5283");d.pathname===Xs&&p.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Khulnasoft.com"),()=>{c({privateKey:d.searchParams.get("p-key")||"",spaceId:d.searchParams.get("api-key")||"",spaceName:d.searchParams.get("org-name")||"",userId:d.searchParams.get("user-id")||""})})}),s.listen(5283,()=>{n(i.href,{wait:!1})})});try{return await u}finally{r.stop("Authenticated with Khulnasoft.com"),s&&("closeAllConnections"in s&&s.closeAllConnections(),s.close(c=>{c&&(as.captureException(c),console.error(c))}))}}function JL(t,e){let r=t.getAppRootDir(),n=(0,Em.join)(r,"node_modules",".khulnasoft"),i=(0,Em.join)(n,"data.json");if((0,gi.existsSync)(i))try{let s=(0,gi.readFileSync)(i,"utf8"),o=JSON.parse(s);e=Object.assign(o.credentials,e)}catch(s){as.captureException(s),console.error("Failed to store credentials",s)}else(0,gi.mkdirSync)(n,{recursive:!0});(0,gi.writeFileSync)(i,JSON.stringify({credentials:e},null,2))}function Uie(t){let e=t.getAppRootDir(),r=(0,Em.join)(e,"node_modules",".khulnasoft","data.json");if((0,gi.existsSync)(r))try{let n=(0,gi.readFileSync)(r,"utf8");return JSON.parse(n).credentials}catch(n){as.captureException(n),console.error("Failed to load credentials",n)}return{}}var it=Y(br(),1),wu=require("path");var jie="https://cdn.khulnasoft.com",ZL=async(t,e)=>{console.log(""),Xt((0,it.bgCyan)((0,it.bold)((0,it.white)(" figma migrate ")))+"  "+(0,it.dim)("1.3.3"));let{khulnasoftPrivateKey:r,khulnasoftPublicKey:n}=await cn(t,e,{forceSpaceId:e.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0});wt("figma publish started",{spaceId:n});let i=await ap(t);if(i.length>0){wt("figma migrate with existing files",{spaceId:n}),K.warning(`${(0,it.yellow)("This repo already has figma mappings in:")}

${i.map(c=>` - ${(0,wu.relative)(t.getAppRootDir(),c)}`).join(`
`)}

Migration is going to create new files, possibly duplicates.`);let u=await Jt({message:"Do you want to continue?",initialValue:!1});if(!u||Ue(u))return ge("Migration cancelled"),await be(1)}K.message("We are about to import your existing figma mappings into this local repo.");let s=Ir();s.start("Fetching figma mappings");let o=await qie({privateKey:r,spaceId:n});s.stop(`Fetched ${o.length} figma mappings:`),K.message(o.map(u=>{switch(u.figmaKey){case"design-tokens":return(0,it.cyan)("\u2747\uFE0E Design tokens mapper");case"*":return(0,it.yellow)("\u25CF Generic mapper");default:return`${(0,it.magenta)("\u2756 "+mi(u.figmaName))} ${(0,it.dim)("\u2192")} ${u.khulnasoftName}`}}).join(`
`));let a=await or({message:`Where do you want to save the figma mappings? ${(0,it.dim)("(Ctrl+C to exit)")}`,initialValue:"./src/mappings",defaultValue:"./src/mappings",placeholder:"./src/mappings",validate:u=>{if((0,wu.extname)(u)!=="")return"It must be a valid directory path, not a file";if((0,wu.isAbsolute)(u))return"It must be a relative path"}});if(Ue(a))return ge("Migration cancelled"),await be(1);await(0,Dm.mkdir)(a,{recursive:!0}),await Promise.all(o.map(async u=>{let c=await Gie(u),l;switch(u.figmaKey){case"design-tokens":l="design-tokens";break;case"*":l="generic";break;default:l=mi(u.figmaName)}let p=a+"/"+l+".mapper.tsx";return K.info((0,it.green)("created ")+(0,it.dim)(p)),(0,Dm.writeFile)(p,c)})),K.info("Check out the docs for following steps: https://khulnasoft.com/docs/figma/figma-mappings"),ar((0,it.bgGreen)((0,it.bold)((0,it.white)(" Done! \u{1F389} ")))+` ${o.length} mappings imported`),wt("figma migrate success",{spaceId:n,mappingFiles:o.length})};async function qie(t){let e=await sr(`${jie}/api/internal/kv/${t.spaceId}/figma-khulnasoft?apiKey=${t.spaceId}`,{headers:{Authorization:`Bearer ${t.privateKey}`}});if(!e.ok)throw new Error(`Failed to fetch figma-khulnasoft links: ${e.statusText}`);let r=await e.json();if(!(r instanceof Object&&"figmaKhulnasoftLinks"in r))throw new Error("Invalid response");return r.figmaKhulnasoftLinks}async function Gie(t){let e="figmaMapping",r=t.originalInputMapper?.match(/function Mapper\(\s*([a-zA-Z0-9_$]+)\s*(?::[^)])?\s*\)/)?.[1],n=t.originalInputMapper?.match(/function Mapper\([^)]*\)(\s*{([^]*))$/)?.[1],i;switch(t.figmaKey){case"design-tokens":i=`${e}({
  designTokenMapper(${r||"designToken"})${n}
})`;break;case"*":i=`${e}({
  genericMapper(${r||"figma"})${n}
})`;break;default:i=`${e}({${t.figmaUrl?`
  url: ${JSON.stringify(t.figmaUrl)},`:""}
  componentKey: ${JSON.stringify(t.figmaKey)}${n?`,
  mapper(${r||"figma"})${n}`:""}
})`}return Pr(`import { figmaMapping } from '@khulnasoft.com/dev-tools/figma';
${Vie(t)}

${i}`,"typescript",void 0)}function Vie(t){let{exportType:e,importName:r,importPath:n}=t;if(r&&n){let i=JSON.stringify(n);return e==="named"?`import { ${r} } from ${i};`:`import ${r} from ${i};`}return""}var wr=Y(br(),1);var yse=Y(UE()),qB=Y(jB()),cp=Y(Oi());function GB(t,e,r){let n,i=new Promise(o=>{try{n=(0,qB.default)(t,e,{stdio:"inherit",...r}),n.on("error",a=>{cp.captureException(a),o(!1)}),n.on("close",a=>{a===0?o(!0):(cp.captureMessage(`cmd "${t} ${e.join(" ")}", exit code: ${a}`,"error"),o(!1))})}catch(a){cp.captureException(a),o(!1)}});return{abort:async()=>{n&&n.kill("SIGINT")},command:i}}var VB=async(t,e,r)=>{if(!r.skipInstallation&&await bse(t)&&(r.yes||await Jt({message:"Welcome to Khulnasoft.com! Would you like to set up your integration now?",active:"Yes, let's integrate!",inactive:"No, I'll do it later"})?await GB("npm",["init","khulnasoft.com@latest","--","--skip-question"],{stdio:"inherit",cwd:t.getAppRootDir()}).command||(ge(`Auto-install failed. You can install it manually by running ${(0,wr.bold)("npm init khulnasoft.com@latest")}`),await be(1)):ge(`Ok, you can install it later. By running ${(0,wr.bold)("npm init khulnasoft.com@latest")}`)),e==="migrate")await ZL(t,r);else if(e==="publish"||e==="p")await YL(t,r);else if(e==="add"||e==="generate"||e==="gen"||e==="g")await jL(t,r);else if(e==="auth"){console.log(""),Xt((0,wr.bgCyan)((0,wr.bold)((0,wr.white)(" figma auth ")))+"  "+(0,wr.dim)("1.3.3"));let{khulnasoftPublicKey:n}=await cn(t,r,{figmaAuth:!0,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,force:!0});wt("figma auth",{spaceId:n}),ar((0,wr.bgGreen)((0,wr.bold)((0,wr.white)(" Done! \u{1F389} "))))}else e==="help"&&ss(r._[2])};async function bse(t){let e=t.getFrameworks(),r=["next","angular","@angular/core"];if(!e.some(n=>r.includes(n.name)))return!1;try{let n=await _o(t,t.getRepoRootDir());if(!n||!!n.devDependencies?.["@khulnasoft.com/dev-tools"]||!!n.dependencies?.["@khulnasoft.com/dev-tools"])return!1}catch{return!1}return!0}var R3=Y(Nh(),1);var Ks=require("node:path"),$t=require("node:fs");var Hs=Y(br(),1);async function KB(t){console.log(""),Xt((0,Hs.bgCyan)((0,Hs.bold)((0,Hs.white)(" add ")))+"  "+(0,Hs.dim)("1.3.3"));let e=t.snippetId;if(!e&&!t.snippet)return ge("SnippetId expected. npx khulnasoft.com add <snippetId>"),await be(1);let r=Ir(),n=t.snippet||null;if(!n&&e&&(r.start(`Fetching snippet ${e}`),n=await l0(e),r.stop(`Fetched snippet ${e}`)),!n)throw new Error(`No snippet found for id ${e}`);if(n.files?.length>0){let i=p0(n.framework||"react"),s=t.path||await or({message:"Where should we copy the files?",initialValue:i,validate(a){if(a.length===0)return"File path is required!";if(a[0]!==".")return"Please enter a relative path."}});if(Ue(s))return ge("Cancelled sync"),await be(0);let o=await Sm(n,n.files,s,!1);return K.success("All files have been written successfully."),{snippet:n,pathInput:s,writtenFiles:o,timeStamp:Date.now()}}else{let{code:i,suggestedName:s,framework:o}=n;if(o){if(o!=="html"&&!(0,$t.existsSync)("./package.json")&&!(0,$t.existsSync)("./project.json")&&!(0,$t.existsSync)("./tsconfig.json"))throw new Error("Current working directory does not look like a code project. Are you in the right directory?");s=await Dse(o,i)}s??(s="./src/components/MyComponent.jsx");let a=HB(n,Ese(n.code),n.framework);try{n.framework==="html"?a=await Pr(a,"html"):n.framework==="angular"?a=await Pr(a,"angular"):n.framework==="vue"?a=await Pr(a,"vue"):n.framework==="svelte"?a=await Pr(a,"html"):a=await Pr(a,"typescript")}catch{}let u=t.path;if(!u){try{let d=(await _L({cwd:process.cwd()})).getFrameworks();if(d.length>0){let f;if(d.some(h=>h.name.includes("qwik"))?f="qwik":d.some(h=>h.name.includes("react"))?f="react":f=d[0].name,n.framework&&n.framework!==f){let h=await Jt({message:`This snippet is for ${n.framework}, but you are using ${f}. Continue?`,initialValue:!1});if(Ue(h)||!h)return console.log("Please go back to khulnasoft and change the output framework to match your project."),console.log(),await be(0)}}}catch{}if(u=await or({message:"Where should we copy the code?",initialValue:s?.startsWith("./")?s:`./${s}`,validate(p){if(p.length===0)return"File path is required!";if(p[0]!==".")return"Please enter a relative path."}}),Ue(u))return console.log(""),await be(0)}let c=process.cwd(),l=(0,Ks.resolve)(c,u);K.info(`Writing code to ${l}`),(0,$t.mkdirSync)((0,Ks.dirname)(l),{recursive:!0}),(0,$t.writeFileSync)(l,a)}}function l0(t){return sr(`https://cdn.khulnasoft.com/api/v1/snippet/${t}`).then(e=>e.status===404?null:e.json())}function Ese(t){return t.replace(/^```jsx\s?|\s?```$/g,"").trim()}function HB(t,e,r,n=!1){if(!r)return e;let i="This code was generated by Khulnasoft.com",s=n?`https://khulnasoft.com/content/${t.contentId}?codeSession=${t.sessionKey}&sid=${t.id}`:"",o=["vue","html","svelte"].includes(r.toLowerCase()),a=[i,s].filter(Boolean);return`${o?a.map(c=>`<!-- ${c} -->`).join(`
`):`/**
${a.map(c=>` * ${c}`).join(`
`)}
 */`}
${e}`}async function Dse(t,e){let r,n=Sse(e,t.toLowerCase());switch(t.toLowerCase()){case"react":let i=await xse();r=`components/${n||"MyComponent"}.${i?"tsx":"jsx"}`;break;case"angular":r=`app/components/${n||"my-component"}.component.ts`;break;case"vue":r=`components/${n||"MyComponent"}.vue`;break;case"svelte":r=`components/${n||"MyComponent"}.svelte`;break;case"html":r=`${n||"my-design"}.html`;break;case"qwik":r=`components/${n||"MyComponent"}.tsx`;break;default:r="components/MyComponent.tsx"}return r=(0,$t.existsSync)("./src")?`./src/${r}`:`./${r}`,r}async function xse(){if((0,$t.existsSync)("./tsconfig.json"))return!0;let t=(0,$t.readFileSync)("./package.json","utf-8");if(!t)throw new Error("No package.json found");return t.includes("typescript")}function Sse(t,e){let r={vue:/name:\s*'([^']+)'/,react:/function (\w+)\([\w\W]+\)/,qwik:/export const (\w+) = component\$/,angular:/selector:\s*'([^']+)'/};if(!r[e])return null;let n=t.match(r[e]);return e==="react"&&!n?.[1]?t.match(/const (\w+)[\w\W]+=\s*\(/)?.[1]||null:n?.[1]||null}async function Sm(t,e,r,n){let i=[];for(let s of e){let o=_se(r,s.path),a=(0,Ks.resolve)(process.cwd(),o);if("code"in s){let u=await vse(t,s.code,Cse(s.path),n);(0,$t.mkdirSync)((0,Ks.dirname)(a),{recursive:!0}),(0,$t.writeFileSync)(a,u),i.push({...s,path:o,code:u,timestamp:(0,$t.statSync)(a).mtime.getTime()}),K.info(`Writing file to ${a}`)}else(0,$t.mkdirSync)(a,{recursive:!0}),i=i.concat(await Sm(t,s.files,o,n))}return i}function _se(t,e){let r=t.replace(/^\.?\/+|\/+$/g,""),n=e.replace(/^\.?\/+|\/+$/g,""),i=r.split("/").filter(Boolean),s=n.split("/").filter(Boolean),o=-1;for(let u=0;u<i.length;u++){let c=s.indexOf(i[u]);c!==-1&&(o=c)}return[...i,...s.slice(o+1)].join("/")}function Cse(t){switch(t.split(".").pop()?.toLowerCase()){case"html":case"svelte":return"html";case"vue":return"vue";case"ts":case"tsx":case"js":case"jsx":return"typescript";case"css":return"css";case"json":return"json";default:return"typescript"}}async function vse(t,e,r,n){let i=e;try{i=await Pr(e,r)}catch{}return n?HB(t,i,r,n):i}function p0(t){let r=(0,$t.existsSync)((0,Ks.join)(process.cwd(),"src"))?"src/":"";switch(t.toLowerCase()){case"angular":return`./${r}app/components/`;case"html":return"./";default:return`./${r}components/`}}function d0(t,e){return{cwd:t,command:e[0],snippetId:e[1],path:e[2]}}var gr=require("path"),Ar=require("fs"),m0=require("glob");var Cm=require("node:http");var zB=require("node:console"),WB=require("node:http"),YB=require("node:https");function Iu(t){let e=Date.now();return new Promise((r,n)=>{let s=Tse(t.url)({protocol:t.url.protocol,host:t.url.host,port:t.url.port,path:t.url.pathname+t.url.search,method:t.method,headers:t.headers},o=>{let a="";o.on("data",u=>{a+=u}),o.on("end",()=>{if((0,zB.debug)(`${t.method} ${t.url.href}, duration: ${Date.now()-e}ms`),typeof o.statusCode=="number"&&o.statusCode>=200&&o.statusCode<300)if(typeof o.headers["content-type"]!="string"||!o.headers["content-type"].includes("application/json"))n(`Response from ${t.url.href} content-type is ${o.headers["content-type"]}`);else try{r(JSON.parse(a))}catch(u){n(`Response from ${t.url.href} is not valid JSON: ${a}
${u}`)}else n(`Request to ${t.url.href} failed with status ${o.statusCode}: ${a}`)})}).on("error",o=>{n(`Error fetching ${t.url.href}, ${o}`)});t.body&&(s.setHeader("Content-Type","application/json"),s.write(t.body)),s.end()})}function Tse(t){if(t.protocol==="https:")return YB.request;if(t.protocol==="http:")return WB.request;throw new Error(`Unsupported protocol ${t.protocol}`)}async function JB(t){let e=new URL(`https://cdn.khulnasoft.com/api/v3/query/${t.publicApiKey}/${t.model}`);return e.searchParams.set("omit","meta.componentsUsed"),e.searchParams.set("apiKey",t.publicApiKey),e.searchParams.set("userAttributes.urlPath",t.pageUrl),e.searchParams.set("options.page.model",`"${t.model}"`),e.searchParams.set("cachebust","true"),(await Iu({url:e,method:"GET"}))[t.model]}async function XB(t,e){if(e.kind===Uc.VCP)return!0;let r=new URL("https://cdn.khulnasoft.com/api/v2/admin"),n={query:`query {
      models {
        id
        name
      }
    }`};t.debug(`Get model id for model name "${e.model}"`);let s=(await Iu({url:r,method:"POST",headers:{Authorization:`Bearer ${e.privateAuthKey}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)})).data.models.find(u=>u.name===e.model);if(!s)return t.debug(`No model found for model name "${e.model}"`),!1;t.debug(`Data query, modelId: "${s.id}", urlPath: "${e.pageUrl}"`);let o=new URL("https://cdn.khulnasoft.com/api/v3/data");o.searchParams.set("limit","1"),o.searchParams.set("cachebust","true"),o.searchParams.set("collection","content"),o.searchParams.set("query.published.$ne","archived"),o.searchParams.set("query.query.$elemMatch.$and[0].property","urlPath"),o.searchParams.set("query.query.$elemMatch.$and[0].operator","is"),o.searchParams.set("query.query.$elemMatch.$and[0].value",e.pageUrl),o.searchParams.set("query.modelId",s.id),o.searchParams.set("apiKey",e.publicApiKey);let a=await Iu({url:o,method:"GET"});return t.debug(`Data results (${a.results.length}): ${o.href}`),a.results.length>0}async function QB(t,e){let r=new URL(`https://cdn.khulnasoft.com/api/v3/content/${e.model}`);r.searchParams.set("apiKey",e.publicApiKey),r.searchParams.set("cachebust","true"),r.searchParams.set("cb",Date.now().toString()),e.pageUrl&&(r.searchParams.set("url",e.pageUrl),t.debug(`get model: "${e.model}", pageUrl: "${e.pageUrl}":`,r.href)),e.id&&(r.searchParams.set("query.id",e.id),t.debug(`get model: "${e.model}", id: "${e.id}":`,r.href));let n=await Iu({url:r,method:"GET"});return t.debug(`get content results: ${n.results.length}`),n}async function ZB(t,e){let r=new URL(`https://cdn.khulnasoft.com/api/v1/write/${e.model}`);t.debug(`writing "${e.model}" content:`,r.href),await Iu({url:r,method:"POST",headers:{Authorization:`Bearer ${e.privateAuthKey}`},body:e.body})}var Nu="page",e3="integration-welcome-screens",t3="8d9ee72a33344b4b867918b442ebd0af";async function r3(t,e){let r=await QB(t,{model:e3,publicApiKey:t3,id:e.templateContentId});if(!Array.isArray(r?.results)||r.results.length===0||!r.results[0].data?.blocks)throw new Error(`No Khulnasoft content found for id ${e.templateContentId}`);let n=JSON.stringify(r.results[0].data.blocks),i=wse(e.publicApiKey,e.pathname,e.title,n);await ZB(t,{privateAuthKey:e.privateAuthKey,model:Nu,body:i})}function wse(t,e,r,n){return JSON.stringify({name:r,ownerId:t,published:"published",query:[{property:"urlPath",value:[e],operator:"is"}],data:{title:r,blocksString:n}})}async function n3(t,e,r,n){t.debug(`connect khulnasoft with public key: ${e}`),t.publicApiKey=e;let i=t.closeAppServer(),s=await t.setPublicApiKey({publicApiKey:e});t.debug(`set public key: process.env.${s.envKey}=${e}`),process.env[s.envKey]=e;let o=await t.khulnasoftPageOptions();t.debug(`khulnasoft model: ${Nu}, path: ${o.pathname}, template: ${o.templateContentId}`);let a=await XB(t,{model:Nu,pageUrl:o.pathname,publicApiKey:e,privateAuthKey:r,kind:n});if(!a){await r3(t,{templateContentId:o.templateContentId,pathname:o.pathname,title:o.title,publicApiKey:e,privateAuthKey:r});let l=5,p=0;for(;!a&&p<l;){await new Promise(f=>setTimeout(f,1e3));let d=await JB({model:Nu,pageUrl:o.pathname,publicApiKey:e,privateAuthKey:r});p++,d&&d.length>0&&(a=!0)}}await i,t.debug("ensure khulnasoft setup");let u=[];n===Uc.VCP?u=await t.ensureFigmaImportPage():u=await t.ensureKhulnasoftSetup(),s.modifiedType&&u.push({filePath:s.file,modifiedType:s.modifiedType}),u.forEach(l=>{l.displayFilePath=t.relative(t.getAppRootDir(),l.filePath)}),u.sort((l,p)=>l.filePath.localeCompare(p.filePath)),u.length>0?(t.debug(`modified files: ${u.map(l=>l.displayFilePath).join(", ")}`),await t.restartAppServer(),await new Promise(l=>setTimeout(l,500))):t.debug("no modified files");let c={success:!0,pathname:o.localePathname||o.pathname,modifiedFiles:u,platform:t.platform(),kind:n};return n===Uc.VCP&&(c.pathname="/"),t.debug(`connected khulnasoft: ${c.pathname}`),c}async function i3(t){let e=await t.khulnasoftPageOptions();t.debug(`validateKhulnasoft, pathname: ${e.pathname}, localePathname: ${e.localePathname}, isValid: ${t.isValid}`);let r={isValid:t.isValid,pathname:e.localePathname||e.pathname,platform:t.platform()};if(t.isValid)return r;let n=await t.getPublicApiKey();return n.envValue?(t.debug(`public api key: ${n.envValue}, ${n.file}`),t.publicApiKey=n.envValue,t.debug("khulnasoft connection is valid"),r.isValid=!0,t.isValid=!0,r):(t.debug("missing public api key"),r)}async function s3(t,e){let r={type:e.type};switch(e.type){case"getCache":{r.data=await t.getCache();break}case"setCache":{await t.setCache(e.data);break}case"connectKhulnasoft":{r.data=await n3(t,e.data.publicApiKey,e.data.privateAuthKey,e.data.kind);break}case"enableDevTools":{r.data=Ise(t,e.data.enabled);break}case"getRegistry":{r.data=await t.getRegistry(e.data);break}case"launchEditor":{r.data=await t.launchEditor(e.data);break}case"validateKhulnasoft":{r.data=await i3(t);break}case"loadComponent":{r.data=await t.loadComponent(e.data);break}case"registerComponent":{r.data=await t.registerComponent(e.data),t.serverShouldRestart=!0;break}case"setComponentInfo":{r.data=await t.setRegisteredComponentInfo(e.data),t.serverShouldRestart=!0;break}case"setComponentInput":{r.data=await t.setRegisteredComponentInput(e.data),t.serverShouldRestart=!0;break}case"unregisterComponent":{r.data=await t.unregisterComponent(e.data),t.serverShouldRestart=!0;break}case"getFrameworks":{r.data=t.getFrameworks();break}case"readdir":{f0(t,e.path)?r.data=await t.readdir(e.path,!0):r.errors=[`Invalid file request: ${e.path}`];break}case"readFile":{f0(t,e.path)?r.data=await t.readFile(e.path):r.errors=[`Invalid file request: ${e.path}`];break}case"writeFile":{f0(t,e.path)?await t.writeFile(e.path,e.content):r.errors=[`Invalid file request: ${e.path}`];break}case"ensureFigmaImportPage":{r.data=await t.ensureFigmaImportPage();break}case"transileFile":{r.data=await ZA(t,e);break}case"transileModule":{r.data=zE(t,e);break}case"getPastSyncInfo":{r.data=await t.getPastSyncInfo?.(e.data);break}case"resyncSnippet":{r.data=await t.resyncSnippet?.(e.data);break}case"localConfig":{r.data=await Cu();break}default:{r.errors=[`Unknown request type: ${JSON.stringify(e)}`];let n=e}}return r}function f0(t,e){if(!e||e.includes(".."))return!1;e=e.replace(/\\/g,"/");let r=e.split("/"),n=r[r.length-1];if(n.length>0){let i=n.split(".").pop();if(i&&(i=`.${i}`.toLocaleLowerCase(),i=i.split("?")[0],!Pse.includes(i)))return!1}return Ase(t,e),!1}function Ase(t,e){if(!e)return!1;e=t.normalize(t.resolve(e));let r=t.getAppRootDir();return!(!e.startsWith(r)&&!e.includes("node_modules"))}var Pse=[".js",".jsx",".ts",".tsx",".json",".css",".scss",".sass",".less",".html",".htm",".xml",".svg",".png",".jpg",".jpeg",".gif",".ico",".webp",".woff",".woff2",".ttf",".eot",".mp4",".webm",".ogg",".md",".txt",".csv",".pdf"];function Ise(t,e){return!e&&t.serverShouldRestart&&setTimeout(()=>{console.log(`
Restarting server after Khulnasoft Devtools update...
`),t.restartAppServer()},10),t.enableAppWatch(!e),{enabled:e,platform:t.platform()}}async function o3(t){return u3(t,`"use strict";(()=>{var Hr=Object.defineProperty;var qr=(t,e)=>{for(var n in e)Hr(t,n,{get:e[n],enumerable:!0})};var W=(t,e)=>{bt(t);let n=t.querySelector("aside");n.dataset.view=e,n.classList.remove("section-ready"),setTimeout(()=>{n.classList.add("section-ready")},200)},pn=t=>{Array.from(t.querySelectorAll(".back-button")).forEach(e=>{e.addEventListener("click",n=>{bt(t),n.preventDefault(),n.stopPropagation();let r=n.target;W(t,r?.dataset.back||"nav-home")})})},Tt=(t,e)=>{bt(t);let n=t.querySelector("aside"),r=document.createElement("div");r.className="ui-toast",r.innerHTML=e,n.appendChild(r),setTimeout(()=>{r.classList.add("ui-toast-show"),setTimeout(()=>{r.classList.remove("ui-toast-show"),setTimeout(()=>{r.remove()},500)},4e3)},30)},bt=t=>{let e=t.querySelector("aside");Array.from(e.querySelectorAll(".ui-toast")).forEach(r=>{r.classList.remove("ui-toast-show")})},ke=()=>{let t=fn();return localStorage.getItem(t)!=="true"},It=t=>{let e=fn();t?localStorage.removeItem(e):localStorage.setItem(e,"true")},fn=()=>jr("disableEdit"),jr=t=>\`khulnasoft.__LOCAL_APP_ID__.\${t}\`,mn=()=>{let e=document.body.querySelector("[khulnasoft-content-id]")?.getAttribute("khulnasoft-content-id");return Ee(e)},Ee=(t,e)=>{let n="/content";t&&(n+="/"+t+"/edit");let r=new URL(n,"https://khulnasoft.com");t&&e&&r.searchParams.set("selectedBlock",e);let i=new URL(location.pathname,location.href);return r.searchParams.set("overridePreviewUrl",i.href),r.href},Oe="__DEV_TOOLS_URL__",A={components:[],registryPath:"",registryDisplayPath:"",frameworks:[],dependencies:[],publicApiKey:void 0,devToolsVersion:""},J=t=>{A.components=t.components,A.registryPath=t.registryPath,A.registryDisplayPath=t.registryDisplayPath,A.dependencies=t.dependencies,A.publicApiKey=t.publicApiKey};function vn(t){let e=null,n=document.querySelector("khulnasoft-dev-tools-menu"),r=()=>{t.hide()},i=u=>{let c=u.target;if(!c){r();return}if(c.closest("khulnasoft-dev-tools-edit"))return;let a=c.closest("[khulnasoft-content-id]"),l=c.closest("[khulnasoft-id]");if(!a||!l){t.hide();return}let d=t.show(a,l);!d||d===e||(n.highlightOpener(),e=d)};document.addEventListener("pointerover",i,{passive:!0}),document.addEventListener("pointerleave",r,{passive:!0}),document.addEventListener("pointercancel",r,{passive:!0}),document.addEventListener("visibilitychange",r,{passive:!0}),window.addEventListener("popstate",r,{passive:!0});let o=history.pushState;history.pushState=function(...u){t.hide(),o.apply(this,u)};let s=history.replaceState;history.replaceState=function(...u){t.hide(),s.apply(this,u)}}var Ue=class extends HTMLElement{openInKhulnasoft=null;block=null;constructor(){super()}connectedCallback(){this.setAttribute("aria-hidden","true");let e=this.attachShadow({mode:"open"});e.innerHTML='<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}:host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}#content-highlight,#block{position:absolute}#content-highlight{border:3px solid var(--primary-color);background-color:var(--primary-color-alpha)}a{position:absolute;top:-33px;left:0;display:block;padding:5px 10px 8px;pointer-events:auto;z-index:100;text-decoration:none}a:hover{text-decoration:none}a span{display:block;padding:3px 6px;font-size:10px;font-weight:300;border-radius:3px;text-align:center;text-decoration:none;pointer-events:none;background-color:var(--edit-color);color:var(--text-color);white-space:nowrap}a:hover span{background-color:var(--edit-color-highlight)}a:hover~.outline{border-color:var(--edit-color-highlight)}#open-in-editor{display:none}.outline{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--edit-color);background-color:var(--edit-color-alpha)}</style><div id="block"> <a id="open-in-khulnasoft" target="khulnasoft"><span>Open In Khulnasoft</span></a> <a id="open-in-editor" href="#open-in-editor"><span>Open In Editor</span></a> <div class="outline"></div> </div>',this.openInKhulnasoft=e.getElementById("open-in-khulnasoft"),this.block=e.getElementById("block"),vn(this)}show(e,n){if(!ke())return this.hide(),null;let r=e.getAttribute("khulnasoft-content-id"),i=n.getAttribute("khulnasoft-id");if(!r||!i)return this.hide(),null;let o=this.block,s=this.openInKhulnasoft,u=n.getBoundingClientRect();o.style.top=u.top+window.scrollY-1+"px",o.style.left=u.left+window.scrollX+"px",o.style.width=u.width+"px",o.style.height=u.height+1+"px";let c=s.getBoundingClientRect();if(c.width>u.width){let a=c.width-u.width;s.style.left=a/2*-1+"px"}else s.style.left="";return s.href=Ee(r,i),this.style.display="block",i}hide(){this.style.display=""}};var gn="preview-url";var hn="_b-uid";var yn="/~khulnasoft-connect";var _n="/~khulnasoft-dev-tools";var En="https://cdn.khulnasoft.com/api/v1/proxy-api?url=https://api2.amplitude.com/2/httpapi";var Tn=()=>$({type:"validateKhulnasoft"}),ve=t=>$({type:"launchEditor",data:t}),bn=t=>$({type:"getRegistry",data:t}),In=t=>$({type:"loadComponent",data:t}),Sn=t=>$({type:"registerComponent",data:t}),xn=t=>$({type:"setComponentInfo",data:t}),Me=t=>$({type:"setComponentInput",data:t}),Ln=t=>$({type:"unregisterComponent",data:t}),wn=t=>$({type:"enableDevTools",data:{enabled:t}}),Cn=()=>$({type:"localConfig"}),$=async t=>{let e=new URL(_n,Oe),n;try{n=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){throw console.error(\`Devtools Fetch Error, \${e.href}\`,i),new Error("Khulnasoft Devtools Fetch Error")}if((n.headers.get("content-type")||"").includes("application/json")){let i=await n.json();if(n.ok)return i.data;if(Array.isArray(i.errors)&&i.errors.length>0)throw i.errors.forEach(o=>console.error(o)),new Error(\`Khulnasoft Devtools Fetch Error: \${i.errors[0]}\`)}throw new Error(\`Khulnasoft Devtools Fetch Error: \${n.status}, \${await n.text()}\`)};var Pn=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}],Ne=["color","date","email","file","longText","richText","string"],Be=["number"],Fe=["boolean"],Ve=["list"],He=["object"];function qe(t){return Ne.includes(t)?"string":Be.includes(t)?"number":Fe.includes(t)?"boolean":Ve.includes(t)?"array":He.includes(t)?"object":"string"}var $i=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));var St=function(t,e){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},St(t,e)};function V(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");St(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return v=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)};function Te(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})}function f(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Y(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function q(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Rn="Event tracked successfully",Dn="Unexpected error occurred",An="Event rejected due to exceeded retry count",kn="Event skipped due to optOut config",On="Event rejected due to missing API key",Un="Invalid API key",Mn="Client not initialized";var Ge={};qr(Ge,{IdentifyOperation:()=>w,LogLevel:()=>M,OfflineDisabled:()=>Ke,RevenueProperty:()=>Q,ServerZone:()=>je,SpecialEventType:()=>ee,Status:()=>x});var w;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(w||(w={}));var Q;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(Q||(Q={}));var ee;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(ee||(ee={}));var M;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(M||(M={}));var je;(function(t){t.US="US",t.EU="EU"})(je||(je={}));var x;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(x||(x={}));var Ke=null;var te=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=x.Unknown),{event:t,code:e,message:n}};var X=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,X)};var Nn=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,n){var r,i,o;return p(this,void 0,void 0,function(){return f(this,function(s){switch(s.label){case 0:return e.name=(r=e.name)!==null&&r!==void 0?r:X(),e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment",[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,n,this.client)];case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var n;return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){switch(o.label){case 0:return r=this.plugins.findIndex(function(s){return s.name===e}),i=this.plugins[r],this.plugins.splice(r,1),[4,(n=i.teardown)===null||n===void 0?void 0:n.call(i)];case 1:return o.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var n=this.plugins;n.map(function(r){var i;return(i=r.teardown)===null||i===void 0?void 0:i.call(r)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(r){n.queue.push([e,r]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c,y,g,a,l,d,m,y,g,T,h,_,U,b,k,F;return f(this,function(I){switch(I.label){case 0:if(!e)return[2];n=L(e,1),r=n[0],i=L(e,2),o=i[1],s=this.plugins.filter(function(S){return S.type==="before"}),I.label=1;case 1:I.trys.push([1,6,7,8]),u=Y(s),c=u.next(),I.label=2;case 2:return c.done?[3,5]:(y=c.value,y.execute?[4,y.execute(v({},r))]:[3,4]);case 3:if(g=I.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,I.label=4;case 4:return c=u.next(),[3,2];case 5:return[3,8];case 6:return a=I.sent(),U={error:a},[3,8];case 7:try{c&&!c.done&&(b=u.return)&&b.call(u)}finally{if(U)throw U.error}return[7];case 8:l=this.plugins.filter(function(S){return S.type==="enrichment"||S.type===void 0}),I.label=9;case 9:I.trys.push([9,14,15,16]),d=Y(l),m=d.next(),I.label=10;case 10:return m.done?[3,13]:(y=m.value,y.execute?[4,y.execute(v({},r))]:[3,12]);case 11:if(g=I.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,I.label=12;case 12:return m=d.next(),[3,10];case 13:return[3,16];case 14:return T=I.sent(),k={error:T},[3,16];case 15:try{m&&!m.done&&(F=d.return)&&F.call(d)}finally{if(k)throw k.error}return[7];case 16:return h=this.plugins.filter(function(S){return S.type==="destination"}),_=h.map(function(S){var O=v({},r);return S.execute(O).catch(function(B){return te(O,0,String(B))})}),Promise.all(_).then(function(S){var O=L(S,1),B=O[0],Z=B||te(r,100,"Event not tracked, no destination plugins on the instance");o(Z)}),[2]}})})},t.prototype.flush=function(){return p(this,void 0,void 0,function(){var e,n,r,i=this;return f(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),n=this.plugins.filter(function(s){return s.type==="destination"}),r=n.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(r)];case 2:return o.sent(),[2]}})})},t}();var xt="-",de="AMP",Lt="".concat(de,"_unsent"),wt="https://api2.amplitude.com/2/httpapi",Bn="https://api.eu.amplitude.com/2/httpapi",Fn="https://api2.amplitude.com/batch",Vn="https://api.eu.amplitude.com/batch";var Kr=1e3,We=function(t){if(Object.keys(t).length>Kr)return!1;for(var e in t){var n=t[e];if(!Ct(e,n))return!1}return!0},Ct=function(t,e){var n,r;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if(typeof u=="object")i=i&&We(u);else if(!["number","string"].includes(typeof u))return!1;if(!i)return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return We(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var G=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return v({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(w.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(w.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(w.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(w.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(w.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(w.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(w.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(w.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(w.UNSET,e,xt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[w.CLEAR_ALL]=xt,this},t.prototype._safeSet=function(e,n,r){if(this._validate(e,n,r)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[n]=r,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,r){return this._properties[w.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===w.ADD?typeof r=="number":e!==w.UNSET&&e!==w.REMOVE?Ct(n,r):!0},t}();var Hn=function(t,e,n){var r=typeof t=="string"?{event_type:t}:t;return v(v(v({},r),n),e&&{event_properties:e})},be=function(t,e){var n=v(v({},e),{event_type:ee.IDENTIFY,user_properties:t.getUserProperties()});return n},qn=function(t,e,n,r){var i,o=v(v({},r),{event_type:ee.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[t]=e,i)});return o},jn=function(t,e,n){var r,i=new G;i.set(t,e);var o=v(v({},n),{event_type:ee.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[t]=e,r)});return o},Kn=function(t,e){return v(v({},e),{event_type:ee.REVENUE,event_properties:t.getEventProperties()})};var H=function(t){return{promise:t||Promise.resolve()}};var Pt=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Nn(this),this.name=e}return t.prototype._init=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return n.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return f(this,function(a){switch(a.label){case 0:n=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,6,7,8]),r=Y(n),i=r.next(),a.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,o()]);case 3:a.sent(),a.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=a.sent(),u={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,n,r){var i=Hn(e,n,r);return H(this.dispatch(i))},t.prototype.identify=function(e,n){var r=be(e,n);return H(this.dispatch(r))},t.prototype.groupIdentify=function(e,n,r,i){var o=qn(e,n,r,i);return H(this.dispatch(o))},t.prototype.setGroup=function(e,n,r){var i=jn(e,n,r);return H(this.dispatch(i))},t.prototype.revenue=function(e,n){var r=Kn(e,n);return H(this.dispatch(r))},t.prototype.add=function(e){return this.config?H(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),H())},t.prototype.remove=function(e){return this.config?H(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),H())},t.prototype.dispatchWithCallback=function(e,n){if(!this.config)return n(te(e,0,Mn));this.process(e).then(n)},t.prototype.dispatch=function(e){return p(this,void 0,void 0,function(){var n=this;return f(this,function(r){return this.config?[2,this.process(e)]:[2,new Promise(function(i){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,i))})]})})},t.prototype.process=function(e){return p(this,void 0,void 0,function(){var i,n,r,i;return f(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,te(e,0,kn)]:[4,this.timeline.push(e)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return n=o.sent(),r=String(n),this.config.loggerProvider.error(r),i=te(e,0,r),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return H(this.timeline.flush())},t}();var $e=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return We(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?v({},this.properties):{};return e[Q.REVENUE_PRODUCT_ID]=this.productId,e[Q.REVENUE_QUANTITY]=this.quantity,e[Q.REVENUE_PRICE]=this.price,e[Q.REVENUE_TYPE]=this.revenueType,e[Q.REVENUE]=this.revenue,e},t}();var Gn=function(t,e){var n=Math.max(e,1);return t.reduce(function(r,i,o){var s=Math.floor(o/n);return r[s]||(r[s]=[]),r[s].push(i),r},[])};var Ye="Amplitude Logger ",Ie=function(){function t(){this.logLevel=M.None}return t.prototype.disable=function(){this.logLevel=M.None},t.prototype.enable=function(e){e===void 0&&(e=M.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Verbose||console.log("".concat(Ye,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Warn||console.warn("".concat(Ye,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Error||console.error("".concat(Ye,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Debug||console.log("".concat(Ye,"[Debug]: ").concat(e.join(" ")))},t}();var Qe=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:M.Warn,loggerProvider:new Ie,offline:!1,optOut:!1,serverUrl:wt,serverZone:"US",useBatch:!1}},Rt=function(){function t(e){var n,r,i,o;this._optOut=!1;var s=Qe();this.apiKey=e.apiKey,this.flushIntervalMillis=(n=e.flushIntervalMillis)!==null&&n!==void 0?n:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(r=e.logLevel)!==null&&r!==void 0?r:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var u=Dt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=u.serverZone,this.serverUrl=u.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();var Gr=function(t,e){return t==="EU"?e?Vn:Bn:e?Fn:wt},Dt=function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=Qe().serverZone),n===void 0&&(n=Qe().useBatch),t)return{serverUrl:t,serverZone:void 0};var r=["US","EU"].includes(e)?e:Qe().serverZone;return{serverZone:r,serverUrl:Gr(r,n)}};function Wr(t){return t instanceof Error?t.message:String(t)}function Xe(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var At=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var n;return p(this,void 0,void 0,function(){var r,i=this;return f(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(Lt,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return r=o.sent(),this.saveEvents(),r&&r.length>0&&Promise.all(r.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return new Promise(function(r){var i={event:e,attempts:0,callback:function(o){return r(o)},timeout:0};n.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.filter(function(o){return o.attempts<e.config.flushMaxRetries?(o.attempts+=1,!0):(e.fulfillRequest([o],500,An),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var n=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){n.flush(!0).then(function(){n.queue.length>0&&n.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),p(this,void 0,void 0,function(){var n,r,i,o=this;return f(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(n=[],r=[],this.queue.forEach(function(u){return u.timeout===0?n.push(u):r.push(u)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=Gn(n,this.config.flushQueueSize),[4,Promise.all(i.map(function(u){return o.send(u,e)}))]);case 1:return s.sent(),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),p(this,void 0,void 0,function(){var r,i,o,s,u;return f(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,On)];r={api_key:this.config.apiKey,events:e.map(function(a){var l=a.event,d=l.extra,m=Te(l,["extra"]);return m}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},c.label=1;case 1:return c.trys.push([1,3,,4]),i=Dt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:return o=c.sent(),o===null?(this.fulfillRequest(e,0,Dn),[2]):n?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Xe(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=c.sent(),u=Wr(s),this.config.loggerProvider.error(u),this.fulfillRequest(e,0,u),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,n){var r=e.status;switch(r){case x.Success:{this.handleSuccessResponse(e,n);break}case x.Invalid:{this.handleInvalidResponse(e,n);break}case x.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,n);break}case x.RateLimit:{this.handleRateLimitResponse(e,n);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(r,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,Rn)},t.prototype.handleInvalidResponse=function(e,n){var r=this;if(e.body.missingField||e.body.error.startsWith(Un)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var i=q(q(q(q([],L(Object.values(e.body.eventsWithInvalidFields)),!1),L(Object.values(e.body.eventsWithMissingFields)),!1),L(Object.values(e.body.eventsWithInvalidIdLengths)),!1),L(e.body.silencedEvents),!1).flat(),o=new Set(i),s=n.filter(function(u,c){if(o.has(c)){r.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(s),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Xe(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,q([],L(n),!1))},t.prototype.handleRateLimitResponse=function(e,n){var r=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,u=new Set(i),c=new Set(o),a=new Set(s),l=n.filter(function(d,m){if(d.event.user_id&&u.has(d.event.user_id)||d.event.device_id&&c.has(d.event.device_id)){r.fulfillRequest([d],e.statusCode,e.body.error);return}return a.has(m)&&(d.timeout=r.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(l),!1))},t.prototype.handleOtherResponse=function(e){var n=this;this.addToQueue.apply(this,q([],L(e.map(function(r){return r.timeout=r.attempts*n.retryTimeout,r})),!1))},t.prototype.fulfillRequest=function(e,n,r){this.saveEvents(),e.forEach(function(i){return i.callback(te(i.event,n,r))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(n){return n.event}));this.config.storageProvider.set(this.storageKey,e)}},t}();var $r=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(\`
\`).slice(2+t).map(function(n){return n.trim()})},C=function(t){return function(){var e=v({},t.config),n=e.loggerProvider,r=e.logLevel;return{logger:n,logLevel:r}}},Yr=function(t,e){var n,r;e=e.replace(/\\[(\\w+)\\]/g,".$1"),e=e.replace(/^\\./,"");try{for(var i=Y(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},P=function(t,e){return function(){var n,r,i={};try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[u]=Yr(t,u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},R=function(t,e,n,r,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=n(),c=u.logger,a=u.logLevel;if(a&&a<M.Debug||!a||!c)return t.apply(i,o);var l={type:"invoke public method",name:e,args:o,stacktrace:$r(1),time:{start:new Date().toISOString()},states:{}};r&&l.states&&(l.states.before=r());var d=t.apply(i,o);return d&&d.promise?d.promise.then(function(){r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))}):(r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))),d}};var ze=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return n=r.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return p(this,void 0,void 0,function(){return f(this,function(r){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();var pe=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S;if(typeof e!="object")return null;var O=e.code||0,B=this.buildStatus(O);switch(B){case x.Success:return{status:B,statusCode:O,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case x.Invalid:return{status:B,statusCode:O,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(u=e.events_with_invalid_fields)!==null&&u!==void 0?u:{},eventsWithMissingFields:(c=e.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(a=e.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(l=e.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(m=e.silenced_devices)!==null&&m!==void 0?m:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(g=e.throttled_devices)!==null&&g!==void 0?g:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case x.PayloadTooLarge:return{status:B,statusCode:O,body:{error:(h=e.error)!==null&&h!==void 0?h:""}};case x.RateLimit:return{status:B,statusCode:O,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(U=e.eps_threshold)!==null&&U!==void 0?U:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(k=e.throttled_users)!==null&&k!==void 0?k:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(I=e.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(S=e.throttled_events)!==null&&S!==void 0?S:[]}};case x.Timeout:default:return{status:B,statusCode:O}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?x.Success:e===429?x.RateLimit:e===413?x.PayloadTooLarge:e===408?x.Timeout:e>=400&&e<500?x.Invalid:e>=500?x.Failed:x.Unknown},t}();var N=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var ge=function(){var t,e=N();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(i,o){var s=o.split("=",2),u=Wn(s[0]),c=Wn(s[1]);return c&&(i[u]=c),i},{});return r},Wn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var $n="utm_campaign",Yn="utm_content",Qn="utm_id",Xn="utm_medium",zn="utm_source",Zn="utm_term",kt="dclid",Ot="fbclid",Ut="gbraid",Mt="gclid",Nt="ko_click_id",Bt="li_fat_id",Ft="msclkid",Vt="rtd_cid",Ht="ttclid",qt="twclid",jt="wbraid";var fe={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var Se=function(){function t(){}return t.prototype.parse=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,v(v(v(v({},fe),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=ge(),n=e[$n],r=e[Yn],i=e[Qn],o=e[Xn],s=e[zn],u=e[Zn];return{utm_campaign:n,utm_content:r,utm_id:i,utm_medium:o,utm_source:s,utm_term:u}},t.prototype.getReferrer=function(){var e,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},t.prototype.getClickIds=function(){var e,n=ge();return e={},e[kt]=n[kt],e[Ot]=n[Ot],e[Ut]=n[Ut],e[Mt]=n[Mt],e[Nt]=n[Nt],e[Bt]=n[Bt],e[Ft]=n[Ft],e[Vt]=n[Vt],e[Ht]=n[Ht],e[qt]=n[qt],e[jt]=n[jt],e},t}();var Ze=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},Kt=function(t){return"".concat(de.toLowerCase(),"_").concat(t.substring(0,6))};var xe=function(t,e){e===void 0&&(e=Date.now());var n=Date.now(),r=n-e;return r>t};var Le=function(){function t(e){this.options=v({},e)}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i;return f(this,function(o){switch(o.label){case 0:if(!N())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),n="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(n,t.testValue)];case 2:return o.sent(),[4,e.get(n)];case 3:return r=o.sent(),[2,r===t.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(n)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.getRaw(e)];case 1:if(n=r.sent(),!n)return[2,void 0];try{try{n=decodeURIComponent(atob(n))}catch{}return[2,JSON.parse(n)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){return i=N(),o=(r=(n=i?.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&r!==void 0?r:[],s=o.find(function(c){return c.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){var i,o,s,u,c,a;return f(this,function(l){try{i=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,o=n!==null?i:-1,s=void 0,o&&(u=new Date,u.setTime(u.getTime()+o*24*60*60*1e3),s=u),c="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),s&&(c+="; expires=".concat(s.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),a=N(),a&&(a.document.cookie=c)}catch{}return[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2]})})},t}();var Gt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){switch(u.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(n,i)];case 1:return o=u.sent(),[4,o.json()];case 2:return s=u.sent(),[2,this.buildResponse(s)]}})})},e}(pe);var Qr=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Xr(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Xr=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},zr=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)},Je=function(t,e){var n=["string","number","boolean","undefined"],r=typeof t,i=typeof e;if(r!==i)return!1;for(var o=0,s=n;o<s.length;o++){var u=s[o];if(u===r)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var c=Array.isArray(t),a=Array.isArray(e);if(c!==a)return!1;if(c&&a){for(var l=0;l<t.length;l++)if(!Je(t[l],e[l]))return!1}else{var d=Object.keys(t).sort(),m=Object.keys(e).sort();if(!Je(d,m))return!1;var y=!0;return Object.keys(t).forEach(function(g){Je(t[g],e[g])||(y=!1)}),y}return!0},Zr="$set",Jr="$unset",ei="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var ti=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=ie({},this.identity.userProperties),r=ie(ie({},this.identity),{userProperties:n});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){for(var o=r.userProperties||{},s=0,u=Object.entries(i);s<u.length;s++){var c=u[s],a=c[0],l=c[1];switch(a){case Zr:for(var d=0,m=Object.entries(l);d<m.length;d++){var y=m[d],g=y[0],T=y[1];o[g]=T}break;case Jr:for(var h=0,_=Object.keys(l);h<_.length;h++){var g=_[h];delete o[g]}break;case ei:o={};break}}return r.userProperties=o,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return ie({},this.identity)},t.prototype.setIdentity=function(e){var n=ie({},this.identity);this.identity=ie({},e),Je(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),we=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Jn=function(){function t(){this.identityStore=new ti,this.eventBridge=new zr,this.applicationContextProvider=new Qr}return t.getInstance=function(e){return we.analyticsConnectorInstances||(we.analyticsConnectorInstances={}),we.analyticsConnectorInstances[e]||(we.analyticsConnectorInstances[e]=new t),we.analyticsConnectorInstances[e]},t}();var oe=function(t){return t===void 0&&(t="$default_instance"),Jn.getInstance(t)},Wt=function(t,e){oe(e).identityStore.editIdentity().setUserId(t).commit()},$t=function(t,e){oe(e).identityStore.editIdentity().setDeviceId(t).commit()};var Yt=function(){function t(){this.name="identity",this.type="before",this.identityStore=oe().identityStore}return t.prototype.execute=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return e.instanceName&&(this.identityStore=oe(e.instanceName).identityStore),[2]})})},t}();var Qt=function(){var t,e,n,r;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(r=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:i)!==null&&r!==void 0?r:""};var Ce=function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},et=function(t){return Ce(t,"attribution")},Xt=function(t){return Ce(t,"fileDownloads")},zt=function(t){return Ce(t,"formInteractions")},tt=function(t){return Ce(t,"pageViews")},Zt=function(t){return Ce(t,"sessions")},Jt=function(t){var e=function(){return!1},n=void 0,r,i=t.pageCounter,o=tt(t.defaultTracking);return o&&(e=void 0,r=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(r=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:n,eventType:r,pageCounter:i}},en=function(t){return et(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?v({},t.defaultTracking.attribution):{}};var nt=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.name,o=r.args,s=r.resolve,u=t&&t[i];if(typeof u=="function"){var c=u.apply(t,o);typeof s=="function"&&s(c?.promise)}}return t},rt=function(t){var e=t;return e&&e._q!==void 0};var er="2.5.2";var ni="Web",ri="$remote",tr=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(er),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s,u;return f(this,function(c){return i=new Date().getTime(),o=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,s=(r=e.event_id)!==null&&r!==void 0?r:o+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=i),u=v(v(v(v(v(v(v(v({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:ni}),this.config.trackingOptions.language&&{language:Qt()}),this.config.trackingOptions.ipAddress&&{ip:ri}),{insert_id:X(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,u]})})},t}();var it=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i,o;return f(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),n=new t(this.storage),r="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(r,e)];case 2:return s.sent(),[4,n.get(r)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n,r;return f(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=i.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return r=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){return f(this,function(i){try{(r=this.storage)===null||r===void 0||r.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){try{(n=this.storage)===null||n===void 0||n.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return p(this,void 0,void 0,function(){return f(this,function(n){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}();var ot=1e3,tn=function(t){V(e,t);function e(n){var r=this,i;return r=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this,r.loggerProvider=n?.loggerProvider,r}return e.prototype.set=function(n,r){var i;return p(this,void 0,void 0,function(){var o;return f(this,function(s){switch(s.label){case 0:return Array.isArray(r)&&r.length>ot?(o=r.length-ot,[4,t.prototype.set.call(this,n,r.slice(0,ot))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(ot,".")),[3,4];case 2:return[4,t.prototype.set.call(this,n,r)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e}(it);var nr=function(t){V(e,t);function e(){var n;return t.call(this,(n=N())===null||n===void 0?void 0:n.sessionStorage)||this}return e}(it);var rr=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){typeof XMLHttpRequest>"u"&&u(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",n,!0),c.onreadystatechange=function(){if(c.readyState===i.state.done)try{var a=c.responseText,l=JSON.parse(a),d=i.buildResponse(l);s(d)}catch(m){u(m)}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(r))})]})})},e}(pe);var ir=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){var c=N();if(!c?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(r),l=c.navigator.sendBeacon(n,JSON.stringify(r));return s(l?i.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(d){u(d)}})]})})},e}(pe);var or=function(t,e,n){return n===void 0&&(n=!0),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d;return f(this,function(m){switch(m.label){case 0:return r=Kt(t),[4,e.getRaw(r)];case 1:return i=m.sent(),i?n?[4,e.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:m.sent(),m.label=3;case 3:return o=L(i.split("."),6),s=o[0],u=o[1],c=o[2],a=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:ii(u),sessionId:nn(a),lastEventId:nn(d),lastEventTime:nn(l),optOut:!!c}]}})})},nn=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},ii=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var j="[Amplitude]",ka="".concat(j," Page Viewed"),rn="".concat(j," Form Started"),sr="".concat(j," Form Submitted"),ar="".concat(j," File Downloaded"),on="session_start",sn="session_end",ur="".concat(j," File Extension"),cr="".concat(j," File Name"),lr="".concat(j," Link ID"),dr="".concat(j," Link Text"),pr="".concat(j," Link URL"),st="".concat(j," Form ID"),at="".concat(j," Form Name"),ut="".concat(j," Form Destination"),Pe="cookie",fr="US";var oi=function(t){V(e,t);function e(n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S,O,B,Z,ne,ce,re,le,ye,_e){i===void 0&&(i=new ze),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),c===void 0&&(c=1e3),a===void 0&&(a=5),l===void 0&&(l=30),d===void 0&&(d=Pe),h===void 0&&(h=new Ie),_===void 0&&(_=M.Warn),b===void 0&&(b=!1),k===void 0&&(k=!1),S===void 0&&(S=""),O===void 0&&(O=fr),Z===void 0&&(Z=30*60*1e3),ne===void 0&&(ne=new tn({loggerProvider:h})),ce===void 0&&(ce={ipAddress:!0,language:!0,platform:!0}),re===void 0&&(re="fetch"),le===void 0&&(le=!1);var E=t.call(this,{apiKey:n,storageProvider:ne,transportProvider:an(re)})||this;return E.apiKey=n,E.appVersion=r,E.cookieOptions=o,E.defaultTracking=s,E.flushIntervalMillis=c,E.flushMaxRetries=a,E.flushQueueSize=l,E.identityStorage=d,E.ingestionMetadata=m,E.instanceName=y,E.loggerProvider=h,E.logLevel=_,E.minIdLength=U,E.offline=b,E.partnerId=F,E.plan=I,E.serverUrl=S,E.serverZone=O,E.sessionTimeout=Z,E.storageProvider=ne,E.trackingOptions=ce,E.transport=re,E.useBatch=le,E._optOut=!1,E._cookieStorage=i,E.deviceId=u,E.lastEventId=g,E.lastEventTime=T,E.optOut=k,E.sessionId=B,E.pageCounter=_e,E.userId=ye,E.loggerProvider.enable(E.logLevel),E}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(n){this._pageCounter!==n&&(this._pageCounter=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};this.cookieStorage.set(Ze(this.apiKey),n)},e}(Rt);var mr=function(t,e,n){return e===void 0&&(e={}),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,b,k,F,I,S,O,B,Z,ne,ce,re,le,ye,_e,E,pt,ft,mt,vt,gt,ht,yt,_t,Et;return f(this,function(me){switch(me.label){case 0:return r=e.identityStorage||Pe,b={},r===Pe?[3,1]:(o="",[3,5]);case 1:return(F=(k=e.cookieOptions)===null||k===void 0?void 0:k.domain)!==null&&F!==void 0?(s=F,[3,4]):[3,2];case 2:return[4,ai()];case 3:s=me.sent(),me.label=4;case 4:o=s,me.label=5;case 5:return i=v.apply(void 0,[(b.domain=o,b.expiration=365,b.sameSite="Lax",b.secure=!1,b.upgrade=!0,b),e.cookieOptions]),u=si(e.identityStorage,i),[4,or(t,u,(S=(I=e.cookieOptions)===null||I===void 0?void 0:I.upgrade)!==null&&S!==void 0?S:!0)];case 6:return c=me.sent(),[4,u.get(Ze(t))];case 7:return a=me.sent(),l=ge(),d=(ne=(Z=(B=(O=e.deviceId)!==null&&O!==void 0?O:l.deviceId)!==null&&B!==void 0?B:a?.deviceId)!==null&&Z!==void 0?Z:c.deviceId)!==null&&ne!==void 0?ne:X(),m=(ce=a?.lastEventId)!==null&&ce!==void 0?ce:c.lastEventId,y=(re=a?.lastEventTime)!==null&&re!==void 0?re:c.lastEventTime,g=(ye=(le=e.optOut)!==null&&le!==void 0?le:a?.optOut)!==null&&ye!==void 0?ye:c.optOut,T=(_e=a?.sessionId)!==null&&_e!==void 0?_e:c.sessionId,h=(pt=(E=e.userId)!==null&&E!==void 0?E:a?.userId)!==null&&pt!==void 0?pt:c.userId,n.previousSessionDeviceId=(ft=a?.deviceId)!==null&&ft!==void 0?ft:c.deviceId,n.previousSessionUserId=(mt=a?.userId)!==null&&mt!==void 0?mt:c.userId,_={ipAddress:(gt=(vt=e.trackingOptions)===null||vt===void 0?void 0:vt.ipAddress)!==null&&gt!==void 0?gt:!0,language:(yt=(ht=e.trackingOptions)===null||ht===void 0?void 0:ht.language)!==null&&yt!==void 0?yt:!0,platform:(Et=(_t=e.trackingOptions)===null||_t===void 0?void 0:_t.platform)!==null&&Et!==void 0?Et:!0},U=a?.pageCounter,[2,new oi(t,e.appVersion,u,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,r,e.ingestionMetadata,e.instanceName,m,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,g,e.partnerId,e.plan,e.serverUrl,e.serverZone,T,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,h,U)]}})})},si=function(t,e){switch(t===void 0&&(t=Pe),e===void 0&&(e={}),t){case"localStorage":return new tn;case"sessionStorage":return new nr;case"none":return new ze;case"cookie":default:return new Le(v(v({},e),{expirationDays:e.expiration}))}},an=function(t){return t==="xhr"?new rr:t==="beacon"?new ir:new Gt},ai=function(t){return p(void 0,void 0,void 0,function(){var e,n,r,i,o,o,s,u,c,a;return f(this,function(l){switch(l.label){case 0:return[4,new Le().isEnabled()];case 1:if(!l.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,n=e.split("."),r=[],i="AMP_TLDTEST",o=n.length-2;o>=0;--o)r.push(n.slice(o).join("."));o=0,l.label=2;case 2:return o<r.length?(s=r[o],u={domain:"."+s},c=new Le(u),[4,c.set(i,1)]):[3,7];case 3:return l.sent(),[4,c.get(i)];case 4:return a=l.sent(),a?[4,c.remove(i)]:[3,6];case 5:return l.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var gr=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},vr=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},ui=function(t){return Object.values(t).every(function(e){return!e})},hr=function(t,e,n,r){r===void 0&&(r=!0);var i=t.referrer,o=t.referring_domain,s=Te(t,["referrer","referring_domain"]),u=e||{},c=u.referrer,a=u.referring_domain,l=Te(u,["referrer","referring_domain"]);if(ci(n.excludeReferrers,t.referring_domain)||!r&&ui(t)&&e)return!1;var d=JSON.stringify(s)!==JSON.stringify(l),m=vr(o||"")!==vr(a||"");return!e||d||m},ci=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(n){return n instanceof RegExp?n.test(e):n===e})},yr=function(t,e){var n=v(v({},fe),t),r=Object.entries(n).reduce(function(i,o){var s,u=L(o,2),c=u[0],a=u[1];return i.setOnce("initial_".concat(c),(s=a??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?i.set(c,a):i.unset(c)},new G);return be(r)},_r=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\\\."),"$"))]):[]};var un=function(t){var e=this;t===void 0&&(t={});var n={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(r,i){var o;return p(this,void 0,void 0,function(){var s,u,c,a,l,d,m,y;return f(this,function(g){switch(g.label){case 0:return s=v({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:_r((o=r.cookieOptions)===null||o===void 0?void 0:o.domain)},t),r.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),u=r.cookieStorage,c=gr(r.apiKey,"MKTG"),[4,Promise.all([new Se().parse(),u.get(c)])];case 1:return a=L.apply(void 0,[g.sent(),2]),l=a[0],d=a[1],m=xe(r.sessionTimeout,r.lastEventTime),hr(l,d,s,m)&&(s.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),r.loggerProvider.log("Created a new session for new campaign.")),r.loggerProvider.log("Tracking attribution."),y=yr(l,s),i.track(y),u.set(c,l)),[2]}})})},execute:function(r){return p(e,void 0,void 0,function(){return f(this,function(i){return[2,r]})})}};return n};var Er=function(t){var e={};for(var n in t){var r=t[n];r&&(e[n]=r)}return e};var cn=function(t){t===void 0&&(t={});var e,n=N(),r=void 0,i,o,s=function(){return p(void 0,void 0,void 0,function(){var m,y,g;return f(this,function(T){switch(T.label){case 0:return o.pageCounter=o.pageCounter?o.pageCounter+1:1,y={event_type:(g=t.eventType)!==null&&g!==void 0?g:"[Amplitude] Page Viewed"},m=[{}],[4,li()];case 1:return[2,(y.event_properties=v.apply(void 0,[v.apply(void 0,m.concat([T.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":typeof location<"u"&&location.href||"","[Amplitude] Page Path":typeof location<"u"&&location.pathname||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":typeof location<"u"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})},u=function(){return typeof t.trackOn>"u"||typeof t.trackOn=="function"&&t.trackOn()},c=typeof location<"u"?location.href:null,a=function(){return p(void 0,void 0,void 0,function(){var m,y,g,T,h;return f(this,function(_){switch(_.label){case 0:return m=location.href,y=pi(t.trackHistoryChanges,m,c||"")&&u(),c=m,y?(r?.log("Tracking page view event"),e!=null?[3,1]:(g=void 0,[3,3])):[3,4];case 1:return h=(T=e).track,[4,s()];case 2:g=h.apply(T,[_.sent()]),_.label=3;case 3:_.label=4;case 4:return[2]}})})},l=function(){a()},d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(m,y){return p(void 0,void 0,void 0,function(){var g,T;return f(this,function(h){switch(h.label){case 0:return e=y,o=m,r=m.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),n&&(n.addEventListener("popstate",l),i=n.history.pushState,n.history.pushState=new Proxy(n.history.pushState,{apply:function(_,U,b){var k=L(b,3),F=k[0],I=k[1],S=k[2];_.apply(U,[F,I,S]),a()}})),u()?(r.log("Tracking page view event"),T=(g=e).track,[4,s()]):[3,2];case 1:T.apply(g,[h.sent()]),h.label=2;case 2:return[2]}})})},execute:function(m){return p(void 0,void 0,void 0,function(){var y;return f(this,function(g){switch(g.label){case 0:return t.trackOn==="attribution"&&di(m)?(r?.log("Enriching campaign event to page view event with campaign parameters"),[4,s()]):[3,2];case 1:y=g.sent(),m.event_type=y.event_type,m.event_properties=v(v({},m.event_properties),y.event_properties),g.label=2;case 2:return[2,m]}})})},teardown:function(){return p(void 0,void 0,void 0,function(){return f(this,function(m){return n&&(n.removeEventListener("popstate",l),i&&(n.history.pushState=i)),[2]})})}};return d},li=function(){return p(void 0,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return t=Er,[4,new Se().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},di=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,n=e[w.SET]||{},r=e[w.UNSET]||{},i=q(q([],L(Object.keys(n)),!1),L(Object.keys(r)),!1);return Object.keys(fe).every(function(o){return i.includes(o)})}return!1},pi=function(t,e,n){switch(t){case"pathOnly":return e.split("?")[0]!==n.split("?")[0];default:return e!==n}};var Tr=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m;return f(this,function(y){return l?typeof document>"u"?[2]:(d=function(g){var T=!1;n(g,"change",function(){var h;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),T=!0}),n(g,"submit",function(){var h,_;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),l.track(sr,(_={},_[st]=he(g.id),_[at]=he(g.name),_[ut]=g.action,_)),T=!1})},m=Array.from(document.getElementsByTagName("form")),m.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(g){g.forEach(function(T){T.addedNodes.forEach(function(h){h.nodeName==="FORM"&&d(h),"querySelectorAll"in h&&typeof h.querySelectorAll=="function"&&Array.from(h.querySelectorAll("form")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}},he=function(t){if(typeof t=="string")return t};var br=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m,y;return f(this,function(g){return l?typeof document>"u"?[2]:(d=function(T){var h;try{h=new URL(T.href,window.location.href)}catch{return}var _=m.exec(h.href),U=_?.[1];U&&n(T,"click",function(){var b;U&&l.track(ar,(b={},b[ur]=U,b[cr]=h.pathname,b[lr]=T.id,b[dr]=T.text,b[pr]=T.href,b))})},m=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,y=Array.from(document.getElementsByTagName("a")),y.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(T){T.forEach(function(h){h.addedNodes.forEach(function(_){_.nodeName==="A"&&d(_),"querySelectorAll"in _&&typeof _.querySelectorAll=="function"&&Array.from(_.querySelectorAll("a")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}};var Ir=!1,Sr=function(t){if(!(Ir||t.defaultTracking!==void 0)){var e=\`\\\`options.defaultTracking\\\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \\\`options.defaultTracking\\\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.\`;t.loggerProvider.warn(e),Ir=!0}};var xr=function(){var t="@amplitude/plugin-network-checker-browser",e="before",n=N(),r=[],i=function(c,a){n&&(n.addEventListener(c,a),r.push({type:c,handler:a}))},o=function(){r.forEach(function(c){var a=c.type,l=c.handler;n&&n.removeEventListener(a,l)}),r=[]},s=function(c,a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return c.offline=!navigator.onLine,i("online",function(){c.loggerProvider.debug("Network connectivity changed to online."),c.offline=!1,setTimeout(function(){a.flush()},c.flushIntervalMillis)}),i("offline",function(){c.loggerProvider.debug("Network connectivity changed to offline."),c.offline=!0}),[2]})})},u=function(){return p(void 0,void 0,void 0,function(){return f(this,function(c){return o(),[2]})})};return{name:t,type:e,setup:s,teardown:u}};var Lr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i){n===void 0&&(n="");var o,s;return arguments.length>2?(o=r,s=i):typeof r=="string"?(o=r,s=void 0):(o=r?.userId,s=r),H(this._init(v(v({},s),{userId:o,apiKey:n})))},e.prototype._init=function(n){var r,i;return p(this,void 0,void 0,function(){var o,s,u,c,a=this;return f(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,mr(n.apiKey,n,this)]);case 1:return o=l.sent(),[4,t.prototype._init.call(this,o)];case 2:return l.sent(),this.setSessionId((i=(r=n.sessionId)!==null&&r!==void 0?r:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),s=oe(n.instanceName),s.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Ke?[3,4]:[4,this.add(xr()).promise];case 3:l.sent(),l.label=4;case 4:return[4,this.add(new At).promise];case 5:return l.sent(),[4,this.add(new tr).promise];case 6:return l.sent(),[4,this.add(new Yt).promise];case 7:return l.sent(),Sr(this.config),Xt(this.config.defaultTracking)?[4,this.add(br()).promise]:[3,9];case 8:l.sent(),l.label=9;case 9:return zt(this.config.defaultTracking)?[4,this.add(Tr()).promise]:[3,11];case 10:l.sent(),l.label=11;case 11:return et(this.config.defaultTracking)?(u=en(this.config),c=un(u),[4,this.add(c).promise]):[3,13];case 12:l.sent(),l.label=13;case 13:return tt(this.config.defaultTracking)?[4,this.add(cn(Jt(this.config))).promise]:[3,15];case 14:l.sent(),l.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return l.sent(),s.eventBridge.setEventReceiver(function(d){a.track(d.eventType,d.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}(n!==this.config.userId||n===void 0)&&(this.config.userId=n,Wt(n,this.config.instanceName))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.deviceId=n,$t(n,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(X()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){var r;if(!this.config){this.q.push(this.setSessionId.bind(this,n));return}if(n!==this.config.sessionId){var i=this.getSessionId(),o=this.config.lastEventTime,s=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;this.config.sessionId=n,this.config.lastEventTime=void 0,this.config.pageCounter=0,Zt(this.config.defaultTracking)&&(i&&o&&this.track(sn,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:o+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(on,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=an(n)},e.prototype.identify=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new G,i)}return r?.user_id&&this.setUserId(r.user_id),r?.device_id&&this.setDeviceId(r.device_id),t.prototype.identify.call(this,n,r)},e.prototype.groupIdentify=function(n,r,i,o){if(rt(i)){var s=i._q;i._q=[],i=nt(new G,s)}return t.prototype.groupIdentify.call(this,n,r,i,o)},e.prototype.revenue=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new $e,i)}return t.prototype.revenue.call(this,n,r)},e.prototype.process=function(n){return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){return r=Date.now(),i=xe(this.config.sessionTimeout,this.config.lastEventTime),n.event_type!==on&&n.event_type!==sn&&(!n.session_id||n.session_id===this.getSessionId())&&i&&this.setSessionId(r),[2,t.prototype.process.call(this,n)]})})},e}(Pt);var fi=function(){var t=new Lr;return{init:R(t.init.bind(t),"init",C(t),P(t,["config"])),add:R(t.add.bind(t),"add",C(t),P(t,["config.apiKey","timeline.plugins"])),remove:R(t.remove.bind(t),"remove",C(t),P(t,["config.apiKey","timeline.plugins"])),track:R(t.track.bind(t),"track",C(t),P(t,["config.apiKey","timeline.queue.length"])),logEvent:R(t.logEvent.bind(t),"logEvent",C(t),P(t,["config.apiKey","timeline.queue.length"])),identify:R(t.identify.bind(t),"identify",C(t),P(t,["config.apiKey","timeline.queue.length"])),groupIdentify:R(t.groupIdentify.bind(t),"groupIdentify",C(t),P(t,["config.apiKey","timeline.queue.length"])),setGroup:R(t.setGroup.bind(t),"setGroup",C(t),P(t,["config.apiKey","timeline.queue.length"])),revenue:R(t.revenue.bind(t),"revenue",C(t),P(t,["config.apiKey","timeline.queue.length"])),flush:R(t.flush.bind(t),"flush",C(t),P(t,["config.apiKey","timeline.queue.length"])),getUserId:R(t.getUserId.bind(t),"getUserId",C(t),P(t,["config","config.userId"])),setUserId:R(t.setUserId.bind(t),"setUserId",C(t),P(t,["config","config.userId"])),getDeviceId:R(t.getDeviceId.bind(t),"getDeviceId",C(t),P(t,["config","config.deviceId"])),setDeviceId:R(t.setDeviceId.bind(t),"setDeviceId",C(t),P(t,["config","config.deviceId"])),reset:R(t.reset.bind(t),"reset",C(t),P(t,["config","config.userId","config.deviceId"])),getSessionId:R(t.getSessionId.bind(t),"getSessionId",C(t),P(t,["config"])),setSessionId:R(t.setSessionId.bind(t),"setSessionId",C(t),P(t,["config"])),extendSession:R(t.extendSession.bind(t),"extendSession",C(t),P(t,["config"])),setOptOut:R(t.setOptOut.bind(t),"setOptOut",C(t),P(t,["config"])),setTransport:R(t.setTransport.bind(t),"setTransport",C(t),P(t,["config"]))}},D=fi();var Hu=D.add,qu=D.extendSession,ju=D.flush,Ku=D.getDeviceId,Gu=D.getSessionId,Wu=D.getUserId,$u=D.groupIdentify,wr=D.identify,Cr=D.init,Yu=D.logEvent,Qu=D.remove,Xu=D.reset,zu=D.revenue,Zu=D.setDeviceId,Ju=D.setGroup,ec=D.setOptOut,tc=D.setSessionId,nc=D.setTransport,rc=D.setUserId,se=D.track;var K=t=>{window.dispatchEvent(new CustomEvent("khulnasoftdevtools",{detail:{eventName:t}}))};async function mi(){return Cn()}var Pr=async()=>{let t=new URL(window.location.href),e=t.hash,n=\`#\${hn}=\`,r=Math.random().toString(36).substring(2,15),i=await mi();Cr("f1d2eb79aecd01b28c8a371ea5d1751c",i?.userId||r,{logLevel:Ge.LogLevel.None,serverUrl:En,flushIntervalMillis:500});let o=new G;wr(o,{device_id:i?.deviceId,user_id:i?.userId||r});let s="anonymous";e.startsWith(n)&&(s=e.slice(n.length),s&&(vi(s),t.hash="",window.history.replaceState({},"",t.href))),K("init")};var vi=t=>{if(typeof t=="string"&&t.length>0){let e=De();Re({...e,khulnasoftUserId:t})}},De=()=>{let t=localStorage.getItem(Rr);if(t)try{let e=JSON.parse(t);return(!e.ctas||typeof e.ctas!="object")&&(e=Re({...e,ctas:{}})),e.menuOpenedTs&&(e=Re({...e,ctas:{...e.ctas,menuOpened:e.menuOpenedTs}}),delete e.menuOpenedTs),e}catch(e){console.error(e)}return Re({firstVisitTs:Date.now(),ctas:{},khulnasoftUserId:""})},Re=t=>{try{localStorage.setItem(Rr,JSON.stringify(t))}catch(e){console.error(e)}return t},ln=t=>!!De().ctas[t],dn=t=>{let e=De();return Re({...e,ctas:{...e.ctas,[t]:Date.now()}})},Rr="khulnasoftDevtools";function Dr(t){gi(t),hi(t),yi(t),_i(t)}function gi(t){let e=t.getElementById("input-register");e.addEventListener("change",async n=>{n.stopPropagation();let r=t.getElementById("input-name"),i=t.querySelector(".nav-cmp-input");i.classList.add("input-loading"),i.classList.remove("input-enabled");let o=r.dataset.id,s=r.dataset.prop,u=await Me({cmpId:o,name:s,registerInput:e.checked});K("registryUpdate"),J(u),Ae(t,o,s),ae(t,o),i.classList.remove("input-loading")})}function hi(t){t.getElementById("input-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&ve({filePath:i.filePath})})}function yi(t){let e=t.getElementById("input-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=e.dataset.prop,c=await Me({cmpId:s,name:u,friendlyName:e.value});K("registryUpdate"),J(c),z(t),ae(t,s),Ae(t,s,u)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function _i(t){let e=t.getElementById("input-type");e.addEventListener("change",async n=>{n.stopPropagation();let r=e.dataset.id,i=e.dataset.prop,o=await Me({cmpId:r,name:i,type:e.value});K("registryUpdate"),J(o),z(t),ae(t,r),Ae(t,r,i)})}function Ae(t,e,n){let r=A.components.find(m=>m.id===e);if(!r)return null;let i=r.inputs.find(m=>m.name===n);if(!i)return null;let o=t.querySelector(".nav-cmp-input");i.isRegistered?o.classList.add("input-enabled"):o.classList.remove("input-enabled");let s=t.getElementById("input-register");s.checked=!!i.isRegistered;let u=t.getElementById("cmp-input-title");u.innerText=r.name+": "+(i.friendlyName||i.name);let c=t.getElementById("input-open-source");c.innerText=\`Open \${r.displayFilePath}\`,c.dataset.id=r.id;let a=t.getElementById("cmp-prop-name");a.innerText=i.name;let l=t.getElementById("cmp-prop-type");l.innerText=qe(i.type);let d=t.getElementById("input-name");return d.dataset.id=r.id,d.dataset.prop=i.name,d.value=i.friendlyName||i.name,Ei(t,r,i),i}function Ei(t,e,n){let r=t.getElementById("input-type");r.dataset.id=e.id,r.dataset.prop=n.name,r.innerHTML="";let i=n.type,o=Ne.includes(i),s=Be.includes(i),u=Fe.includes(i),c=Ve.includes(i),a=He.includes(i);Pn.forEach(l=>{let d=document.createElement("option");d.value=l.value,d.innerText=l.text,d.disabled=Ne.includes(l.value)&&!o||Be.includes(l.value)&&!s||Fe.includes(l.value)&&!u||Ve.includes(l.value)&&!c||He.includes(l.value)&&!a,r.appendChild(d)}),r.value=i}function Ar(t){Ti(t),bi(t),Ii(t),xi(t),Si(t)}function Ti(t){t.getElementById("cmp-register").addEventListener("change",n=>{n.stopPropagation(),ct(t,"update")})}async function ct(t,e){let n=t.querySelector(".nav-cmp-detail"),r=t.getElementById("cmp-error"),i=t.getElementById("cmp-register"),o=i.closest(".ui-switch");n.classList.remove("cmp-enabled"),i.checked&&n.classList.add("cmp-loading");try{let s=i.dataset.id,u;e==="load"?u=await In({cmpId:s}):i.checked?(u=await Sn({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"register component",detail:s})):(u=await Ln({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"unregister component",detail:s})),J(u),z(t);let c=ae(t,s);e==="update"&&c&&(i.checked?(n.classList.add("cmp-enabled"),Tt(t,\`<strong>\${c.name}</strong> is now registered in <strong>\${A.registryDisplayPath}</strong> and available for use in the Khulnasoft Visual Editor\`)):Tt(t,\`<strong>\${c.name}</strong> has been unregistered from <strong>\${A.registryDisplayPath}</strong> and removed from the Khulnasoft Visual Editor\`))}catch(s){console.error(s),r.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${s.message||s}</p>\`,o.style.display="none"}n.classList.remove("cmp-loading")}function bi(t){let e=t.getElementById("cmp-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=await xn({cmpId:s,name:e.value});K("registryUpdate"),J(u),z(t),ae(t,s)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function ae(t,e){let n=A.components.find(l=>l.id===e);if(!n)return null;let r=t.getElementById("cmp-register"),i=t.getElementById("cmp-error"),o=r.closest(".ui-switch");o.style.display="",i.innerHTML="",r.dataset.id=n.id,r.checked=!!n.isRegistered;let s=t.querySelector(".nav-cmp-detail");n.isRegistered?s.classList.add("cmp-enabled"):s.classList.remove("cmp-enabled");let u=t.getElementById("cmp-name");u.dataset.id=n.id,u.value=n.name;let c=t.getElementById("cmp-open-source");c.innerText=\`Open \${n.displayFilePath}\`,c.dataset.id=n.id;let a=t.getElementById("cmp-detail-title");return a.innerText=\`\${n.name} Component\`,Li(t,n),n}function Ii(t){t.getElementById("cmp-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&(ve({filePath:i.filePath}),se("interaction",{type:"click",name:"open component source file",detail:i.filePath}))})}function Si(t){t.getElementById("btn-inputs-reload").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),ct(t,"load")})}function xi(t){t.getElementById("cmp-detail-inputs").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let i=n.target?.closest("button"),o=i?.dataset.id,s=i?.dataset.propName;Ae(t,o,s)&&W(t,"nav-cmp-input")})}function Li(t,e){let n=t.getElementById("cmp-detail-inputs"),r=e.inputs.filter(i=>!i.hideFromUI);r.length>0?(n.innerHTML="",r.forEach(i=>{n.appendChild(wi(e,i))})):n.innerHTML=\`<p class="cmp-inputs-empty">\${e.name} component does not have any props</p>\`}function wi(t,e){let n=document.createElement("button");n.dataset.id=t.id,n.dataset.propName=e.name,n.className="cmp-input-item nav-list-item",e.isRegistered||n.classList.add("cmp-input-item-unregistered");let r=document.createElement("span"),i=qe(e.type);r.className=\`nav-list-item-icon input-icon input-icon-\${i}\`,n.appendChild(r);let o=document.createElement("span");o.innerText=e.friendlyName||e.name,n.appendChild(o);let s=document.createElement("span");return s.className="nav-list-item-note",s.innerText=e.type,n.appendChild(s),n}function Ur(t){t.getElementById("open-khulnasoft-registry").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),ve({filePath:A.registryPath,line:1,column:1})}),t.getElementById("cmp-list").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();let u=o.target?.dataset.id,c=A.components.find(a=>a.id===u);if(c){let a=t.querySelector(".nav-cmp-detail .section-content");a.scrollTop=0,ae(t,c.id),W(t,"nav-cmp-detail"),c.isRegistered&&ct(t,"load")}});let r=t.getElementById("component-search"),i=t.getElementById("clear-search");r?.addEventListener("input",o=>{let s=o.target.value.toLowerCase(),u=s?A.components.filter(c=>c.name.toLowerCase().includes(s)||c.displayFilePath?.toLowerCase().includes(s)):A.components;z(t,u),i.style.display=s?"flex":"none"}),i?.addEventListener("click",()=>{r.value="",z(t),i.style.display="none"}),r?.addEventListener("keydown",o=>{o.key==="Escape"&&(r.value="",z(t),i.style.display="none")})}function Mr(t){let e=bn();Ci(t,e)}async function Ci(t,e){let n=t.getElementById("cmp-list"),r=t.querySelector(".nav-cmp-list");r.classList.add("nav-loading");let i=t.getElementById("open-khulnasoft-registry");try{let o=await e;J(o),z(t),A.registryDisplayPath?i.innerText="Open "+o.registryDisplayPath:i.innerText=""}catch(o){n.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${o.message||o}</p>\`,console.error(o)}r.classList.remove("nav-loading")}function z(t,e){let n=t.getElementById("cmp-list");n.innerHTML="";let r=e||A.components,i=r.filter(s=>s.isRegistered),o=r.filter(s=>!s.isRegistered);if(e&&e.length===0){let s=document.createElement("p");s.className="no-results",s.innerText="No matching components found",n.appendChild(s);return}kr(n,"Registered Components",i),kr(n,"Unregistered Components",o)}function kr(t,e,n){if(n.length>0){let r=document.createElement("h4");r.innerText=e,t.appendChild(r),n.forEach(i=>{t.appendChild(Pi(i))})}}function Pi(t){let e=document.getElementById("component-search")?.value.toLowerCase(),n=document.createElement("button");n.dataset.id=t.id,n.className="cmp-item nav-list-item",t.isRegistered&&n.classList.add("registered");let r=document.createElement("span");r.className="nav-list-item-icon",t.image&&(r.style.backgroundImage=\`url(\${t.image})\`),n.appendChild(r);let i=document.createElement("span");i.className="nav-list-item-name",i.innerHTML=Or(t.name,e),n.appendChild(i);let o=document.createElement("span");return o.className="nav-list-item-note",o.innerHTML=Or(t.displayFilePath||"",e),n.appendChild(o),n}function Or(t,e){if(!e)return t;let n=new RegExp(\`(\${e})\`,"gi");return t.replace(n,'<span class="search-highlight">$1</span>')}var Nr=t=>{t.querySelector(".menu-toggle").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!0)}),t.getElementById("close").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),t.getElementById("hit").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),pn(t),t.addEventListener("click",e=>e.stopPropagation()),Ri(t)},ue=(t,e)=>{e?(document.body.classList.add("khulnasoft-no-scroll"),t.host.classList.add("show-khulnasoft-menu"),K("menuOpen"),dn("menuOpened"),se("interaction",{type:"click",name:"open dev-tools menu"})):(document.body.classList.remove("khulnasoft-no-scroll"),t.host.classList.remove("show-khulnasoft-menu"),K("menuClose"),setTimeout(()=>{W(t,"nav-home")},300)),wn(e)},Ri=t=>{if(!ln("menuOpened")){Di(t);return}let e=De();if(!((Date.now()-e.firstVisitTs)/1e3/60<10)&&!ln("feedback")){dn("feedback"),Ai(t);return}},Di=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="#open-dev-tools",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>Open Khulnasoft Devtools</h3>
      <p>Start registering your components</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),e.classList.remove("menu-toggle-tooltip-show"),ue(t,!0)})},1e3)},Ai=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform",e.target="_blank",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>How's Devtools working for you?</h3>
      <p>We'd love your feedback!</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",()=>{e.classList.remove("menu-toggle-tooltip-show")})},1e3)};function Br(t){t.getElementById("go-to-khulnasoft").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(mn(),"khulnasoft")}),t.getElementById("components-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();let u=t.querySelector(".nav-cmp-list .section-content");u.scrollTop=0,W(t,"nav-cmp-list"),Mr(t)}),t.getElementById("settings-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),W(t,"nav-settings")}),t.getElementById("add-page-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(Ee(),"khulnasoft")}),t.getElementById("import-from-figma").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open("https://www.figma.com/community/plugin/747985167520967365/khulnasoft-io-ai-powered-figma-to-code-react-vue-tailwind-more")})}function Fr(t){let e=t.getElementById("enable-edit");e.addEventListener("change",n=>{n.stopPropagation(),It(e.checked)}),e.checked=ke(),It(e.checked)}var lt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=\`<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}.menu-toggle{position:absolute;right:0;bottom:0;pointer-events:auto;padding:8px;background:transparent;border:none;appearance:none}.menu-toggle div{position:relative;width:64px;height:64px;pointer-events:none;border-radius:50%;background:#000;border:1px solid white;box-shadow:#00000054 0 0 8px}.menu-toggle:hover div{background-color:var(--background-color);border:1px solid rgb(220,220,220)}.menu-toggle svg{position:absolute;top:15px;left:15px;width:33px;height:32px}div.highlight-bg{position:absolute;top:-1px;left:-1px;background-color:#1a1a1a;pointer-events:none;transition:all .4s ease-out;opacity:0}.menu-toggle-highlight-no-transition div.highlight-bg{transition:none}.menu-toggle-highlight div.highlight-bg{opacity:1}.menu-toggle-tooltip{position:absolute;bottom:0;right:0;width:382px;height:72px;padding:0;text-align:left;appearance:none;background-color:transparent;border:none;pointer-events:none;transform:translate3d(320px,0,0);opacity:0;transition:all .15s ease-in-out;color:#fff}.menu-toggle-tooltip.menu-toggle-tooltip-show{pointer-events:auto;opacity:1;transform:translateZ(0)}.menu-toggle-tooltip-content{position:absolute;inset:0 95px 10px 0;padding:8px 12px;background-color:var(--primary-color);box-shadow:#00000054 0 0 20px;border-radius:2px}.menu-toggle-tooltip-content:before{content:"";position:absolute;bottom:15px;right:-6px;width:30px;height:30px;background-color:var(--primary-color);transform:rotate(45deg)}.menu-toggle-tooltip:hover .menu-toggle-tooltip-content,.menu-toggle-tooltip:hover .menu-toggle-tooltip-content:before{background-color:var(--primary-color-highlight)}.menu-toggle-tooltip-content h3{margin:0;font-size:16px}.menu-toggle-tooltip-content p{margin:0;font-size:12px}section{position:absolute;display:grid;grid-template-rows:64px auto 64px;top:0;left:0;width:100%;height:100%;padding:0;pointer-events:none}.section-content{margin:0;padding:0 0 10px;font-weight:300;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;overflow-y:auto}.section-content .error{color:var(--error-color);font-weight:700}section a{text-decoration:none;color:var(--text-color)}section h3,section p{margin-left:16px;margin-right:16px}.info{font-size:12px}ul.list{list-style:none;padding:0;margin:0}ul.list li{display:block;padding:0;margin:0}ul.list a,ul.list button{display:grid;grid-template-columns:24px auto;grid-gap:16px;padding:12px;margin:8px 0;border:none;background:transparent;appearance:none;width:100%;font-weight:300;text-align:left;text-decoration:none;color:var(--text-color)}ul.list a:hover,ul.list button:hover{text-decoration:none;color:var(--text-color);background-color:var(--button-background-color-hover)}ul.list a span,ul.list button span{display:block;font-size:16px;font-weight:500;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}header{position:relative;display:grid;grid-template-columns:44px 1fr;gap:8px;padding-left:8px;border-bottom:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}header>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-home header>div{margin-right:56px}header h2{margin:7px 0 0;font-size:18px;font-weight:500;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p{margin:2px 0 0;font-size:12px;font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button{display:block;margin:0;padding:0;width:100%;font-size:12px;font-weight:300;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button:hover{text-decoration:underline;color:var(--primary-color)}.khulnasoft-logo{margin:12px 0 0 8px}#close{display:block;position:absolute;appearance:none;background:transparent;border:none;border-radius:50%;margin:0;padding:0;right:4px;top:8px;width:48px;height:48px;z-index:1;opacity:.7}#close:hover{opacity:1;background-color:var(--button-background-color-hover)}#close svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}.back-button{position:relative;display:block;margin:7px 0 0 -2px;width:48px;height:48px;background:transparent;border:none;appearance:none;border-radius:50%}.back-button:hover{background-color:var(--button-background-color-hover)}.back-button svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}footer{border-top:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}section.nav-cmp-list{grid-template-rows:64px auto 120px}footer a{text-decoration:underline;color:var(--primary-color)}footer a:hover{color:var(--primary-color);text-decoration:none}.nav-list{padding:2px 0}.nav-loading{pointer-events:none}.nav-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.nav-loading .nav-loading-icon{opacity:.5}.nav-list h4{margin:8px 8px 8px 10px;font-size:14px;font-weight:600}.nav-list .nav-list-item+h4{margin-top:30px}.nav-list-item{display:grid;grid-template-columns:1fr 1fr;gap:8px;position:relative;margin:2px 0;padding:8px 28px 8px 46px;width:100%;font-size:14px;font-weight:300;text-align:left;border:none;background:transparent;appearance:none}.nav-list-item:hover{background-color:var(--button-background-color-hover)}.nav-list-item-icon{position:absolute;top:4px;left:10px;width:24px;height:24px;object-fit:contain;filter:invert(100%);background-size:24px 24px;background-repeat:no-repeat;background-position:center center}.nav-list-item span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.nav-list-item:after{display:block;position:absolute;content:"";background-image:url('data:image/svg+xml,<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L7 7L1 13" stroke="%23F2F2F2" stroke-opacity="0.5" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');background-repeat:no-repeat;background-position:12px 9px;top:0;right:0;width:32px;height:32px;pointer-events:none}.nav-list-item-note{opacity:0;font-size:12px;padding-top:1px;text-align:right}.nav-list-item:hover .nav-list-item-note{opacity:.5}.ui-select{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-select h3{margin:0;font-size:14px;font-weight:500}.ui-select p{margin:8px 0;font-size:12px;font-weight:300}.ui-select .select{position:relative;margin:8px 0;border-radius:4px;padding:0;line-height:1.1;overflow:hidden;border:1px solid var(--border-color)}.ui-select select{appearance:none;background-color:transparent;border:none;outline:none;padding:8px 32px 8px 8px;margin:0;width:100%;font-size:14px;cursor:pointer;text-overflow:ellipsis;opacity:.6;color:var(--text-color)}.ui-select .select:after{content:"";top:6px;right:5px;width:24px;height:24px;position:absolute;background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%23F2F2F2" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>');background-repeat:no-repeat;background-position:center;pointer-events:none;opacity:.6}.ui-select .select:hover{border-color:var(--primary-color-subdued)}.ui-text-input .select:focus-within{border-color:var(--primary-color)}.ui-text-input .select:focus-within select{opacity:1}.spinner:after{content:" ";display:block;width:32px;height:32px;margin:0 auto;pointer-events:auto;border-radius:50%;border:3px solid var(--text-color);border-color:var(--text-color) transparent var(--text-color) transparent;animation:spinner .75s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-switch{display:grid;grid-template-columns:auto 48px;grid-gap:20px;margin:8px 0 16px;padding:8px 0 8px 16px;cursor:pointer}.ui-switch>*{pointer-events:none}.ui-switch input{display:none;visibility:hidden}.ui-switch .switcher{display:inline-block;border-radius:100px;width:35px;height:14px;background-color:#ccc;position:relative;top:6px;vertical-align:middle;cursor:pointer}.ui-switch input[type=checkbox]:checked+.switcher{background-color:var(--primary-color-subdued)}.ui-switch .switcher:before{content:"";display:block;width:20px;height:20px;background-color:var(--text-color);box-shadow:0 1px 3px #0009;border-radius:50%;position:absolute;top:-3px;left:0;margin-right:0;transition:all .15s}.ui-switch input[type=checkbox]:checked+.switcher:before{left:100%;margin-left:-20px;background-color:var(--primary-color)}.ui-switch h3{margin:0;font-size:14px;font-weight:500}.ui-switch p{margin:4px 0 0;font-size:12px;font-weight:300}.ui-text-input{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-text-input h3{margin:0;font-size:14px;font-weight:500}.ui-text-input p{margin:8px 0;font-size:12px;font-weight:300}.ui-text-input .input{position:relative;margin:8px 0;border:1px solid var(--border-color);border-radius:4px;background:transparent;padding:2px;overflow:hidden}.ui-text-input input{display:block;width:235px;font-size:14px;border:none;background:transparent;padding:6px;appearance:none;color:var(--text-color);opacity:.6;outline:none}.ui-text-input .input:hover{border-color:var(--primary-color-subdued)}.ui-text-input .input:focus-within{border-color:var(--primary-color)}.ui-text-input .input:focus-within input{opacity:1}.ui-text-input .input:after{content:"";position:absolute;top:5px;right:14px;width:8px;height:17px;border:2px solid rgba(51,181,51,1);border-top:none;border-left:none;transform:rotate(45deg);opacity:0;transition:opacity 80ms ease-in-out;pointer-events:none}.ui-text-input.saved .input:after{opacity:1}.ui-toast{position:fixed;bottom:8px;left:8px;right:8px;padding:6px 12px;font-size:14px;border-radius:4px;transform:translate3d(0,150%,0);opacity:0;transition:all var(--transition-time) ease-in-out;background-color:var(--primary-color-subdued);color:var(--text-color);pointer-events:none}.ui-toast.ui-toast-show{transform:translateZ(0);opacity:1;pointer-events:auto}[data-view=nav-home] .nav-home .section-content,[data-view=nav-cmp-list] .nav-cmp-list .section-content,[data-view=nav-cmp-detail] .nav-cmp-detail .section-content,[data-view=nav-cmp-input] .nav-cmp-input .section-content,[data-view=nav-settings] .nav-settings .section-content{transform:translateZ(0);pointer-events:auto}[data-view=nav-home] .nav-home header,[data-view=nav-home] .nav-home footer,[data-view=nav-cmp-list] .nav-cmp-list header,[data-view=nav-cmp-list] .nav-cmp-list footer,[data-view=nav-cmp-detail] .nav-cmp-detail header,[data-view=nav-cmp-detail] .nav-cmp-detail footer,[data-view=nav-cmp-input] .nav-cmp-input header,[data-view=nav-cmp-input] .nav-cmp-input footer,[data-view=nav-settings] .nav-settings header,[data-view=nav-settings] .nav-settings footer{opacity:1;pointer-events:auto}[data-view=nav-cmp-list] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-home .section-content,[data-view=nav-cmp-input] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-cmp-detail .section-content,[data-view=nav-settings] .nav-home .section-content{transform:translate3d(-105%,0,0)}.cmp-item .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.83 16.809C20.94 16.561 21 16.289 21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L7.988 3.99001M5.441 5.44801L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L18.544 18.56" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.532 10.538L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.27002 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 3L21 21" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');opacity:.3}.cmp-item.registered .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /></svg>');opacity:.8}.search-highlight{background-color:var(--primary-color-alpha);padding:0 2px;border-radius:2px;font-weight:500}.search-container{position:sticky;top:0;z-index:10;padding:12px 16px;background:var(--background-color);border-bottom:1px solid var(--border-color)}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-color-secondary);pointer-events:none}.component-search-input{width:100%;height:36px;padding:8px 36px;border:1px solid var(--border-color);border-radius:6px;background:var(--input-background);color:var(--text-color);font-size:14px;transition:border-color .2s,box-shadow .2s}.component-search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color-alpha)}.component-search-input::placeholder{color:var(--text-color-tertiary)}.clear-search-button{position:absolute;right:8px;padding:4px;color:var(--text-color-secondary);border:none;background:transparent;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s,background-color .2s;display:flex;align-items:center;justify-content:center}.clear-search-button:hover{background-color:var(--hover-color)}.component-search-input:not(:placeholder-shown)+.clear-search-button{opacity:1}.no-results{padding:32px 16px;text-align:center;color:var(--text-color-secondary);font-size:14px}#cmp-detail{position:relative}.cmp-loading{pointer-events:none!important}.cmp-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.cmp-loading .cmp-loading-icon{opacity:.5}.cmp-cover{position:absolute;top:160px;left:0;width:100%;height:100vh;background:var(--background-color);transform:translateZ(0);pointer-events:none;display:none}[data-view=nav-cmp-detail] .cmp-cover{display:block;pointer-events:auto}.cmp-enabled .cmp-cover{transform:translate3d(0,105%,0);pointer-events:none}.section-ready .cmp-cover{transition:all var(--transition-time) ease-in-out}.cmp-detail-inputs-container{margin:8px 0 16px;padding:0}.cmp-detail-inputs-container h3{margin:0 0 6px;padding-left:16px;padding-right:8px;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cmp-detail-inputs-reload{font-weight:300;font-size:.9em;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmp-detail-inputs-reload:hover{text-decoration:underline;color:var(--primary-color)}.cmp-detail-inputs-container .cmp-inputs-empty{padding:0;margin-top:12px;font-size:12px;font-weight:300;opacity:.5;font-style:italic}.cmp-detail-inputs-container .nav-list-item-icon{opacity:.8;background-size:20px 20px;background-position:4px center}.input-icon{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path></svg>')}.input-icon-array{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-6a2 2 0 1 1 4 0v6"></path> <path d="M10 13h4"></path></svg>')}.input-icon-boolean{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16h2a2 2 0 1 0 0 -4h-2h2a2 2 0 1 0 0 -4h-2v8z"></path></svg>')}.input-icon-number{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-8l4 8v-8"></path></svg>')}.input-icon-object{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"></path></svg>')}.input-icon-string{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"></path></svg>')}.cmp-input-item-unregistered{opacity:.4}.cmp-input-item-unregistered .input-icon:after{content:"";position:absolute;top:11px;left:4px;width:20px;height:2px;background-color:#000;transform:rotate(-45deg)}.cmp-prop-info{border-bottom:1px solid var(--border-color)}.cmp-input-readonly{margin:16px 0;padding:0 16px;display:grid;grid-template-columns:50% 50%;gap:12px}.cmp-input-readonly h3{margin:0;font-size:14px;font-weight:500}.cmp-input-readonly span{margin-top:2px;font-size:12px;font-weight:300;opacity:.8}.cmp-input-detail{margin:16px 0}.cmp-input-detail a{color:var(--primary-color);text-decoration:none}.cmp-input-detail a:hover{text-decoration:underline}.input-cover{position:absolute;top:175px;left:0;width:100%;height:100%;background:var(--background-color);transform:translateZ(0);transition:all var(--transition-time) ease-in-out;pointer-events:auto}.input-enabled .input-cover{transform:translate3d(0,105%,0);pointer-events:none}.input-loading-icon{position:absolute;display:inline-block;top:190px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.input-loading .input-loading-icon{opacity:.5}:host{position:fixed;inset:0;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}aside{position:absolute;top:0;right:0;width:var(--menu-width);height:100%;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;background:var(--background-color);box-shadow:#000000c9 5px 0 20px;overflow:hidden;z-index:1}:host(.show-khulnasoft-menu) aside{pointer-events:auto;transform:translateZ(0)}#hit{position:absolute;inset:0;display:none}:host(.show-khulnasoft-menu) #hit{display:block;pointer-events:auto}#version{position:absolute;bottom:6px;right:6px;font-size:8px;color:#9b9b9b}</style><div id="hit"></div> <aside data-view="nav-home"> <section class="nav-home"> <header> <svg class="khulnasoft-logo" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> <div> <h2 class="khulnasoft-home-title">Khulnasoft Devtools</h2> <p><button id="go-to-khulnasoft">Go to Khulnasoft</button></p> </div> <button id="close" aria-label="Close Menu"> <svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M18 6l-12 12" /> <path d="M6 6l12 12" /> </svg> </button> </header> <div class="section-content"> <ul class="list"> <li> <button id="components-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Components</span> </button> </li> <li> <button id="settings-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Settings</span> </button> </li> <li> <button id="add-page-link"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M14 3v4a1 1 0 0 0 1 1h4" /> <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /> <path d="M12 11l0 6" /> <path d="M9 14l6 0" /> </svg> <span>Add Khulnasoft Page</span> </button> </li> <li> <button id="import-from-figma"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-figma" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M15 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /> <path d="M6 3m0 3a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v0a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3z" /> <path d="M9 9a3 3 0 0 0 0 6h3m-3 0a3 3 0 1 0 3 3v-15" /> </svg> <span>Import From Figma</span> </button> </li> </ul> </div> <footer> <ul class="list"> <li> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform" target="_blank" > <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M11.013 17.0114L10.013 18.0114L2.513 10.5834C2.0183 10.102 1.62864 9.52342 1.36854 8.88404C1.10845 8.24466 0.983558 7.55836 1.00173 6.86834C1.01991 6.17832 1.18076 5.49954 1.47415 4.87474C1.76755 4.24994 2.18713 3.69266 2.70648 3.23799C3.22583 2.78331 3.8337 2.4411 4.49181 2.23289C5.14991 2.02468 5.844 1.95499 6.53036 2.02821C7.21673 2.10143 7.8805 2.31596 8.47987 2.65831C9.07925 3.00066 9.60124 3.46341 10.013 4.01741C10.8086 2.95654 11.9931 2.2552 13.3059 2.06766C14.6186 1.88012 15.9521 2.22176 17.013 3.01741C18.0739 3.81306 18.7752 4.99755 18.9627 6.3103C19.1503 7.62305 18.8086 8.95654 18.013 10.0174" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M18.2006 19.8175L16.0286 20.9555C15.9642 20.989 15.8917 21.004 15.8192 20.9987C15.7467 20.9934 15.6771 20.9681 15.6182 20.9256C15.5593 20.8831 15.5134 20.825 15.4855 20.7579C15.4577 20.6907 15.4491 20.6172 15.4606 20.5455L15.8756 18.1345L14.1186 16.4275C14.0662 16.3768 14.0291 16.3123 14.0115 16.2416C13.9939 16.1708 13.9966 16.0965 14.0192 16.0271C14.0418 15.9578 14.0835 15.8962 14.1394 15.8494C14.1954 15.8026 14.2634 15.7725 14.3356 15.7625L16.7636 15.4105L17.8496 13.2175C17.8821 13.1521 17.9322 13.0972 17.9942 13.0588C18.0562 13.0204 18.1277 13 18.2006 13C18.2736 13 18.3451 13.0204 18.4071 13.0588C18.4691 13.0972 18.5191 13.1521 18.5516 13.2175L19.6376 15.4105L22.0656 15.7625C22.1377 15.7728 22.2054 15.8031 22.2611 15.85C22.3168 15.8968 22.3583 15.9583 22.3809 16.0275C22.4034 16.0967 22.4062 16.1708 22.3888 16.2415C22.3715 16.3122 22.3347 16.3766 22.2826 16.4275L20.5256 18.1345L20.9396 20.5445C20.9521 20.6163 20.9441 20.6902 20.9166 20.7578C20.8891 20.8254 20.8433 20.8839 20.7842 20.9267C20.7252 20.9695 20.6553 20.9949 20.5825 21C20.5098 21.005 20.4371 20.9896 20.3726 20.9555L18.2006 19.8175Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Give Feedback</span> </a> </li> </ul> <div id="version"></div> </footer> </section> <section class="nav-cmp-list"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div class="search-container"> <div class="search-input-wrapper"> <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M15.5 15.5L20 20M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" /> </svg> <input type="text" id="component-search" class="component-search-input" placeholder="Search components..." autocomplete="off" spellcheck="false" /> <button id="clear-search" class="clear-search-button" type="button" aria-label="Clear search" > <svg viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M6 6l12 12M6 18L18 6" /> </svg> </button> </div> </div> <div> <h2>Custom Components</h2> <p> <button id="open-khulnasoft-registry"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-list" class="cmp-list nav-list"></div> </div> <div class="nav-loading-icon spinner"></div> <footer> <p class="info"> Expand on Khulnasoft's selection of built-in blocks by <a target="_blank" href="https://www.khulnasoft.com/c/docs/custom-components-intro" >registering components</a > from your codebase. This way, teammates can drag and drop your components within Khulnasoft's Visual Editor just like any other block. </p> </footer> </section> <section class="nav-cmp-detail"> <header> <button class="back-button" data-back="nav-cmp-list"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-detail-title"></h2> <p> <button id="cmp-open-source"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-error"></div> <label class="ui-switch"> <div> <h3>Register Component</h3> <p> Registers this component so it can be used within Khulnasoft Visual CMS </p> </div> <input type="checkbox" role="switch" id="cmp-register" /> <span class="switcher"></span> </label> <div id="cmp-detail"> <label class="ui-text-input"> <h3>Component Name</h3> <div class="input"> <input type="text" id="cmp-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="2" maxlength="30" required placeholder="e.g. My Counter" /> </div> <p> Unique name to identify this custom component within Khulnasoft. Press ESC to cancel </p> </label> <div class="cmp-detail-inputs-container"> <h3> <span>Khulnasoft Inputs (Props)</span> <button class="cmp-detail-inputs-reload" id="btn-inputs-reload"> Reload </button> </h3> <div id="cmp-detail-inputs"></div> </div> </div> </div> <div class="cmp-cover"></div> <div class="cmp-loading-icon spinner"></div> </section> <section class="nav-cmp-input"> <header> <button class="back-button" data-back="nav-cmp-detail"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-input-title"></h2> <p> <button id="input-open-source"></button> </p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable Input</h3> <p>Add this component prop as a Khulnasoft input</p> </div> <input type="checkbox" role="switch" id="input-register" /> <span class="switcher"></span> </label> <div class="cmp-prop-info"> <div class="cmp-input-readonly"> <h3>Prop Name</h3> <span id="cmp-prop-name"></span> </div> <div class="cmp-input-readonly"> <h3>Prop Type</h3> <span id="cmp-prop-type"></span> </div> </div> <div class="cmp-input-detail"> <label class="ui-text-input"> <h3>Khulnasoft Input Name</h3> <div class="input"> <input type="text" id="input-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="1" maxlength="30" required placeholder="e.g. Text" /> </div> <p> Friendly name to identify this component prop as a Khulnasoft input. Press ESC to cancel </p> </label> <label class="ui-select"> <h3>Khulnasoft Input Type</h3> <div class="select"> <select id="input-type"></select> </div> <p> Correlate to what editing UI is appropriate for this Khulnasoft input. <a href="https://www.khulnasoft.com/c/docs/custom-components-input-types" target="_blank" >Read more about input types.</a > </p> </label> </div> <div class="input-cover"></div> <div class="input-loading-icon spinner"></div> </div> </section> <section class="nav-settings"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2>Settings</h2> <p>Configure Khulnasoft's Devtools</p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable edit button in UI</h3> <p>Enables the edit button so you can edit content in Khulnasoft</p> </div> <input type="checkbox" role="switch" id="enable-edit" /> <span class="switcher"></span> </label> </div> </section> <div class="ui-toast" id="toast"></div> </aside> <button class="menu-toggle" aria-label="Toggle Khulnasoft Devtools"> <div> <div class="highlight-bg"></div> <svg viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> </div> </button>\`,Nr(e),Br(e),Ur(e),Ar(e),Dr(e),Fr(e),this.setAttribute("aria-hidden","true"),e.getElementById("version").textContent="v1.3.3"}highlightOpener(){let e=this.shadowRoot.querySelector(".menu-toggle");e.classList.add("menu-toggle-highlight"),e.classList.add("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight")},20)},20)}};var ki=\`<style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>\`,dt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=ki+\`<main>
  <aside>
    <div class="logo"></div>

    <ul>
      <li class="highlight active">
        <div class="circle"></div>
        <div class="line"></div>
        <span>Connect Khulnasoft.com</span>
      </li>
      <li>
        <div class="circle"></div>
        <div class="line"></div>
        <span>Update App</span>
      </li>
      <li>
        <div class="circle"></div>
        <span>Setup Complete</span>
      </li>
    </ul>
  </aside>

  <section>
    <h1>Integrate Khulnasoft.com with your project</h1>

    <p>
      First, let's connect to your Khulnasoft.com space to continue with the
      integration
    </p>

    <nav>
      <a class="button next-step" href="#">
        <span id="button-text">Get Started</span>
        <span id="button-icon"></span>
      </a>
    </nav>
  </section>
</main>
\`,Oi();let n=new URL(yn,Oe);n.searchParams.set(gn,location.href);let r=e.querySelectorAll(".next-step");for(let i of r)i.setAttribute("href",n.href);se("overview step viewed")}},Oi=()=>{let t=document.head.querySelector("link[rel='icon'], link[rel='icon shortcut']");t?(t.href="https://cdn.khulnasoft.com/favicon.ico",t.removeAttribute("type")):(t=document.createElement("link"),t.rel="icon",t.href="https://cdn.khulnasoft.com/favicon.ico",document.head.appendChild(t))};var Vr=async()=>{(await Tn()).isValid||Ui()},Ui=()=>{customElements.get("khulnasoft-dev-tools-overview")||customElements.define("khulnasoft-dev-tools-overview",dt);let t=document.querySelector("khulnasoft-dev-tools-overview");t||(t=document.createElement("khulnasoft-dev-tools-overview"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),setTimeout(()=>{t.removeAttribute("aria-hidden")},32)};var Mi=()=>{try{customElements.get("khulnasoft-dev-tools-edit")||customElements.define("khulnasoft-dev-tools-edit",Ue),customElements.get("khulnasoft-dev-tools-menu")||customElements.define("khulnasoft-dev-tools-menu",lt);let t=document.querySelector("khulnasoft-dev-tools-menu");t||(t=document.createElement("khulnasoft-dev-tools-menu"),t.setAttribute("data-version","1.3.3"),document.body.appendChild(t));let e=document.querySelector("khulnasoft-dev-tools-edit");e||(e=document.createElement("khulnasoft-dev-tools-edit"),document.body.appendChild(e));let n=document.getElementById("khulnasoft-dev-tools-style");n||(n=document.createElement("style"),n.id="khulnasoft-dev-tools-style",n.innerHTML=".khulnasoft-no-scroll{overflow:hidden !important}",document.head.appendChild(n)),Vr(),Pr()}catch(t){console.error("Khulnasoft Devtools:",t)}};window.location===window.parent.location&&(console.debug("Khulnasoft.com Devtools v1.3.3"),Mi());})();`)}async function a3(t){return u3(t,`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main>
      <aside>
        <div class="logo"></div>

        <ul>
          <li class="highlight completed">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Connect Khulnasoft.com</span>
          </li>
          <li id="step-update-app" class="highlight active">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Update App</span>
          </li>
          <li id="step-setup-complete">
            <div class="circle"></div>
            <span>Setup Complete</span>
          </li>
        </ul>
      </aside>

      <section id="updating" aria-hidden="false">
        <h1>Updating App to include Khulnasoft.com</h1>
        <p>
          We're making some updates so Khulnasoft can be used within this
          project.<br />
          This usually takes less than a minute to complete.
        </p>

        <nav>
          <p>
            <a id="completing" class="button" aria-disabled="true" href="#">
              <span id="button-text">Updating</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="success" aria-hidden="true">
        <h1 id="success-title">
          Connection Successful
          <div class="check-icon"></div>
        </h1>

        <p>
          Your project is now ready to work with Khulnasoft! You can close this tab
          and return to Khulnasoft or your development project to continue.
        </p>

        <div id="modified-files-message" hidden>
          <p>
            We've made a few updates to your app to help integrate Khulnasoft.com:
          </p>
          <ul id="modified-files-list"></ul>
        </div>

        <p id="restart-warning" hidden>
          Please restart the dev server to ensure the changes take effect, then
          reload this page.
        </p>

        <div id="router-message" hidden>
          <!-- Route message for react -->
          <div id="react-message-section" hidden>
            <span
              >Next, add the following path and component in your React app
              routing setup</span
            >
            <ol id="react-router-steps">
              <li>
                Update path to <strong>'/khulnasoft-demo'</strong> or
                <strong>'/*'</strong>
              </li>
              <li>
                Add <strong>'KhulnasoftPage'</strong> component from
                <code>khulnasoft-page</code> file
              </li>
            </ol>
          </div>

          <!-- Route message for angular -->
          <div id="angular-message-section" hidden>
            <span
              >Next, add the following path for Khulnasoft page in your Angular
              routes</span
            >
            <ol id="angular-router-steps">
              <li>
                Update path to <strong>'khulnasoft-demo'</strong> or
                <strong>'**'</strong>
              </li>
              <li>
                Add <strong>'KhulnasoftPage'</strong> component from
                <code>khulnasoft-page.component</code> file
              </li>
            </ol>
          </div>

          <a id="need-help" href="#" hidden>
            <span id="help-text">Need help?</span>
            <span id="help-icon"></span>
          </a>
          <div id="router-checkbox-div"></div>
        </div>
        <div id="router-finish-button" hidden>
          <a class="button next-step" href="#">
            <span id="button-text">Finish</span>
            <span id="button-icon"></span>
          </a>
        </div>

        <nav id="go-to-app" hidden>
          <p hidden>Your new app is ready for Khulnasoft content! Let's go!</p>
          <p>
            <a class="button next-step" href="#">
              <span id="button-text">Go</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="error" aria-hidden="true">
        <h1>Oops!</h1>
        <p>Looks like we tripped up on an issue!</p>
        <ul id="error-messages"></ul>
      </section>

      <section id="restart-server" aria-hidden="true">
        <h1>Please Restart Your Dev Server</h1>
        <p>
          We've made updates to your application, please restart your dev server
          to ensure the changes take effect.
        </p>
        <p>
          <a id="completing" class="button" aria-disabled="true" href="#">
            <span id="button-text">Please restart your dev server</span>
            <span id="button-icon"></span>
          </a>
        </p>
      </section>
    </main>
    <script>"use strict";(()=>{var Ft=\`api-key\`;var Vt=\`p-key\`;var We=\`preview-url\`;var $e=\`user-id\`;var Bt="_b-uid";var qt=\`framework\`;var jt=\`platform\`;var Gt=\`node\`;var Kt="/~khulnasoft-dev-tools";var Qt=\`kind\`;var Wt="__DEV_TOOLS_URL__";var $t=(t,e,r)=>He({type:"connectKhulnasoft",data:{publicApiKey:t,privateAuthKey:e,kind:r}});var Ht=()=>He({type:"validateKhulnasoft"});var Yt=t=>He({type:"launchEditor",data:t});var He=async t=>{const e=new URL(Kt,Wt);let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){console.error(\`Devtools Fetch Error, \${e.href}\`,i);throw new Error(\`Khulnasoft Devtools Fetch Error\`)}const n=r.headers.get("content-type")||"";if(n.includes("application/json")){const i=await r.json();if(r.ok){return i.data}if(Array.isArray(i.errors)&&i.errors.length>0){i.errors.forEach(o=>console.error(o));throw new Error(\`Khulnasoft Devtools Fetch Error: \${i.errors[0]}\`)}}throw new Error(\`Khulnasoft Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var Ye=function(t,e){Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))r[i]=n[i]};return Ye(t,e)};function V(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ye(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m=function(){m=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return m.apply(this,arguments)};function de(t,e){var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)r[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))r[n[i]]=t[n[i]]}return r}function f(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(c){try{s(n.next(c))}catch(d){a(d)}}function u(c){try{s(n["throw"](c))}catch(d){a(d)}}function s(c){c.done?o(c.value):i(c.value).then(l,u)}s((n=n.apply(t,e||[])).next())})}function p(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),"throw":l(1),"return":l(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(s){return function(c){return u([s,c])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,s[0]&&(r=0)),r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=e.call(t,r)}catch(c){s=[6,c];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}}function G(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&n>=t.length)t=void 0;return{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{while((e===void 0||e-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(l){a={error:l}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function q(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++){if(o||!(n in e)){if(!o)o=Array.prototype.slice.call(e,0,n);o[n]=e[n]}}return t.concat(o||Array.prototype.slice.call(e))}var Xt="Event tracked successfully";var zt="Unexpected error occurred";var Zt="Event rejected due to exceeded retry count";var Jt="Event skipped due to optOut config";var er="Event rejected due to missing API key";var tr="Invalid API key";var rr="Client not initialized";var D;(function(t){t["SET"]="$set";t["SET_ONCE"]="$setOnce";t["ADD"]="$add";t["APPEND"]="$append";t["PREPEND"]="$prepend";t["REMOVE"]="$remove";t["PREINSERT"]="$preInsert";t["POSTINSERT"]="$postInsert";t["UNSET"]="$unset";t["CLEAR_ALL"]="$clearAll"})(D||(D={}));var W;(function(t){t["REVENUE_PRODUCT_ID"]="$productId";t["REVENUE_QUANTITY"]="$quantity";t["REVENUE_PRICE"]="$price";t["REVENUE_TYPE"]="$revenueType";t["REVENUE"]="$revenue"})(W||(W={}));var X;(function(t){t["IDENTIFY"]="$identify";t["GROUP_IDENTIFY"]="$groupidentify";t["REVENUE"]="revenue_amount"})(X||(X={}));var U;(function(t){t[t["None"]=0]="None";t[t["Error"]=1]="Error";t[t["Warn"]=2]="Warn";t[t["Verbose"]=3]="Verbose";t[t["Debug"]=4]="Debug"})(U||(U={}));var P;(function(t){t["Unknown"]="unknown";t["Skipped"]="skipped";t["Success"]="success";t["RateLimit"]="rate_limit";t["PayloadTooLarge"]="payload_too_large";t["Invalid"]="invalid";t["Failed"]="failed";t["Timeout"]="Timeout";t["SystemError"]="SystemError"})(P||(P={}));var Xe=null;var $=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=P.Unknown}return{event:t,code:e,message:r}};var K=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,K)};var nr=function(){function t(e){this.client=e;this.queue=[];this.applying=false;this.plugins=[]}t.prototype.register=function(e,r){var n,i,o;return f(this,void 0,void 0,function(){return p(this,function(a){switch(a.label){case 0:e.name=(n=e.name)!==null&&n!==void 0?n:K();e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment";return[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,r,this.client)];case 1:a.sent();this.plugins.push(e);return[2]}})})};t.prototype.deregister=function(e){var r;return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){switch(o.label){case 0:n=this.plugins.findIndex(function(a){return a.name===e});i=this.plugins[n];this.plugins.splice(n,1);return[4,(r=i.teardown)===null||r===void 0?void 0:r.call(i)];case 1:o.sent();return[2]}})})};t.prototype.reset=function(e){this.applying=false;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)});this.plugins=[];this.client=e};t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]);r.scheduleApply(0)})};t.prototype.scheduleApply=function(e){var r=this;if(this.applying)return;this.applying=true;setTimeout(function(){void r.apply(r.queue.shift()).then(function(){r.applying=false;if(r.queue.length>0){r.scheduleApply(0)}})},e)};t.prototype.apply=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a,l,u,y,h,s,c,d,v,y,h,E,g,_;var S,I,O,F;return p(this,function(T){switch(T.label){case 0:if(!e){return[2]}r=x(e,1),n=r[0];i=x(e,2),o=i[1];a=this.plugins.filter(function(w){return w.type==="before"});T.label=1;case 1:T.trys.push([1,6,7,8]);l=G(a),u=l.next();T.label=2;case 2:if(!!u.done)return[3,5];y=u.value;if(!y.execute){return[3,4]}return[4,y.execute(m({},n))];case 3:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=4;case 4:u=l.next();return[3,2];case 5:return[3,8];case 6:s=T.sent();S={error:s};return[3,8];case 7:try{if(u&&!u.done&&(I=l.return))I.call(l)}finally{if(S)throw S.error}return[7];case 8:c=this.plugins.filter(function(w){return w.type==="enrichment"||w.type===void 0});T.label=9;case 9:T.trys.push([9,14,15,16]);d=G(c),v=d.next();T.label=10;case 10:if(!!v.done)return[3,13];y=v.value;if(!y.execute){return[3,12]}return[4,y.execute(m({},n))];case 11:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=12;case 12:v=d.next();return[3,10];case 13:return[3,16];case 14:E=T.sent();O={error:E};return[3,16];case 15:try{if(v&&!v.done&&(F=d.return))F.call(d)}finally{if(O)throw O.error}return[7];case 16:g=this.plugins.filter(function(w){return w.type==="destination"});_=g.map(function(w){var k=m({},n);return w.execute(k).catch(function(M){return $(k,0,String(M))})});void Promise.all(_).then(function(w){var k=x(w,1),M=k[0];var Q=M||$(n,100,"Event not tracked, no destination plugins on the instance");o(Q)});return[2]}})})};t.prototype.flush=function(){return f(this,void 0,void 0,function(){var e,r,n;var i=this;return p(this,function(o){switch(o.label){case 0:e=this.queue;this.queue=[];return[4,Promise.all(e.map(function(a){return i.apply(a)}))];case 1:o.sent();r=this.plugins.filter(function(a){return a.type==="destination"});n=r.map(function(a){return a.flush&&a.flush()});return[4,Promise.all(n)];case 2:o.sent();return[2]}})})};return t}();var ze="-";var re="AMP";var Ze="".concat(re,"_unsent");var Je="https://api2.amplitude.com/2/httpapi";var ir="https://api.eu.amplitude.com/2/httpapi";var or="https://api2.amplitude.com/batch";var ar="https://api.eu.amplitude.com/batch";var Xr=1e3;var be=function(t){if(Object.keys(t).length>Xr){return false}for(var e in t){var r=t[e];if(!et(e,r))return false}return true};var et=function(t,e){var r,n;if(typeof t!=="string")return false;if(Array.isArray(e)){var i=true;try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(Array.isArray(l)){return false}else if(typeof l==="object"){i=i&&be(l)}else if(!["number","string"].includes(typeof l)){return false}if(!i){return false}}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}}else if(e===null||e===void 0){return false}else if(typeof e==="object"){return be(e)}else if(!["number","string","boolean"].includes(typeof e)){return false}return true};var z=function(){function t(){this._propertySet=new Set;this._properties={}}t.prototype.getUserProperties=function(){return m({},this._properties)};t.prototype.set=function(e,r){this._safeSet(D.SET,e,r);return this};t.prototype.setOnce=function(e,r){this._safeSet(D.SET_ONCE,e,r);return this};t.prototype.append=function(e,r){this._safeSet(D.APPEND,e,r);return this};t.prototype.prepend=function(e,r){this._safeSet(D.PREPEND,e,r);return this};t.prototype.postInsert=function(e,r){this._safeSet(D.POSTINSERT,e,r);return this};t.prototype.preInsert=function(e,r){this._safeSet(D.PREINSERT,e,r);return this};t.prototype.remove=function(e,r){this._safeSet(D.REMOVE,e,r);return this};t.prototype.add=function(e,r){this._safeSet(D.ADD,e,r);return this};t.prototype.unset=function(e){this._safeSet(D.UNSET,e,ze);return this};t.prototype.clearAll=function(){this._properties={};this._properties[D.CLEAR_ALL]=ze;return this};t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];if(i===void 0){i={};this._properties[e]=i}i[r]=n;this._propertySet.add(r);return true}return false};t.prototype._validate=function(e,r,n){if(this._properties[D.CLEAR_ALL]!==void 0){return false}if(this._propertySet.has(r)){return false}if(e===D.ADD){return typeof n==="number"}if(e!==D.UNSET&&e!==D.REMOVE){return et(r,n)}return true};return t}();var sr=function(t,e,r){var n=typeof t==="string"?{event_type:t}:t;return m(m(m({},n),r),e&&{event_properties:e})};var fe=function(t,e){var r=m(m({},e),{event_type:X.IDENTIFY,user_properties:t.getUserProperties()});return r};var ur=function(t,e,r,n){var i;var o=m(m({},n),{event_type:X.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o};var cr=function(t,e,r){var n;var i=new z;i.set(t,e);var o=m(m({},r),{event_type:X.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return o};var lr=function(t,e){return m(m({},e),{event_type:X.REVENUE,event_properties:t.getEventProperties()})};var B=function(t){return{promise:t||Promise.resolve()}};var tt=function(){function t(e){if(e===void 0){e="$default"}this.initializing=false;this.q=[];this.dispatchQ=[];this.logEvent=this.track.bind(this);this.timeline=new nr(this);this.name=e}t.prototype._init=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:this.config=e;this.timeline.reset(this);return[4,this.runQueuedFunctions("q")];case 1:r.sent();return[2]}})})};t.prototype.runQueuedFunctions=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a;var l,u;return p(this,function(s){switch(s.label){case 0:r=this[e];this[e]=[];s.label=1;case 1:s.trys.push([1,6,7,8]);n=G(r),i=n.next();s.label=2;case 2:if(!!i.done)return[3,5];o=i.value;return[4,o()];case 3:s.sent();s.label=4;case 4:i=n.next();return[3,2];case 5:return[3,8];case 6:a=s.sent();l={error:a};return[3,8];case 7:try{if(i&&!i.done&&(u=n.return))u.call(n)}finally{if(l)throw l.error}return[7];case 8:return[2]}})})};t.prototype.track=function(e,r,n){var i=sr(e,r,n);return B(this.dispatch(i))};t.prototype.identify=function(e,r){var n=fe(e,r);return B(this.dispatch(n))};t.prototype.groupIdentify=function(e,r,n,i){var o=ur(e,r,n,i);return B(this.dispatch(o))};t.prototype.setGroup=function(e,r,n){var i=cr(e,r,n);return B(this.dispatch(i))};t.prototype.revenue=function(e,r){var n=lr(e,r);return B(this.dispatch(n))};t.prototype.add=function(e){if(!this.config){this.q.push(this.add.bind(this,e));return B()}return B(this.timeline.register(e,this.config))};t.prototype.remove=function(e){if(!this.config){this.q.push(this.remove.bind(this,e));return B()}return B(this.timeline.deregister(e))};t.prototype.dispatchWithCallback=function(e,r){if(!this.config){return r($(e,0,rr))}void this.process(e).then(r)};t.prototype.dispatch=function(e){return f(this,void 0,void 0,function(){var r=this;return p(this,function(n){if(!this.config){return[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]}return[2,this.process(e)]})})};t.prototype.process=function(e){return f(this,void 0,void 0,function(){var i,r,n,i;return p(this,function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);if(this.config.optOut){return[2,$(e,0,Jt)]}return[4,this.timeline.push(e)];case 1:i=o.sent();i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message);return[2,i];case 2:r=o.sent();n=String(r);this.config.loggerProvider.error(n);i=$(e,0,n);return[2,i];case 3:return[2]}})})};t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,Boolean(e)));return}this.config.optOut=Boolean(e)};t.prototype.flush=function(){return B(this.timeline.flush())};return t}();var rt=function(){function t(){this.productId="";this.quantity=1;this.price=0}t.prototype.setProductId=function(e){this.productId=e;return this};t.prototype.setQuantity=function(e){if(e>0){this.quantity=e}return this};t.prototype.setPrice=function(e){this.price=e;return this};t.prototype.setRevenueType=function(e){this.revenueType=e;return this};t.prototype.setRevenue=function(e){this.revenue=e;return this};t.prototype.setEventProperties=function(e){if(be(e)){this.properties=e}return this};t.prototype.getEventProperties=function(){var e=this.properties?m({},this.properties):{};e[W.REVENUE_PRODUCT_ID]=this.productId;e[W.REVENUE_QUANTITY]=this.quantity;e[W.REVENUE_PRICE]=this.price;e[W.REVENUE_TYPE]=this.revenueType;e[W.REVENUE]=this.revenue;return e};return t}();var dr=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,o){var a=Math.floor(o/r);if(!n[a]){n[a]=[]}n[a].push(i);return n},[])};var Ie="Amplitude Logger ";var pe=function(){function t(){this.logLevel=U.None}t.prototype.disable=function(){this.logLevel=U.None};t.prototype.enable=function(e){if(e===void 0){e=U.Warn}this.logLevel=e};t.prototype.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Verbose){return}console.log("".concat(Ie,"[Log]: ").concat(e.join(" ")))};t.prototype.warn=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Warn){return}console.warn("".concat(Ie,"[Warn]: ").concat(e.join(" ")))};t.prototype.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Error){return}console.error("".concat(Ie,"[Error]: ").concat(e.join(" ")))};t.prototype.debug=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Debug){return}console.log("".concat(Ie,"[Debug]: ").concat(e.join(" ")))};return t}();var Se=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:U.Warn,loggerProvider:new pe,offline:false,optOut:false,serverUrl:Je,serverZone:"US",useBatch:false}};var nt=function(){function t(e){var r,n,i,o;this._optOut=false;var a=Se();this.apiKey=e.apiKey;this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis;this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries;this.flushQueueSize=e.flushQueueSize||a.flushQueueSize;this.instanceName=e.instanceName||a.instanceName;this.loggerProvider=e.loggerProvider||a.loggerProvider;this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:a.logLevel;this.minIdLength=e.minIdLength;this.plan=e.plan;this.ingestionMetadata=e.ingestionMetadata;this.offline=e.offline!==void 0?e.offline:a.offline;this.optOut=(i=e.optOut)!==null&&i!==void 0?i:a.optOut;this.serverUrl=e.serverUrl;this.serverZone=e.serverZone||a.serverZone;this.storageProvider=e.storageProvider;this.transportProvider=e.transportProvider;this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:a.useBatch;this.loggerProvider.enable(this.logLevel);var l=it(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=l.serverZone;this.serverUrl=l.serverUrl}Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:false,configurable:true});return t}();var zr=function(t,e){if(t==="EU"){return e?ar:ir}return e?or:Je};var it=function(t,e,r){if(t===void 0){t=""}if(e===void 0){e=Se().serverZone}if(r===void 0){r=Se().useBatch}if(t){return{serverUrl:t,serverZone:void 0}}var n=["US","EU"].includes(e)?e:Se().serverZone;return{serverZone:n,serverUrl:zr(n,r)}};function Zr(t){if(t instanceof Error)return t.message;return String(t)}function Te(t){var e="";try{if("body"in t){e=JSON.stringify(t.body,null,2)}}catch(r){}return e}var ot=function(){function t(){this.name="amplitude";this.type="destination";this.retryTimeout=1e3;this.throttleTimeout=3e4;this.storageKey="";this.scheduled=null;this.queue=[]}t.prototype.setup=function(e){var r;return f(this,void 0,void 0,function(){var n;var i=this;return p(this,function(o){switch(o.label){case 0:this.config=e;this.storageKey="".concat(Ze,"_").concat(this.config.apiKey.substring(0,10));return[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:n=o.sent();this.saveEvents();if(n&&n.length>0){void Promise.all(n.map(function(a){return i.execute(a)})).catch()}return[2,Promise.resolve(void 0)]}})})};t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(o){return n(o)},timeout:0};void r.addToQueue(i)})};t.prototype.addToQueue=function(){var e=this;var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=r.filter(function(o){if(o.attempts<e.config.flushMaxRetries){o.attempts+=1;return true}void e.fulfillRequest([o],500,Zt);return false});i.forEach(function(o){e.queue=e.queue.concat(o);if(o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0;e.schedule(0)},o.timeout)});this.saveEvents()};t.prototype.schedule=function(e){var r=this;if(this.scheduled||this.config.offline){return}this.scheduled=setTimeout(function(){void r.flush(true).then(function(){if(r.queue.length>0){r.schedule(e)}})},e)};t.prototype.flush=function(e){if(e===void 0){e=false}return f(this,void 0,void 0,function(){var r,n,i;var o=this;return p(this,function(a){switch(a.label){case 0:if(this.config.offline){this.config.loggerProvider.debug("Skipping flush while offline.");return[2]}r=[];n=[];this.queue.forEach(function(l){return l.timeout===0?r.push(l):n.push(l)});this.queue=n;if(this.scheduled){clearTimeout(this.scheduled);this.scheduled=null}i=dr(r,this.config.flushQueueSize);return[4,Promise.all(i.map(function(l){return o.send(l,e)}))];case 1:a.sent();return[2]}})})};t.prototype.send=function(e,r){if(r===void 0){r=true}return f(this,void 0,void 0,function(){var n,i,o,a,l;return p(this,function(u){switch(u.label){case 0:if(!this.config.apiKey){return[2,this.fulfillRequest(e,400,er)]}n={api_key:this.config.apiKey,events:e.map(function(s){var c=s.event,d=c.extra,v=de(c,["extra"]);return v}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()};u.label=1;case 1:u.trys.push([1,3,,4]);i=it(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl;return[4,this.config.transportProvider.send(i,n)];case 2:o=u.sent();if(o===null){this.fulfillRequest(e,0,zt);return[2]}if(!r){if("body"in o){this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Te(o)))}else{this.fulfillRequest(e,o.statusCode,o.status)}return[2]}this.handleResponse(o,e);return[3,4];case 3:a=u.sent();l=Zr(a);this.config.loggerProvider.error(l);this.fulfillRequest(e,0,l);return[3,4];case 4:return[2]}})})};t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case P.Success:{this.handleSuccessResponse(e,r);break}case P.Invalid:{this.handleInvalidResponse(e,r);break}case P.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case P.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(n,"' provided for ").concat(r.length,' events"}'));this.handleOtherResponse(r);break}}};t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Xt)};t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(tr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=q(q(q(q([],x(Object.values(e.body.eventsWithInvalidFields)),false),x(Object.values(e.body.eventsWithMissingFields)),false),x(Object.values(e.body.eventsWithInvalidIdLengths)),false),x(e.body.silencedEvents),false).flat();var o=new Set(i);var a=r.filter(function(l,u){if(o.has(u)){n.fulfillRequest([l],e.statusCode,e.body.error);return}return true});if(a.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(a),false))};t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Te(e));this.config.flushQueueSize/=2;this.addToQueue.apply(this,q([],x(r),false))};t.prototype.handleRateLimitResponse=function(e,r){var n=this;var i=Object.keys(e.body.exceededDailyQuotaUsers);var o=Object.keys(e.body.exceededDailyQuotaDevices);var a=e.body.throttledEvents;var l=new Set(i);var u=new Set(o);var s=new Set(a);var c=r.filter(function(d,v){if(d.event.user_id&&l.has(d.event.user_id)||d.event.device_id&&u.has(d.event.device_id)){n.fulfillRequest([d],e.statusCode,e.body.error);return}if(s.has(v)){d.timeout=n.throttleTimeout}return true});if(c.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(c),false))};t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,q([],x(e.map(function(n){n.timeout=n.attempts*r.retryTimeout;return n})),false))};t.prototype.fulfillRequest=function(e,r,n){this.saveEvents();e.forEach(function(i){return i.callback($(i.event,r,n))})};t.prototype.saveEvents=function(){if(!this.config.storageProvider){return}var e=Array.from(this.queue.map(function(r){return r.event}));void this.config.storageProvider.set(this.storageKey,e)};return t}();var Jr=function(t){if(t===void 0){t=0}var e=new Error().stack||"";return e.split("\\n").slice(2+t).map(function(r){return r.trim()})};var R=function(t){return function(){var e=m({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}};var en=function(t,e){var r,n;e=e.replace(/\\[(\\w+)\\]/g,".$1");e=e.replace(/^\\./,"");try{for(var i=G(e.split(".")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a in t){t=t[a]}else{return}}}catch(l){r={error:l}}finally{try{if(o&&!o.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}return t};var A=function(t,e){return function(){var r,n;var i={};try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;i[l]=en(t,l)}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}return i}};var C=function(t,e,r,n,i){if(i===void 0){i=null}return function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}var l=r(),u=l.logger,s=l.logLevel;if(s&&s<U.Debug||!s||!u){return t.apply(i,o)}var c={type:"invoke public method",name:e,args:o,stacktrace:Jr(1),time:{start:new Date().toISOString()},states:{}};if(n&&c.states){c.states.before=n()}var d=t.apply(i,o);if(d&&d.promise){d.promise.then(function(){if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))})}else{if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))}return d}};var we=function(){function t(){this.memoryStorage=new Map}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,true]})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){return[2,this.memoryStorage.get(e)]})})};t.prototype.getRaw=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:r=n.sent();return[2,r?JSON.stringify(r):void 0]}})})};t.prototype.set=function(e,r){return f(this,void 0,void 0,function(){return p(this,function(n){this.memoryStorage.set(e,r);return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){this.memoryStorage.delete(e);return[2]})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){this.memoryStorage.clear();return[2]})})};return t}();var ne=function(){function t(){}t.prototype.send=function(e,r){return Promise.resolve(null)};t.prototype.buildResponse=function(e){var r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,O,F,T,w;if(typeof e!=="object"){return null}var k=e.code||0;var M=this.buildStatus(k);switch(M){case P.Success:return{status:M,statusCode:k,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case P.Invalid:return{status:M,statusCode:k,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(s=e.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(v=e.silenced_devices)!==null&&v!==void 0?v:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(h=e.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(E=e.throttled_events)!==null&&E!==void 0?E:[]}};case P.PayloadTooLarge:return{status:M,statusCode:k,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case P.RateLimit:return{status:M,statusCode:k,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(S=e.eps_threshold)!==null&&S!==void 0?S:0,throttledDevices:(I=e.throttled_devices)!==null&&I!==void 0?I:{},throttledUsers:(O=e.throttled_users)!==null&&O!==void 0?O:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(T=e.exceeded_daily_quota_users)!==null&&T!==void 0?T:{},throttledEvents:(w=e.throttled_events)!==null&&w!==void 0?w:[]}};case P.Timeout:default:return{status:M,statusCode:k}}};t.prototype.buildStatus=function(e){if(e>=200&&e<300){return P.Success}if(e===429){return P.RateLimit}if(e===413){return P.PayloadTooLarge}if(e===408){return P.Timeout}if(e>=400&&e<500){return P.Invalid}if(e>=500){return P.Failed}return P.Unknown};return t}();var N=function(){if(typeof globalThis!=="undefined"){return globalThis}if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return void 0};var se=function(){var t;var e=N();if(!((t=e===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.search)){return{}}var r=e.location.search.substring(1).split("&").filter(Boolean);var n=r.reduce(function(i,o){var a=o.split("=",2);var l=fr(a[0]);var u=fr(a[1]);if(!u){return i}i[l]=u;return i},{});return n};var fr=function(t){if(t===void 0){t=""}try{return decodeURIComponent(t)}catch(e){return""}};var pr="utm_campaign";var vr="utm_content";var hr="utm_id";var gr="utm_medium";var mr="utm_source";var yr="utm_term";var at="dclid";var st="fbclid";var ut="gbraid";var ct="gclid";var lt="ko_click_id";var dt="li_fat_id";var ft="msclkid";var pt="rtd_cid";var vt="ttclid";var ht="twclid";var gt="wbraid";var ie={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var ve=function(){function t(){}t.prototype.parse=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,m(m(m(m({},ie),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})};t.prototype.getUtmParam=function(){var e=se();var r=e[pr];var n=e[vr];var i=e[hr];var o=e[gr];var a=e[mr];var l=e[yr];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:a,utm_term:l}};t.prototype.getReferrer=function(){var e,r;var n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0;n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch(i){}return n};t.prototype.getClickIds=function(){var e;var r=se();return e={},e[at]=r[at],e[st]=r[st],e[ut]=r[ut],e[ct]=r[ct],e[lt]=r[lt],e[dt]=r[dt],e[ft]=r[ft],e[pt]=r[pt],e[vt]=r[vt],e[ht]=r[ht],e[gt]=r[gt],e};return t}();var xe=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var mt=function(t){return"".concat(re.toLowerCase(),"_").concat(t.substring(0,6))};var he=function(t,e){if(e===void 0){e=Date.now()}var r=Date.now();var n=r-e;return n>t};var ge=function(){function t(e){this.options=m({},e)}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i;return p(this,function(o){switch(o.label){case 0:if(!N()){return[2,false]}t.testValue=String(Date.now());e=new t(this.options);r="AMP_TEST";o.label=1;case 1:o.trys.push([1,4,5,7]);return[4,e.set(r,t.testValue)];case 2:o.sent();return[4,e.get(r)];case 3:n=o.sent();return[2,n===t.testValue];case 4:i=o.sent();return[2,false];case 5:return[4,e.remove(r)];case 6:o.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:r=n.sent();if(!r){return[2,void 0]}try{try{r=decodeURIComponent(atob(r))}catch(i){}return[2,JSON.parse(r)]}catch(i){return[2,void 0]}return[2]}})})};t.prototype.getRaw=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){i=N();o=(n=(r=i===null||i===void 0?void 0:i.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[];a=o.find(function(u){return u.indexOf(e+"=")===0});if(!a){return[2,void 0]}return[2,a.substring(e.length+1)]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){var i,o,a,l,u,s;return p(this,function(c){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0;o=r!==null?i:-1;a=void 0;if(o){l=new Date;l.setTime(l.getTime()+o*24*60*60*1e3);a=l}u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r))));if(a){u+="; expires=".concat(a.toUTCString())}u+="; path=/";if(this.options.domain){u+="; domain=".concat(this.options.domain)}if(this.options.secure){u+="; Secure"}if(this.options.sameSite){u+="; SameSite=".concat(this.options.sameSite)}s=N();if(s){s.document.cookie=u}}catch(d){}return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:r.sent();return[2]}})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2]})})};return t}();var yt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){switch(l.label){case 0:if(typeof fetch==="undefined"){throw new Error("FetchTransport is not supported")}i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"};return[4,fetch(r,i)];case 1:o=l.sent();return[4,o.json()];case 2:a=l.sent();return[2,this.buildResponse(a)]}})})};return e}(ne);var tn=function(){function t(){}t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:rn(),platform:"Web",os:void 0,deviceModel:void 0}};return t}();var rn=function(){return typeof navigator!=="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""};var nn=function(){function t(){this.queue=[]}t.prototype.logEvent=function(e){if(!this.receiver){if(this.queue.length<512){this.queue.push(e)}}else{this.receiver(e)}};t.prototype.setEventReceiver=function(e){this.receiver=e;if(this.queue.length>0){this.queue.forEach(function(r){e(r)});this.queue=[]}};return t}();var Z=function(){Z=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return Z.apply(this,arguments)};var Pe=function(t,e){var r=["string","number","boolean","undefined"];var n=typeof t;var i=typeof e;if(n!==i){return false}for(var o=0,a=r;o<a.length;o++){var l=a[o];if(l===n){return t===e}}if(t==null&&e==null){return true}else if(t==null||e==null){return false}if(t.length!==e.length){return false}var u=Array.isArray(t);var s=Array.isArray(e);if(u!==s){return false}if(u&&s){for(var c=0;c<t.length;c++){if(!Pe(t[c],e[c])){return false}}}else{var d=Object.keys(t).sort();var v=Object.keys(e).sort();if(!Pe(d,v)){return false}var y=true;Object.keys(t).forEach(function(h){if(!Pe(t[h],e[h])){y=false}});return y}return true};var on="$set";var an="$unset";var sn="$clearAll";if(!Object.entries){Object.entries=function(t){var e=Object.keys(t);var r=e.length;var n=new Array(r);while(r--){n[r]=[e[r],t[e[r]]]}return n}}var un=function(){function t(){this.identity={userProperties:{}};this.listeners=new Set}t.prototype.editIdentity=function(){var e=this;var r=Z({},this.identity.userProperties);var n=Z(Z({},this.identity),{userProperties:r});return{setUserId:function(i){n.userId=i;return this},setDeviceId:function(i){n.deviceId=i;return this},setUserProperties:function(i){n.userProperties=i;return this},setOptOut:function(i){n.optOut=i;return this},updateUserProperties:function(i){var o=n.userProperties||{};for(var a=0,l=Object.entries(i);a<l.length;a++){var u=l[a],s=u[0],c=u[1];switch(s){case on:for(var d=0,v=Object.entries(c);d<v.length;d++){var y=v[d],h=y[0],E=y[1];o[h]=E}break;case an:for(var g=0,_=Object.keys(c);g<_.length;g++){var h=_[g];delete o[h]}break;case sn:o={};break}}n.userProperties=o;return this},commit:function(){e.setIdentity(n);return this}}};t.prototype.getIdentity=function(){return Z({},this.identity)};t.prototype.setIdentity=function(e){var r=Z({},this.identity);this.identity=Z({},e);if(!Pe(r,this.identity)){this.listeners.forEach(function(n){n(e)})}};t.prototype.addIdentityListener=function(e){this.listeners.add(e)};t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)};return t}();var me=typeof globalThis!=="undefined"?globalThis:typeof global!=="undefined"?global:self;var _r=function(){function t(){this.identityStore=new un;this.eventBridge=new nn;this.applicationContextProvider=new tn}t.getInstance=function(e){if(!me["analyticsConnectorInstances"]){me["analyticsConnectorInstances"]={}}if(!me["analyticsConnectorInstances"][e]){me["analyticsConnectorInstances"][e]=new t}return me["analyticsConnectorInstances"][e]};return t}();var J=function(t){if(t===void 0){t="$default_instance"}return _r.getInstance(t)};var _t=function(t,e){J(e).identityStore.editIdentity().setUserId(t).commit()};var Et=function(t,e){J(e).identityStore.editIdentity().setDeviceId(t).commit()};var bt=function(){function t(){this.name="identity";this.type="before";this.identityStore=J().identityStore}t.prototype.execute=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){r=e.user_properties;if(r){this.identityStore.editIdentity().updateUserProperties(r).commit()}return[2,e]})})};t.prototype.setup=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){if(e.instanceName){this.identityStore=J(e.instanceName).identityStore}return[2]})})};return t}();var It=function(){var t,e,r,n;if(typeof navigator==="undefined")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""};var ye=function(t,e){if(typeof t==="boolean"){return t}if((t===null||t===void 0?void 0:t[e])===false){return false}return true};var Re=function(t){return ye(t,"attribution")};var St=function(t){return ye(t,"fileDownloads")};var Tt=function(t){return ye(t,"formInteractions")};var Ae=function(t){return ye(t,"pageViews")};var wt=function(t){return ye(t,"sessions")};var xt=function(t){var e=function(){return false};var r=void 0;var n;var i=t.pageCounter;var o=Ae(t.defaultTracking);if(o){e=void 0;n=void 0;if(t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews==="object"){if("trackOn"in t.defaultTracking.pageViews){e=t.defaultTracking.pageViews.trackOn}if("trackHistoryChanges"in t.defaultTracking.pageViews){r=t.defaultTracking.pageViews.trackHistoryChanges}if("eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType){n=t.defaultTracking.pageViews.eventType}}}return{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:i}};var Pt=function(t){if(Re(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution==="object"){return m({},t.defaultTracking.attribution)}return{}};var Ce=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,o=n.args,a=n.resolve;var l=t&&t[i];if(typeof l==="function"){var u=l.apply(t,o);if(typeof a==="function"){a(u===null||u===void 0?void 0:u.promise)}}}return t};var De=function(t){var e=t;return e&&e._q!==void 0};var Er="2.5.2";var cn="Web";var ln="$remote";var br=function(){function t(){this.name="@amplitude/plugin-context-browser";this.type="before";this.library="amplitude-ts/".concat(Er);if(typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}}t.prototype.setup=function(e){this.config=e;return Promise.resolve(void 0)};t.prototype.execute=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a,l;return p(this,function(u){i=new Date().getTime();o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;a=(n=e.event_id)!==null&&n!==void 0?n:o+1;this.config.lastEventId=a;if(!e.time){this.config.lastEventTime=i}l=m(m(m(m(m(m(m(m({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:cn}),this.config.trackingOptions.language&&{language:It()}),this.config.trackingOptions.ipAddress&&{ip:ln}),{insert_id:K(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent});return[2,l]})})};return t}();var Le=function(){function t(e){this.storage=e}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i,o;return p(this,function(a){switch(a.label){case 0:if(!this.storage){return[2,false]}e=String(Date.now());r=new t(this.storage);n="AMP_TEST";a.label=1;case 1:a.trys.push([1,4,5,7]);return[4,r.set(n,e)];case 2:a.sent();return[4,r.get(n)];case 3:i=a.sent();return[2,i===e];case 4:o=a.sent();return[2,false];case 5:return[4,r.remove(n)];case 6:a.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r,n;return p(this,function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,this.getRaw(e)];case 1:r=i.sent();if(!r){return[2,void 0]}return[2,JSON.parse(r)];case 2:n=i.sent();console.error("[Amplitude] Error: Could not get value from storage");return[2,void 0];case 3:return[2]}})})};t.prototype.getRaw=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){return p(this,function(i){try{(n=this.storage)===null||n===void 0?void 0:n.setItem(e,JSON.stringify(r))}catch(o){}return[2]})})};t.prototype.remove=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){try{(r=this.storage)===null||r===void 0?void 0:r.removeItem(e)}catch(i){}return[2]})})};t.prototype.reset=function(){var e;return f(this,void 0,void 0,function(){return p(this,function(r){try{(e=this.storage)===null||e===void 0?void 0:e.clear()}catch(n){}return[2]})})};return t}();var Oe=1e3;var Rt=function(t){V(e,t);function e(r){var n=this;var i;n=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this;n.loggerProvider=r===null||r===void 0?void 0:r.loggerProvider;return n}e.prototype.set=function(r,n){var i;return f(this,void 0,void 0,function(){var o;return p(this,function(a){switch(a.label){case 0:if(!(Array.isArray(n)&&n.length>Oe))return[3,2];o=n.length-Oe;return[4,t.prototype.set.call(this,r,n.slice(0,Oe))];case 1:a.sent();(i=this.loggerProvider)===null||i===void 0?void 0:i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Oe,"."));return[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:a.sent();a.label=4;case 4:return[2]}})})};return e}(Le);var Ir=function(t){V(e,t);function e(){var r;return t.call(this,(r=N())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(Le);var Sr=function(t){V(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.state={done:4};return r}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){if(typeof XMLHttpRequest==="undefined"){l(new Error("XHRTransport is not supported."))}var u=new XMLHttpRequest;u.open("POST",r,true);u.onreadystatechange=function(){if(u.readyState===i.state.done){try{var s=u.responseText;var c=JSON.parse(s);var d=i.buildResponse(c);a(d)}catch(v){l(v)}}};u.setRequestHeader("Content-Type","application/json");u.setRequestHeader("Accept","*/*");u.send(JSON.stringify(n))})]})})};return e}(ne);var Tr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){var u=N();if(!(u===null||u===void 0?void 0:u.navigator.sendBeacon)){throw new Error("SendBeaconTransport is not supported")}try{var s=JSON.stringify(n);var c=u.navigator.sendBeacon(r,JSON.stringify(n));if(c){return a(i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}))}return a(i.buildResponse({code:500}))}catch(d){l(d)}})]})})};return e}(ne);var wr=function(t,e,r){if(r===void 0){r=true}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d;return p(this,function(v){switch(v.label){case 0:n=mt(t);return[4,e.getRaw(n)];case 1:i=v.sent();if(!i){return[2,{optOut:false}]}if(!r)return[3,3];return[4,e.remove(n)];case 2:v.sent();v.label=3;case 3:o=x(i.split("."),6),a=o[0],l=o[1],u=o[2],s=o[3],c=o[4],d=o[5];return[2,{deviceId:a,userId:dn(l),sessionId:At(s),lastEventId:At(d),lastEventTime:At(c),optOut:Boolean(u)}]}})})};var At=function(t){var e=parseInt(t,32);if(isNaN(e)){return void 0}return e};var dn=function(t){if(!atob||!escape||!t){return void 0}try{return decodeURIComponent(escape(atob(t)))}catch(e){return void 0}};var j="[Amplitude]";var pa="".concat(j," Page Viewed");var Ct="".concat(j," Form Started");var xr="".concat(j," Form Submitted");var Pr="".concat(j," File Downloaded");var Dt="session_start";var Lt="session_end";var Rr="".concat(j," File Extension");var Ar="".concat(j," File Name");var Cr="".concat(j," Link ID");var Dr="".concat(j," Link Text");var Lr="".concat(j," Link URL");var ke="".concat(j," Form ID");var Ue="".concat(j," Form Name");var Ne="".concat(j," Form Destination");var _e="cookie";var Or="US";var fn=function(t){V(e,t);function e(r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,O,F,T,w,k,M,Q,H,ee,Y,te,ce,le){if(i===void 0){i=new we}if(o===void 0){o={domain:"",expiration:365,sameSite:"Lax",secure:false,upgrade:true}}if(u===void 0){u=1e3}if(s===void 0){s=5}if(c===void 0){c=30}if(d===void 0){d=_e}if(g===void 0){g=new pe}if(_===void 0){_=U.Warn}if(I===void 0){I=false}if(O===void 0){O=false}if(w===void 0){w=""}if(k===void 0){k=Or}if(Q===void 0){Q=30*60*1e3}if(H===void 0){H=new Rt({loggerProvider:g})}if(ee===void 0){ee={ipAddress:true,language:true,platform:true}}if(Y===void 0){Y="fetch"}if(te===void 0){te=false}var b=t.call(this,{apiKey:r,storageProvider:H,transportProvider:Ot(Y)})||this;b.apiKey=r;b.appVersion=n;b.cookieOptions=o;b.defaultTracking=a;b.flushIntervalMillis=u;b.flushMaxRetries=s;b.flushQueueSize=c;b.identityStorage=d;b.ingestionMetadata=v;b.instanceName=y;b.loggerProvider=g;b.logLevel=_;b.minIdLength=S;b.offline=I;b.partnerId=F;b.plan=T;b.serverUrl=w;b.serverZone=k;b.sessionTimeout=Q;b.storageProvider=H;b.trackingOptions=ee;b.transport=Y;b.useBatch=te;b._optOut=false;b._cookieStorage=i;b.deviceId=l;b.lastEventId=h;b.lastEventTime=E;b.optOut=O;b.sessionId=M;b.pageCounter=le;b.userId=ce;b.loggerProvider.enable(b.logLevel);return b}Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){if(this._cookieStorage!==r){this._cookieStorage=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){if(this._deviceId!==r){this._deviceId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){if(this._userId!==r){this._userId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){if(this._sessionId!==r){this._sessionId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){if(this._optOut!==r){this._optOut=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){if(this._lastEventTime!==r){this._lastEventTime=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){if(this._lastEventId!==r){this._lastEventId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){if(this._pageCounter!==r){this._pageCounter=r;this.updateStorage()}},enumerable:false,configurable:true});e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};void this.cookieStorage.set(xe(this.apiKey),r)};return e}(nt);var kr=function(t,e,r){if(e===void 0){e={}}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S;var I;var O,F,T,w,k,M,Q,H,ee,Y,te,ce,le,b,Me,Fe,Ve,Be,qe,je,Ge,Ke,Qe;return p(this,function(ae){switch(ae.label){case 0:n=e.identityStorage||_e;I={};if(!(n!==_e))return[3,1];o="";return[3,5];case 1:if(!((F=(O=e.cookieOptions)===null||O===void 0?void 0:O.domain)!==null&&F!==void 0))return[3,2];a=F;return[3,4];case 2:return[4,vn()];case 3:a=ae.sent();ae.label=4;case 4:o=a;ae.label=5;case 5:i=m.apply(void 0,[(I.domain=o,I.expiration=365,I.sameSite="Lax",I.secure=false,I.upgrade=true,I),e.cookieOptions]);l=pn(e.identityStorage,i);return[4,wr(t,l,(w=(T=e.cookieOptions)===null||T===void 0?void 0:T.upgrade)!==null&&w!==void 0?w:true)];case 6:u=ae.sent();return[4,l.get(xe(t))];case 7:s=ae.sent();c=se();d=(H=(Q=(M=(k=e.deviceId)!==null&&k!==void 0?k:c.deviceId)!==null&&M!==void 0?M:s===null||s===void 0?void 0:s.deviceId)!==null&&Q!==void 0?Q:u.deviceId)!==null&&H!==void 0?H:K();v=(ee=s===null||s===void 0?void 0:s.lastEventId)!==null&&ee!==void 0?ee:u.lastEventId;y=(Y=s===null||s===void 0?void 0:s.lastEventTime)!==null&&Y!==void 0?Y:u.lastEventTime;h=(ce=(te=e.optOut)!==null&&te!==void 0?te:s===null||s===void 0?void 0:s.optOut)!==null&&ce!==void 0?ce:u.optOut;E=(le=s===null||s===void 0?void 0:s.sessionId)!==null&&le!==void 0?le:u.sessionId;g=(Me=(b=e.userId)!==null&&b!==void 0?b:s===null||s===void 0?void 0:s.userId)!==null&&Me!==void 0?Me:u.userId;r.previousSessionDeviceId=(Fe=s===null||s===void 0?void 0:s.deviceId)!==null&&Fe!==void 0?Fe:u.deviceId;r.previousSessionUserId=(Ve=s===null||s===void 0?void 0:s.userId)!==null&&Ve!==void 0?Ve:u.userId;_={ipAddress:(qe=(Be=e.trackingOptions)===null||Be===void 0?void 0:Be.ipAddress)!==null&&qe!==void 0?qe:true,language:(Ge=(je=e.trackingOptions)===null||je===void 0?void 0:je.language)!==null&&Ge!==void 0?Ge:true,platform:(Qe=(Ke=e.trackingOptions)===null||Ke===void 0?void 0:Ke.platform)!==null&&Qe!==void 0?Qe:true};S=s===null||s===void 0?void 0:s.pageCounter;return[2,new fn(t,e.appVersion,l,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,v,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,h,e.partnerId,e.plan,e.serverUrl,e.serverZone,E,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,g,S)]}})})};var pn=function(t,e){if(t===void 0){t=_e}if(e===void 0){e={}}switch(t){case"localStorage":return new Rt;case"sessionStorage":return new Ir;case"none":return new we;case"cookie":default:return new ge(m(m({},e),{expirationDays:e.expiration}))}};var Ot=function(t){if(t==="xhr"){return new Sr}if(t==="beacon"){return new Tr}return new yt};var vn=function(t){return f(void 0,void 0,void 0,function(){var e,r,n,i,o,o,a,l,u,s;return p(this,function(c){switch(c.label){case 0:return[4,new ge().isEnabled()];case 1:if(!c.sent()||!t&&typeof location==="undefined"){return[2,""]}e=t!==null&&t!==void 0?t:location.hostname;r=e.split(".");n=[];i="AMP_TLDTEST";for(o=r.length-2;o>=0;--o){n.push(r.slice(o).join("."))}o=0;c.label=2;case 2:if(!(o<n.length))return[3,7];a=n[o];l={domain:"."+a};u=new ge(l);return[4,u.set(i,1)];case 3:c.sent();return[4,u.get(i)];case 4:s=c.sent();if(!s)return[3,6];return[4,u.remove(i)];case 5:c.sent();return[2,"."+a];case 6:o++;return[3,2];case 7:return[2,""]}})})};var Nr=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var Ur=function(t){var e=t.split(".");if(e.length<=2){return t}return e.slice(e.length-2,e.length).join(".")};var hn=function(t){return Object.values(t).every(function(e){return!e})};var Mr=function(t,e,r,n){if(n===void 0){n=true}var i=t.referrer,o=t.referring_domain,a=de(t,["referrer","referring_domain"]);var l=e||{},u=l.referrer,s=l.referring_domain,c=de(l,["referrer","referring_domain"]);if(gn(r.excludeReferrers,t.referring_domain)){return false}if(!n&&hn(t)&&e){return false}var d=JSON.stringify(a)!==JSON.stringify(c);var v=Ur(o||"")!==Ur(s||"");return!e||d||v};var gn=function(t,e){if(t===void 0){t=[]}if(e===void 0){e=""}return t.some(function(r){return r instanceof RegExp?r.test(e):r===e})};var Fr=function(t,e){var r=m(m({},ie),t);var n=Object.entries(r).reduce(function(i,o){var a;var l=x(o,2),u=l[0],s=l[1];i.setOnce("initial_".concat(u),(a=s!==null&&s!==void 0?s:e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY");if(s){return i.set(u,s)}return i.unset(u)},new z);return fe(n)};var Vr=function(t){var e=t;if(e){if(e.startsWith(".")){e=e.substring(1)}return[new RegExp("".concat(e.replace(".","\\\\."),"$"))]}return[]};var kt=function(t){var e=this;if(t===void 0){t={}}var r={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(n,i){var o;return f(this,void 0,void 0,function(){var a,l,u,s,c,d,v,y;return p(this,function(h){switch(h.label){case 0:a=m({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:false,excludeReferrers:Vr((o=n.cookieOptions)===null||o===void 0?void 0:o.domain)},t);n.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser.");l=n.cookieStorage;u=Nr(n.apiKey,"MKTG");return[4,Promise.all([new ve().parse(),l.get(u)])];case 1:s=x.apply(void 0,[h.sent(),2]),c=s[0],d=s[1];v=he(n.sessionTimeout,n.lastEventTime);if(Mr(c,d,a,v)){if(a.resetSessionOnNewCampaign){i.setSessionId(Date.now());n.loggerProvider.log("Created a new session for new campaign.")}n.loggerProvider.log("Tracking attribution.");y=Fr(c,a);i.track(y);void l.set(u,c)}return[2]}})})},execute:function(n){return f(e,void 0,void 0,function(){return p(this,function(i){return[2,n]})})}};return r};var Br=function(t){var e={};for(var r in t){var n=t[r];if(n){e[r]=n}}return e};var Ut=function(t){if(t===void 0){t={}}var e;var r=N();var n=void 0;var i;var o;var a=function(){return f(void 0,void 0,void 0,function(){var v;var y;var h;return p(this,function(E){switch(E.label){case 0:o.pageCounter=!o.pageCounter?1:o.pageCounter+1;y={event_type:(h=t.eventType)!==null&&h!==void 0?h:"[Amplitude] Page Viewed"};v=[{}];return[4,mn()];case 1:return[2,(y.event_properties=m.apply(void 0,[m.apply(void 0,v.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location!=="undefined"&&location.hostname||"","[Amplitude] Page Location":typeof location!=="undefined"&&location.href||"","[Amplitude] Page Path":typeof location!=="undefined"&&location.pathname||"","[Amplitude] Page Title":typeof document!=="undefined"&&document.title||"","[Amplitude] Page URL":typeof location!=="undefined"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})};var l=function(){return typeof t.trackOn==="undefined"||typeof t.trackOn==="function"&&t.trackOn()};var u=typeof location!=="undefined"?location.href:null;var s=function(){return f(void 0,void 0,void 0,function(){var v,y,h,E,g;return p(this,function(_){switch(_.label){case 0:v=location.href;y=_n(t.trackHistoryChanges,v,u||"")&&l();u=v;if(!y)return[3,4];n===null||n===void 0?void 0:n.log("Tracking page view event");if(!(e===null||e===void 0))return[3,1];h=void 0;return[3,3];case 1:g=(E=e).track;return[4,a()];case 2:h=g.apply(E,[_.sent()]);_.label=3;case 3:h;_.label=4;case 4:return[2]}})})};var c=function(){void s()};var d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(v,y){return f(void 0,void 0,void 0,function(){var h,E;return p(this,function(g){switch(g.label){case 0:e=y;o=v;n=v.loggerProvider;n.log("Installing @amplitude/plugin-page-view-tracking-browser");if(r){r.addEventListener("popstate",c);i=r.history.pushState;r.history.pushState=new Proxy(r.history.pushState,{apply:function(_,S,I){var O=x(I,3),F=O[0],T=O[1],w=O[2];_.apply(S,[F,T,w]);void s()}})}if(!l())return[3,2];n.log("Tracking page view event");E=(h=e).track;return[4,a()];case 1:E.apply(h,[g.sent()]);g.label=2;case 2:return[2]}})})},execute:function(v){return f(void 0,void 0,void 0,function(){var y;return p(this,function(h){switch(h.label){case 0:if(!(t.trackOn==="attribution"&&yn(v)))return[3,2];n===null||n===void 0?void 0:n.log("Enriching campaign event to page view event with campaign parameters");return[4,a()];case 1:y=h.sent();v.event_type=y.event_type;v.event_properties=m(m({},v.event_properties),y.event_properties);h.label=2;case 2:return[2,v]}})})},teardown:function(){return f(void 0,void 0,void 0,function(){return p(this,function(v){if(r){r.removeEventListener("popstate",c);if(i){r.history.pushState=i}}return[2]})})}};return d};var mn=function(){return f(void 0,void 0,void 0,function(){var t;return p(this,function(e){switch(e.label){case 0:t=Br;return[4,new ve().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})};var yn=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties;var r=e[D.SET]||{};var n=e[D.UNSET]||{};var i=q(q([],x(Object.keys(r)),false),x(Object.keys(n)),false);return Object.keys(ie).every(function(o){return i.includes(o)})}return false};var _n=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var qr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-form-interaction-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v;return p(this,function(y){if(!c){s.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(h){var E=false;r(h,"change",function(){var g;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}E=true});r(h,"submit",function(){var g,_;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}c.track(xr,(_={},_[ke]=ue(h.id),_[Ue]=ue(h.name),_[Ne]=h.action,_));E=false})};v=Array.from(document.getElementsByTagName("form"));v.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(h){h.forEach(function(E){E.addedNodes.forEach(function(g){if(g.nodeName==="FORM"){d(g)}if("querySelectorAll"in g&&typeof g.querySelectorAll==="function"){Array.from(g.querySelectorAll("form")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var ue=function(t){if(typeof t!=="string"){return void 0}return t};var jr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-file-download-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v,y;return p(this,function(h){if(!c){s.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(E){var g;try{g=new URL(E.href,window.location.href)}catch(I){return}var _=v.exec(g.href);var S=_===null||_===void 0?void 0:_[1];if(S){r(E,"click",function(){var I;if(S){c.track(Pr,(I={},I[Rr]=S,I[Ar]=g.pathname,I[Cr]=E.id,I[Dr]=E.text,I[Lr]=E.href,I))}})}};v=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;y=Array.from(document.getElementsByTagName("a"));y.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(E){E.forEach(function(g){g.addedNodes.forEach(function(_){if(_.nodeName==="A"){d(_)}if("querySelectorAll"in _&&typeof _.querySelectorAll==="function"){Array.from(_.querySelectorAll("a")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var Gr=false;var Kr=function(t){if(Gr||t.defaultTracking!==void 0){return}var e="\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\\n\\namplitude.init(<YOUR_API_KEY>, {\\n  defaultTracking: true,\\n});\\n\\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.";t.loggerProvider.warn(e);Gr=true};var Qr=function(){var t="@amplitude/plugin-network-checker-browser";var e="before";var r=N();var n=[];var i=function(u,s){if(r){r.addEventListener(u,s);n.push({type:u,handler:s})}};var o=function(){n.forEach(function(u){var s=u.type,c=u.handler;if(r){r.removeEventListener(s,c)}});n=[]};var a=function(u,s){return f(void 0,void 0,void 0,function(){return p(this,function(c){u.offline=!navigator.onLine;i("online",function(){u.loggerProvider.debug("Network connectivity changed to online.");u.offline=false;setTimeout(function(){s.flush()},u.flushIntervalMillis)});i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline.");u.offline=true});return[2]})})};var l=function(){return f(void 0,void 0,void 0,function(){return p(this,function(u){o();return[2]})})};return{name:t,type:e,setup:a,teardown:l}};var Wr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(r,n,i){if(r===void 0){r=""}var o;var a;if(arguments.length>2){o=n;a=i}else{if(typeof n==="string"){o=n;a=void 0}else{o=n===null||n===void 0?void 0:n.userId;a=n}}return B(this._init(m(m({},a),{userId:o,apiKey:r})))};e.prototype._init=function(r){var n,i;return f(this,void 0,void 0,function(){var o,a,l,u;var s=this;return p(this,function(c){switch(c.label){case 0:if(this.initializing){return[2]}this.initializing=true;return[4,kr(r.apiKey,r,this)];case 1:o=c.sent();return[4,t.prototype._init.call(this,o)];case 2:c.sent();this.setSessionId((i=(n=r.sessionId)!==null&&n!==void 0?n:this.config.sessionId)!==null&&i!==void 0?i:Date.now());a=J(r.instanceName);a.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId});if(!(this.config.offline!==Xe))return[3,4];return[4,this.add(Qr()).promise];case 3:c.sent();c.label=4;case 4:return[4,this.add(new ot).promise];case 5:c.sent();return[4,this.add(new br).promise];case 6:c.sent();return[4,this.add(new bt).promise];case 7:c.sent();Kr(this.config);if(!St(this.config.defaultTracking))return[3,9];return[4,this.add(jr()).promise];case 8:c.sent();c.label=9;case 9:if(!Tt(this.config.defaultTracking))return[3,11];return[4,this.add(qr()).promise];case 10:c.sent();c.label=11;case 11:if(!Re(this.config.defaultTracking))return[3,13];l=Pt(this.config);u=kt(l);return[4,this.add(u).promise];case 12:c.sent();c.label=13;case 13:if(!Ae(this.config.defaultTracking))return[3,15];return[4,this.add(Ut(xt(this.config))).promise];case 14:c.sent();c.label=15;case 15:this.initializing=false;return[4,this.runQueuedFunctions("dispatchQ")];case 16:c.sent();a.eventBridge.setEventReceiver(function(d){void s.track(d.eventType,d.eventProperties)});return[2]}})})};e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId};e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}if(r!==this.config.userId||r===void 0){this.config.userId=r;_t(r,this.config.instanceName)}};e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId};e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r;Et(r,this.config.instanceName)};e.prototype.reset=function(){this.setDeviceId(K());this.setUserId(void 0)};e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId};e.prototype.setSessionId=function(r){var n;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r===this.config.sessionId){return}var i=this.getSessionId();var o=this.config.lastEventTime;var a=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r;this.config.lastEventTime=void 0;this.config.pageCounter=0;if(wt(this.config.defaultTracking)){if(i&&o){this.track(Lt,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:i,time:o+1,user_id:this.previousSessionUserId})}this.config.lastEventTime=this.config.sessionId;this.track(Dt,void 0,{event_id:++a,session_id:this.config.sessionId,time:this.config.lastEventTime})}this.previousSessionDeviceId=this.config.deviceId;this.previousSessionUserId=this.config.userId};e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()};e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Ot(r)};e.prototype.identify=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new z,i)}if(n===null||n===void 0?void 0:n.user_id){this.setUserId(n.user_id)}if(n===null||n===void 0?void 0:n.device_id){this.setDeviceId(n.device_id)}return t.prototype.identify.call(this,r,n)};e.prototype.groupIdentify=function(r,n,i,o){if(De(i)){var a=i._q;i._q=[];i=Ce(new z,a)}return t.prototype.groupIdentify.call(this,r,n,i,o)};e.prototype.revenue=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new rt,i)}return t.prototype.revenue.call(this,r,n)};e.prototype.process=function(r){return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){n=Date.now();i=he(this.config.sessionTimeout,this.config.lastEventTime);if(r.event_type!==Dt&&r.event_type!==Lt&&(!r.session_id||r.session_id===this.getSessionId())&&i){this.setSessionId(n)}return[2,t.prototype.process.call(this,r)]})})};return e}(tt);var En=function(){var t=new Wr;return{init:C(t.init.bind(t),"init",R(t),A(t,["config"])),add:C(t.add.bind(t),"add",R(t),A(t,["config.apiKey","timeline.plugins"])),remove:C(t.remove.bind(t),"remove",R(t),A(t,["config.apiKey","timeline.plugins"])),track:C(t.track.bind(t),"track",R(t),A(t,["config.apiKey","timeline.queue.length"])),logEvent:C(t.logEvent.bind(t),"logEvent",R(t),A(t,["config.apiKey","timeline.queue.length"])),identify:C(t.identify.bind(t),"identify",R(t),A(t,["config.apiKey","timeline.queue.length"])),groupIdentify:C(t.groupIdentify.bind(t),"groupIdentify",R(t),A(t,["config.apiKey","timeline.queue.length"])),setGroup:C(t.setGroup.bind(t),"setGroup",R(t),A(t,["config.apiKey","timeline.queue.length"])),revenue:C(t.revenue.bind(t),"revenue",R(t),A(t,["config.apiKey","timeline.queue.length"])),flush:C(t.flush.bind(t),"flush",R(t),A(t,["config.apiKey","timeline.queue.length"])),getUserId:C(t.getUserId.bind(t),"getUserId",R(t),A(t,["config","config.userId"])),setUserId:C(t.setUserId.bind(t),"setUserId",R(t),A(t,["config","config.userId"])),getDeviceId:C(t.getDeviceId.bind(t),"getDeviceId",R(t),A(t,["config","config.deviceId"])),setDeviceId:C(t.setDeviceId.bind(t),"setDeviceId",R(t),A(t,["config","config.deviceId"])),reset:C(t.reset.bind(t),"reset",R(t),A(t,["config","config.userId","config.deviceId"])),getSessionId:C(t.getSessionId.bind(t),"getSessionId",R(t),A(t,["config"])),setSessionId:C(t.setSessionId.bind(t),"setSessionId",R(t),A(t,["config"])),extendSession:C(t.extendSession.bind(t),"extendSession",R(t),A(t,["config"])),setOptOut:C(t.setOptOut.bind(t),"setOptOut",R(t),A(t,["config"])),setTransport:C(t.setTransport.bind(t),"setTransport",R(t),A(t,["config"]))}};var L=En();var bs=L.add;var Is=L.extendSession;var Ss=L.flush;var Ts=L.getDeviceId;var ws=L.getSessionId;var xs=L.getUserId;var Ps=L.groupIdentify;var Rs=L.identify;var As=L.init;var Cs=L.logEvent;var Ds=L.remove;var Ls=L.reset;var Os=L.revenue;var ks=L.setDeviceId;var Nt=L.setGroup;var Us=L.setOptOut;var Ns=L.setSessionId;var Ms=L.setTransport;var Fs=L.setUserId;var oe=L.track;var Mt=(t,e)=>{setTimeout(()=>{const r=Array.from(document.querySelectorAll("section"));for(const n of r){n.setAttribute("aria-hidden",String(n.id!==t))}},e)};var $r=t=>{Mt("success",500);if(t){Tn()}setTimeout(bn,500)};var bn=()=>{const t=document.getElementById("step-update-app");t.className="highlight completed";const e=document.getElementById("step-setup-complete");e.className="highlight active"};var Ee=(t=[])=>{Mt("error",500);const e=document.getElementById("error-messages");e.innerHTML="";for(const r of t){const n=document.createElement("li");n.textContent=r;e.appendChild(n)}document.title=\`Error Connecting\`};var Hr=()=>{Mt("restart-server",500);document.title=\`Restart Dev Server\`};var In=async()=>{const t=new URL(location.href);const e=t.searchParams.get(We);const r=t.searchParams.get(Ft);const n=t.searchParams.get(Vt);const i=t.searchParams.get($e);const o=t.searchParams.get(qt)||"unknown";const a=t.searchParams.get(jt);const l=t.searchParams.get(Gt);const u=t.searchParams.get(Qt)||null;try{console.info(\`framework: \${o}, platform: \${a}, node: \${l}\`);const s=new URL(location.pathname,location.origin);if(r){Nt("organization",r);Nt("space",r)}if(!e){window.history.replaceState({},"",s.href);Ee(["Missing preview url"]);oe("integration failed",{url:s.href,message:"missing preview url",framework:o});return}s.searchParams.set(We,e);s.searchParams.set($e,i);window.history.replaceState({},"",s.href);if(r&&n){let c=0;const d=async()=>{c++;try{const v=await $t(r,n,u);if(v.success){const y=Yr(e,v.pathname,i);oe("site integrated",{url:y,position:o});if(v.modifiedFiles.length>0){const h=document.getElementById("modified-files-list");v.modifiedFiles.forEach(g=>{const _=document.createElement("li");const S=document.createElement("a");S.textContent=g.displayFilePath||g.filePath;S.href=\`~launch#\${g.displayFilePath}\`;S.addEventListener("click",I=>{I.preventDefault();I.stopPropagation();Yt({filePath:g.filePath})});_.appendChild(S);h.appendChild(_)});const E=document.getElementById("modified-files-message");E.removeAttribute("hidden")}if(u!=="vcp"&&(v.platform.os==="win32"||o==="@remix-run/react")){const h=document.getElementById("restart-warning");h.removeAttribute("hidden")}else if(u!=="vcp"&&(o==="react"||o==="@angular/core")){const h=document.getElementById("router-message");h.removeAttribute("hidden");if(o==="@angular/core"){oe("angular framework",{});const I=document.getElementById("angular-message-section");I?.removeAttribute("hidden")}if(o==="react"){oe("react framework",{});const I=document.getElementById("react-message-section");I?.removeAttribute("hidden")}const E=document.getElementById("router-checkbox-div");const g=document.createElement("input");g.type="checkbox";g.id="router-checkbox";const _=document.createElement("label");_.htmlFor="router-checkbox";_.textContent=\`I've updated my router files\`;E.appendChild(g);E.appendChild(_);const S=document.getElementById("router-finish-button");g.addEventListener("change",function(){if(g.checked){S.removeAttribute("hidden")}else{S.setAttribute("hidden","true")}})}else{const h=document.getElementById("go-to-app");h.removeAttribute("hidden");if(u!=="vcp"){const E=h.querySelector("p");if(E){E.removeAttribute("hidden")}const g=h.querySelector("#button-text");if(g){g.textContent="Go to your app"}}}setTimeout(()=>{$r(true)},500)}else{oe("integration failed",{path:v.pathname,message:"error connecting to Khulnasoft.com",position:o});Ee([\`Error connecting to Khulnasoft.com\`])}}catch(v){const y=String(v.message||v);if(y.includes("Fetch Error")){if(c>3){Hr()}setTimeout(d,1e3)}else{Ee([y])}}};d()}else{const c=await Ht();if(c.isValid){Yr(e,c.pathname,i);const d=document.getElementById("go-to-app");d.removeAttribute("hidden");$r(false)}else{Ee([\`Error connecting to Khulnasoft.com\`])}}}catch(s){oe("integration failed",{message:"uncaught error",details:String(s),position:JSON.stringify({framework:o,platform:a,nodeVersion:l})});console.error("integrationFailed",s);const c=String(s);if(c.includes("Fetch Error")){Hr()}else{Ee([c])}}};var Yr=(t,e,r)=>{const n=new URL(e,t);if(r){n.hash=\`\${Bt}=\${r}\`}const i=document.querySelectorAll(".next-step");for(const o of i){o.setAttribute("href",n.href)}console.debug("App Url",n.href);return n.href};var Sn=()=>{return new Promise((t,e)=>{if(globalThis.confetti){return t(globalThis.confetti)}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js";r.onload=()=>t(globalThis.confetti);r.onerror=e;document.head.appendChild(r);r.remove()})};var Tn=async()=>{const t={spread:360,ticks:50,gravity:0,decay:.95,startVelocity:30,colors:["19b4f4","a97ff2","fd6b3c","ffffff"]};const e=Sn();const r=async()=>{const n=document.getElementById("button-icon");const i=n.getBoundingClientRect();const o=window.scrollX+i.left;const a=window.scrollY+i.top;const l={x:o/window.innerWidth,y:a/window.innerHeight};const u=await e;u({...t,origin:l,scalar:1.2});u({...t,origin:l,scalar:.75})};setTimeout(r,500);setTimeout(r,650);setTimeout(r,800);setTimeout(r,950)};In();})();
</script>
  </body>
</html>
`)}async function u3(t,e){let r=await LA(t),n=t.getFrameworks();return e.replace(/__LOCAL_APP_ID__/g,r).replace(/__DEV_TOOLS_URL__/g,t.devToolsServerUrl).replace(/__CLIENT_ID__/g,t.getClientId()).replace(/__FRAMEWORK__/g,n.length?n[0].name:"")}var c3=require("node:os");async function l3(t,e){let r=new URL("/cli-auth","https://khulnasoft.com");r.searchParams.set("client_id",t.getClientId()),r.searchParams.set("host",await t.getDeviceId()),r.searchParams.set("response_type","code"),r.searchParams.set("cli","true");let n=new URL(Xs,t.devToolsServerUrl);n.searchParams.set(fp,(0,c3.platform)()),n.searchParams.set(hp,process.versions.node);let i=t.getFrameworks();return i.length>0&&(r.searchParams.set(zo,i[0].name),n.searchParams.set(zo,i[0].name)),r.searchParams.set("redirect_url",n.href),r.searchParams.set("preview_url",e),r.href}async function d3(t,e,r,n){try{if(!t)return Fu(r,n,400,"Khulnasoft context closed");let i=Rse(r);if(i.pathname===Rm){if(r.method==="POST"){let s=await kse(r);if(s)try{let o=await s3(t,JSON.parse(s));return p3(r,n,200,o)}catch(o){t.debug("Dev API Error",o.stack||o.message||o);let a={errors:[String(o.message||o)]};return p3(r,n,500,a)}}else if(r.method==="OPTIONS"){let s={"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Cache-Control, X-Khulnasoft-Devtools-Version"},o=r.headers.origin;o&&o!=="null"?f3(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",n.writeHead(200,s),n.end();return}return Fu(r,n,405,`${Rm} is an API endpoint used only during development by the Khulnasoft.com Devtools client-side script`)}if(i.pathname===Mm)return Nse(r,n,200,await o3(t));if(i.pathname===P0){let s=i.searchParams.get(km);return s?Ose(n,302,await l3(t,s)):Fu(r,n,400,`Missing ${km} querystring`)}return i.pathname===Xs?Fse(r,n,200,await a3(t)):i.pathname===Qs?(t.debug(`Close Dev Tools Server Requested: ${i.href}`),setTimeout(()=>{try{e.close(s=>{t.debug(`Dev Tools Server Closed Error: ${s}`)})}catch(s){t.debug(`Error closing devtools server: ${s}`)}},20),Fu(r,n,200,"Closing Dev Tools Server")):Fu(r,n,404,"Not found")}catch(i){return console.error("Dev Server Error",i),Fu(r,n,500,`Dev Server Error: ${i}`)}}function p3(t,e,r,n){_m(t,e,r,"application/json",JSON.stringify(n))}function Nse(t,e,r,n){_m(t,e,r,"application/javascript",n)}function Fse(t,e,r,n){_m(t,e,r,"text/html",n)}function Fu(t,e,r,n){_m(t,e,r,"text/plain",n)}function _m(t,e,r,n,i){let s={"Content-Type":`${n}; charset=utf-8`,"Cache-Control":"no-cache, no-store, must-revalidate","X-Khulnasoft-Devtools-Version":"1.3.3"},o=t.headers.origin;o&&o!=="null"?f3(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",e.writeHead(r,s),e.end(i)}function f3(t){return t.hostname==="localhost"||t.origin==="https://khulnasoft.com"||t.origin==="https://www.khulnasoft.com"||t.origin.endsWith(".khulnasoft.com")?!0:t.port===""?!1:t.port!=="80"&&t.port!=="443"}function Ose(t,e,r){t.writeHead(e,{Location:r}),t.end()}async function kse(t){let e="";for await(let r of t)e+=r;return e}function Rse(t){let e=t.url||"/";return new URL(e,`http://${t.headers.host}`)}async function h3(t){if(globalThis.__khulnasoftDevToolsServer)return t.debug("reusing existing devtools server"),globalThis.__khulnasoftDevToolsServer.setContext(t),globalThis.__khulnasoftDevToolsServer;let e=await Mse(t),r=(0,Cm.createServer)((i,s)=>{d3(t,r,i,s)}),n=()=>new Promise((i,s)=>{r.listening?(t.debug(`closing devtools server on port ${e}`),r.close(o=>{t=null,o?(t.debug(`error closing devtools server on port ${e}`),s(o)):(t&&t.debug(`closed devtools server on port ${e}`),i())})):(t.debug(`devtools server on port ${e} not listening`),i())});return process.once("SIGTERM",n),process.once("SIGINT",n),process.env.CI!=="true"&&process.stdin.on("end",n),globalThis.__khulnasoftDevToolsServer={url:new URL(`http://localhost:${e}`).href,port:e,setContext:i=>{t.debug(`set devtools context on server ${e}`),t=i},close:async()=>{globalThis.__khulnasoftDevToolsServer=null,await n()}},new Promise(i=>{r.listen(e,()=>{t.debug(`started devtools server on port ${e}`),i(globalThis.__khulnasoftDevToolsServer)})})}function Mse(t){return new Promise(e=>{let r=t.port;try{(0,Cm.request)({hostname:"localhost",port:r,path:Qs,method:"GET"},i=>{i.on("end",()=>{t.debug(`${Qs} - Response ended`),e(r)})}).on("error",i=>{t.debug(`${Qs} - No response ${i}`),e(r)}).end()}catch(n){t.debug(`${Qs} - Error ${n}`),e(r)}})}async function h0(t){let e={getPastSyncInfo:()=>null,resyncSnippet:()=>null,...t,devToolsServerUrl:"",isValid:!1,publicApiKey:"",serverShouldRestart:!1,port:t.port||5273,ignoreMissingConfig:!1},r=t.getFrameworks().map(s=>s.name).join(", ");e.debug(`create devtools ${m3} [${r}]`);let n=await h3(e);return e.devToolsServerUrl=n.url,e.port=n.port,{getUrl:()=>e.devToolsServerUrl}}var m3="1.3.3";var b3=Y(require("chokidar"),1),E3=Y(require("ignore"),1);function D3(t){let e=t.match(/khulnasoft\.io\/content\/([^?]+)\?codeSession=([^&]+)&sid=([^\s]+)/);return e?{contentId:e[1],sessionKey:e[2],snippetId:e[3]}:{}}async function Tm(t){let e=x3(t);return await(0,m0.glob)("**/*",{cwd:t,ignore:{ignored(n){return e(n.relative())}},nodir:!0})}async function Lse(t,e,r){let n=await(0,m0.glob)("**/*",{cwd:t,ignore:["node_modules/**"],nodir:!0}),i=[];for(let s of n){let o=(0,gr.resolve)(t,s);try{let a=(0,Ar.readFileSync)(o,"utf-8");if(a.includes("This code was generated by Khulnasoft.com")){let u=D3(a);if(e&&r&&(u.contentId!==e||u.sessionKey!==r))continue;i.push({path:s,code:vm(a),name:s.split("/").pop()||"",timestamp:(0,Ar.statSync)(o).mtime.getTime(),snippetId:u.snippetId})}}catch(a){console.error(`Error reading file ${o}:`,a)}}return i}function Bse(t,e){let r=D3(t);return r.contentId===e.contentId&&r.sessionKey===e.sessionKey}function x3(t){let e=["*.png","*.jpg","*.jpeg","*.gif","*.webp","*.yml","*.yaml","*.snap","*.liquid",".git",".DS_Store",".vscode","node_modules",".next","coverage","example","public","yarn.lock","pnpm-lock.yaml","__snapshots__","package-lock.json"],r=(0,E3.default)().add(e);function n(i){try{let s=(0,gr.resolve)(t,i);if((0,Ar.existsSync)(s)){let o=(0,Ar.readFileSync)(s,"utf8");r.add(o)}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return n(".gitignore"),n(".prettierignore"),n(".khulnasoftignore"),i=>{let s=(0,gr.relative)(t,i);if(!s)return!1;let o=s.split(gr.sep).join("/");return r.ignores(o)}}function g3(t,e,r){let n=x3(t),i=b3.default.watch(t,{ignored:n,ignoreInitial:!0,awaitWriteFinish:{stabilityThreshold:500,pollInterval:600},ignorePermissionErrors:!0,followSymlinks:!1,atomic:600}),s=async a=>{let u=(0,gr.relative)(t,a);try{let c=(0,Ar.readFileSync)(a,"utf-8");if(Bse(c,e.snippet)){let l=e.writtenFiles.find(p=>p.path===u);l?(l.code=vm(c),l.timestamp=Date.now()):e.writtenFiles.push({path:u,code:vm(c),timestamp:Date.now(),name:u.split("/").pop()||""}),e.timeStamp=Date.now(),r(e)}}catch(c){console.debug(`Error reading file ${a}:`,c)}};i.on("add",async a=>{K.info(`File added: ${a}`),await s(a)}).on("change",async a=>{K.info(`File changed: ${a}`),await s(a)}).on("unlink",a=>{K.info(`File deleted: ${a}`);let u=(0,gr.relative)(t,a);e.writtenFiles=e.writtenFiles.filter(c=>c.path!==u),e.timeStamp=Date.now(),r(e)}).on("unlinkDir",a=>{K.info(`Folder deleted: ${a}`);let u=(0,gr.relative)(t,a);e.writtenFiles=e.writtenFiles.filter(c=>!c.path.startsWith(u)),e.timeStamp=Date.now(),r(e)}).on("ready",()=>{console.debug("Initial scan complete. Ready for changes.")}).on("error",a=>{console.error(`Watcher error: ${a}`)}),i.on("raw",async(a,u,c)=>{if(a==="renamed"){K.info(`File renamed: ${c.oldPath} -> ${u}`);let l=c.oldPath?(0,gr.relative)(t,c.oldPath):void 0,p=u?(0,gr.relative)(t,u):void 0;if(l&&p){let d=e.writtenFiles.find(f=>f.path===l);d&&(d.path=p,e.timeStamp=Date.now(),r(e))}}});let o=async()=>{await i.close()};return process.on("SIGINT",o),process.on("SIGTERM",o),o}async function S3(t,e){t.debug("khulnasoft sync server init");let r=await Ns(t),n=e,i=()=>Promise.resolve();n&&setTimeout(()=>{i=g3(process.cwd(),n,s=>{n=s})},1e3),await h0({...r,ensureFigmaImportPage:()=>Promise.reject("Not supported"),getPastSyncInfo:({sessionKey:s,since:o})=>!n||s!==n.snippet.sessionKey?null:{...n,hasChanged:n.timeStamp>o},resyncSnippet:async s=>{await i();let o=await g0({path:n?.pathInput,snippet:s.snippet,cwd:process.cwd()});return o&&(n=o,i=g3(process.cwd(),n,a=>{n=a})),n},getClientId:()=>"khulnasoft-sync-cli",closeAppServer:async()=>{await i()},restartAppServer:async()=>{t.debug("restart server")},enableAppWatch:async s=>s,...t})}async function g0(t){let e=t.snippetId,r=t.snippet||null;if(!r&&e&&(r=await l0(e)),!r)throw new Error(`No snippet found for id ${e}`);let n=await Lse(process.cwd(),r.contentId,r.sessionKey),i=n.filter(c=>c.snippetId===r.id);if(K.info(`Found ${i.length} matching files for snippet ${r.id} in existing files ${n.length}`),i.length>0){let c=Math.max(...i.map(l=>l.timestamp||0));return{snippet:r,writtenFiles:i,pathInput:y3(i.map(l=>l.path)),timeStamp:c}}let s=p0(r.framework||"react"),o=t.path||y3(n.map(c=>c.path))||await or({message:"Where should we copy the files?",initialValue:s,validate(c){if(c.length===0)return"File path is required!";if(c[0]!==".")return"Please enter a relative path."}});Ue(o)&&(ge("Cancelled sync"),process.exit(0));for(let c of n){let l=(0,gr.resolve)(process.cwd(),c.path);try{(0,Ar.unlinkSync)(l),K.info(`Deleted old file: ${l}`);let p=(0,gr.dirname)(l);(0,Ar.readdirSync)(p).length===0&&((0,Ar.rmdirSync)(p),K.info(`Deleted empty folder: ${p}`))}catch(p){K.error(`Error cleaning up file ${l}: ${p}`)}}let a=await Sm(r,r.files,o,!0);K.success("All files have been written successfully.");let u=Math.max(...a.map(c=>c.timestamp||0));return{snippet:r,writtenFiles:a.map(c=>({...c,code:vm(c.code)})),pathInput:o,timeStamp:u||Date.now()}}function vm(t){if(!t)return t;let e=/<!--\s*This code was generated by Khulnasoft\.io\s*-->\s*(?:<!--\s*https:\/\/khulnasoft\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*-->\s*)?/,r=/\/\*\*\s*\n\s*\* This code was generated by Khulnasoft\.io\s*\n\s*\* https:\/\/khulnasoft\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*\n\s*\*\/\s*/,n=t.replace(e,"").replace(r,"");return n=n.replace(/^\n+/,""),n}function y3(t){if(t.length===0)return"";if(t.length===1)return`./${t[0].slice(0,t[0].lastIndexOf("/")+1)}`;let e=t.map(i=>i.split("/")),r=Math.min(...e.map(i=>i.length)),n=[];for(let i=0;i<r;i++){let s=e[0][i];if(e.every(o=>o[i]===s))n.push(s);else break}return`./${n.join("/")}`}var Ou=Y(Oi(),1);var Se=Y(br(),1);var P3=require("node:child_process");var y0=Y(require("node:process"),1);function b0(){let{env:t}=y0.default,{TERM:e,TERM_PROGRAM:r}=t;return y0.default.platform!=="win32"?e!=="linux":!!t.WT_SESSION||!!t.TERMINUS_SUBLIME||t.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||e==="xterm-256color"||e==="alacritty"||e==="rxvt-unicode"||e==="rxvt-unicode-256color"||t.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var E0=Y(br(),1),us=Y(He(),1),wm=require("node:process"),zs=Y(require("node:readline"),1),lp=Y(br(),1),Ws=()=>{let t=D0?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],e=D0?80:120,r,n,i=!1,s="",o="",a="",u=y=>{let b=y>1?"Something went wrong":"Canceled";i&&h(b,y)},c=()=>u(2),l=()=>u(1),p=()=>{process.on("uncaughtExceptionMonitor",c),process.on("unhandledRejection",c),process.on("SIGINT",l),process.on("SIGTERM",l),process.on("exit",u)},d=()=>{process.removeListener("uncaughtExceptionMonitor",c),process.removeListener("unhandledRejection",c),process.removeListener("SIGINT",l),process.removeListener("SIGTERM",l),process.removeListener("exit",u)},f=(y="")=>{i=!0,r=Vse(),s=y.replace(/\.+$/,""),process.stdout.write(`${E0.default.gray($se)}
`);let b=0,_=0;p(),n=setInterval(()=>{let E=E0.default.magenta(t[b]),x=".".repeat(Math.floor(_)).slice(0,3);process.stdout.write(us.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(us.erase.down(a.split(`
`).length));let S=`${E}  ${s}${x}${o}`;process.stdout.write(S),b=b+1<t.length?b+1:0,_=_<t.length?_+.125:0,a=S},e)},h=(y,b=0)=>{s=y??s,i=!1,clearInterval(n);let _=b===0?(0,lp.green)(qse):b===1?(0,lp.red)(Use):(0,lp.red)(jse);process.stdout.write(us.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(us.erase.down(a.split(`
`).length)),process.stdout.write(`${_}  ${s}
`),a=s,d(),r()};return{start:f,stop:h,message:(y="")=>{s=y??s},extra:(y="")=>{o=y}}},D0=b0(),Am=(t,e)=>D0?t:e,$se=Am("\u2502","|"),Use=Am("\u25A0","x"),jse=Am("\u25B2","x"),qse=Am("\u25C7","o"),Gse=globalThis.process.platform.startsWith("win");function Vse({input:t=wm.stdin,output:e=wm.stdout,overwrite:r=!0,hideCursor:n=!0}={}){let i=zs.createInterface({input:t,output:e,prompt:"",tabSize:1});zs.emitKeypressEvents(t,i),t.isTTY&&t.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){n&&e.write(us.cursor.show),process.exit(0);return}if(!r)return;zs.moveCursor(e,a==="return"?0:-1,a==="return"?-1:0,()=>{zs.clearLine(e,1,()=>{t.once("keypress",s)})})};return n&&e.write(us.cursor.hide),t.once("keypress",s),()=>{t.off("keypress",s),n&&e.write(us.cursor.show),t.isTTY&&!Gse&&t.setRawMode(!1),i.terminal=!1,i.close()}}var Ys=Y(br(),1);var _3=Y(require("crypto"),1),Kse=16,Hse=2e5,zse=3e5,C3=async(t,e)=>{console.log(""),Xt((0,Ys.bgCyan)((0,Ys.bold)((0,Ys.white)(" code indexing ")))+"  "+(0,Ys.dim)("1.3.3"));let r=await cn(t,e,{forceSpaceId:e.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0});await x0(t,r),ar("DONE")},x0=async(t,e)=>{let r=Ws();r.start("Indexing files...");let n=t.getAppRootDir(),s=(await Tm(n)).filter(Wse).map(m=>({filePath:m,content:t.readFileSync(t.join(n,m))})).filter(m=>m.content.length<zse),o=[],a=[];o.push(a);let u=0;for(let m of s)u+m.content.length>Hse&&(a=[],o.push(a),u=0),a.push(m),u+=m.content.length;let c=0,l=o.length,p=Date.now();function d(m){c+=m;let g="\u2591",y=60,b=c/l,_=g.repeat(Math.floor(b*y)),E=" ".repeat(y-_.length),x=`${Math.round(b*100)}%`,S=Date.now()-p,T=b>0?S/b:0,w=Math.max(0,T-S),k=new Date(w).toISOString().substr(11,8);r.extra(`

[${_}${E}] ${x} (${k} remaining)`)}d(0);let f=_3.default.randomUUID(),h=await t.getRepoInfo();await Promise.all(Array.from({length:Kse}).map(async()=>{for(;;){let m=o.shift();if(!m)break;let g=new URL(`${hi}/codegen/indexing`);g.searchParams.set("apiKey",e.khulnasoftPublicKey),g.searchParams.set("userId",e.userId);let y=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.khulnasoftPrivateKey}`},body:JSON.stringify({repoInfo:h,files:m,sessionId:f,addExtraContext:!0})});if(!y.ok)throw new Error("Failed to index codebase");let b=S0(y.body),_=0;for await(let E of b){if(E.length===0)continue;let x=JSON.parse(E);if(x.type==="progress"){let S=x.chunksProcessed/x.totalChunks;d(S-_),_=S}}}})),r.stop("Codebase indexed")};function Wse(t){return t.endsWith("package.json")?!0:!(!t.endsWith(".ts")&&!t.endsWith(".tsx")&&!t.endsWith(".js")&&!t.endsWith(".jsx")&&!t.endsWith(".html")||t.includes(".mapper.ts")||t.includes(".mapper.js")||t.endsWith("package-lock.json"))}var I3=async(t,e,r)=>{e==="indexing"?await C3(t,r):e==="generate"||e==="gen"||e==="g"?await v3(t,r):e==="gen"?ss("code"):await v3(t,r)},v3=async(t,e)=>{console.log(""),Xt((0,Se.bgCyan)((0,Se.bold)((0,Se.white)(" code ")))+"  "+(0,Se.dim)("1.3.3"));let r=await cn(t,e,{forceSpaceId:e.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0}),n=e.url,i={history:[],undoStates:[],selectedFilePaths:new Map};if(wt("figma code started",{spaceId:r.khulnasoftPublicKey}),e.prompt){let s=e.mode||"exact",o={userPrompt:e.prompt,mode:s};await T3(t,r,i,o.userPrompt,o.mode,n);return}for(;;){let s=await Yse(t,r,i,!!n);if(s==="exit")break;if(s==="undo")continue;let o=s.userPrompt,a=s.mode;await T3(t,r,i,o,a,n)}};async function Yse(t,e,r,n){let i=t.getAppRootDir(),s="",o;if(r.history.length===0){let c=await or({message:n?"How does the design integrate into the project? (be detailed)":"What do you want to do?",placeholder:n?'some examples: "add a header to the layout of the app", "add a new contact page", "update the card component"':'some examples: "add a new page", "add a new component", "update the button component"',validate(l){if(n){if(l.length===0)return"please, enter a detailed instruction";if(l.length<10)return"a more detailed instruction is needed"}else if(l.length===0)return"please, provide some prompt"}});if(Ue(c))return ge("See you later! \u{1F44B}"),"exit";if(s=c??"integrate design into the app, might be a new page/component/layout depending on the design",n){let l=o??await _p({message:"How do you want to apply the changes?",options:[{value:"exact",label:"Precise",hint:"imports exactly as designed, might include artifacts"},{value:"creative",label:"Match-my-style",hint:"design might be slighly changed to match the codebase, but looks better"}]});if(Ue(l))return ge("Command cancelled"),"exit";o=l}else o="creative"}else{let a=r.history[r.history.length-1]?.id;K.message(`${(0,Se.green)("Changes are applied.")} What do you want to do next?

${(0,Se.bgBlack)(" Ctrl+C ")} ${(0,Se.dim)("to accept changes and exit")}
${(0,Se.bgBlack)(' "undo" ')} ${(0,Se.dim)("to undo last changes and try again")}`,{symbol:(0,Se.green)("\u2714")});let u=await or({message:`${(0,Se.bgBlack)(" Follow up ")} with more instructions:`,placeholder:' Reply "accept", "undo", or provide follow-up feedback (Ctrl+C to exit)',validate(l){if(!l)return"Please enter a value (Ctrl+C & exit)"}});if(Ue(u)||u.trim().toLowerCase()==="accept")return ar(`${(0,Se.bgGreen)((0,Se.bold)((0,Se.white)(" Done! \u{1F389} ")))}  ${(0,Se.dim)("session "+a)}`),wt("figma code accepted",{spaceId:e.khulnasoftPublicKey,userPrompt:s}),a&&await w3(e,a,"negative"),"exit";if(u.trim().toLowerCase()==="undo"){a&&await w3(e,a,"negative"),r.history.pop(),r.history.pop();let l=r.undoStates.pop();if(l){for(let p of l.files)p.content?await t.writeFile(t.join(i,p.path),p.content):await t.unlink(t.join(i,p.path));K.warn(`Restored files to previous state:
${l.files.map(p=>(0,Se.dim)(" - "+p.path)).join(`
`)}
`)}return"undo"}s=u}return{userPrompt:s,mode:o}}var Jse=!1;async function T3(t,e,r,n,i,s){let o=Lo(Ms),a=t.getAppRootDir(),u=await t.getRepoInfo(),c=Ws();c.start("Analyzing relevant files");let l=[],p=[],d=!1,f=!1,h;for(let E=0;E<2;E++){let x=await Qse(e.userId,e.khulnasoftPublicKey,e.khulnasoftPrivateKey,{query:n,repoInfo:u,limit:10});if(E===0&&x.length===0&&Jse&&(c&&(c.stop("Codebase index not found. Indexing allows the CLI to automatically find relevant files."),c=void 0),await Jt({message:"Do you want to index the codebase?",active:"Yes",inactive:"Skip"})===!0)){await x0(t,e);continue}let S=await Tm(a);if(x.length>0){for(let T of S){let w=_0(T,x,r.selectedFilePaths);w!==0?(l.push(T),r.selectedFilePaths.set(T,w)):A3(t,T)&&p.push(T)}c?(c.stop(`Found relevant files of the project:
${(0,Se.dim)("\u2502")}
${l.map(T=>(0,Se.dim)("\u2502    "+T)).join(`
`)}`),c=void 0):K.info(`Found relevant files of the project:

${l.map(T=>(0,Se.dim)(T)).join(`
`)}`),h=void 0}else{let T=S.filter(U=>{let ie=_0(U,x,r.selectedFilePaths);return ie===1||ie===2});h=10;let w=Math.min(40,T.length),k=[],R=0;for(;k.length<w&&R<T.length*2;){R++;let U=T[Math.floor(Math.random()*T.length)];k.includes(U)||k.push(U)}for(let U of S){let ie=_0(U,k,r.selectedFilePaths);ie!==0?(l.push(U),r.selectedFilePaths.set(U,ie)):A3(t,U)&&p.push(U)}}break}c&&(c.stop(void 0),c=void 0);let m=await toe(t,a);c=Ws(),c.start("Thinking");let g={url:s,files:l.map(E=>({filePath:E,content:t.readFileSync(t.join(a,E)),importance:r.selectedFilePaths.get(E)??1})),customInstructions:m,hiddenFiles:p,history:r.history,mode:i,userPrompt:n,reranker:h,prevId:r.history[r.history.length-1]?.id},y=[],b=Xse(e,g);r.undoStates.push({files:[]});for await(let E of b)try{let T=function(w,k){w.type==="text"&&(d||(process.stdout.write((0,Se.dim)(`\u2502  
`)+(0,Se.magenta)("~  ")),d=!0),process.stdout.write(k.replace(/\n/g,`
`+(0,Se.magenta)("\u2502  ")))),!w.synthetic&&(w.type==="file"||w.type==="diff")&&c&&c.extra(`

${o.highlightAuto(w.content).value.split(`
`).slice(-10).map(R=>R.length>process.stdout.columns?R.slice(0,process.stdout.columns-5):R).join(`
`)}`)};var _=T;async function x(w){d&&(process.stdout.write(`
`),d=!1),w.type==="file"&&!w.synthetic&&(c=Ws(),c.start(`${w.actionTitle??w.artifactTitle}`)),w.type==="diff"&&(c=Ws(),c.start(`${w.actionTitle??w.artifactTitle}`)),w.type==="done"&&(r.history.push({role:"user",content:n}),r.history.push({role:"assistant",content:w.content,id:w.id}))}async function S(w){if(w.type==="diff"&&c&&(c.stop(`${w.actionTitle??w.artifactTitle}: ${(0,Se.dim)(w.filePath)}`),c=void 0),w.type==="file"&&w.filePath){let k=t.join(a,w.filePath),U=t.existsSync(k)?t.readFileSync(k):null;r.undoStates[r.undoStates.length-1].files.push({path:w.filePath,content:U});let ie=await Pr(w.content,void 0,k);await t.writeFile(k,ie),r.selectedFilePaths.set(w.filePath,3),c&&!w.synthetic&&(c.stop(`${w.actionTitle??w.artifactTitle??"Created"}: ${(0,Se.dim)(w.filePath)}`),c=void 0)}if(w.type==="shell"){K.message(`Requested to run command:
${(0,Se.bgBlack)(" "+w.content.trim()+" ")}`,{symbol:(0,Se.magenta)("~")});let k=await Jt({message:"Do you want to execute and continue?",active:`Execute ${(0,Se.dim)("(recommended)")}`,inactive:"Skip"});if(Ue(k)||!k){K.warn(`Command skipped. Run it manually:
${(0,Se.bgBlack)(" "+w.content+" ")}.`);return}c=Ws(),c.start(`Running \`${w.content}\``),await eoe(w.content,{shell:!0,stdio:"inherit"})?c.stop(`Command \`${w.content}\` completed`):c.stop(`Command \`${w.content}\` failed`,2),c=void 0}}if(c&&!f&&(c.stop("\u{1F4A1}"),c=void 0,f=!0),E.type==="delta"){let w=E.content,k=y[y.length-1];k&&(k.content+=w),await T(k,w)}else{let w=y[y.length-1];w&&(w.incomplete=!1,await S(w)),y.push(E),await x(E)}if(E.type==="done")break}catch{}d&&(process.stdout.write(`
`),d=!1)}async function*Xse(t,e){let r=new URL(`${hi}/codegen/completion`);r.searchParams.set("apiKey",t.khulnasoftPublicKey),r.searchParams.set("userId",t.userId);let n=await sr(r,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.khulnasoftPrivateKey}`}}),i=S0(n.body);for await(let s of i){if(s.length===0)continue;yield JSON.parse(s)}}async function w3(t,e,r,n){let i=new URL(`${hi}/codegen/feedback`);i.searchParams.set("apiKey",t.khulnasoftPublicKey),i.searchParams.set("userId",t.userId),await sr(i,{method:"POST",body:JSON.stringify({id:e,feedbackText:n,feedbackSentiment:r}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.khulnasoftPrivateKey}`}})}async function Qse(t,e,r,n){let i=new URL(`${hi}/codegen/search`);i.searchParams.set("apiKey",e),i.searchParams.set("userId",t);let o=await(await fetch(i,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).json(),a=new Set;for(let u of o)a.add(u.filePath);return Array.from(a)}function A3(t,e){return!(e.includes(".test.")||e.includes(".spec.")||e.includes(".unit.")||e.includes(".e2e.")||e.includes("test")||e.includes("tests")||t.basename(e).startsWith("."))}function _0(t,e,r){let n=r.get(t)??0;if(t.endsWith("package.json")||t.endsWith("tsconfig.json")||t.includes("tailwind.config")||t.endsWith("components.json"))return 3;if(t.includes("components/ui/")||t.endsWith(".mapper.tsx")||t.endsWith(".mapper.jsx")||t.endsWith("package-lock.json")||t.endsWith("khulnasoft-registry.ts"))return n;if(t.includes("layout")||Zse(t)<2&&(t.endsWith(".css")||t.endsWith(".scss")))return Math.max(n,2);if(e.length>0){if(e.some(i=>t.includes(i)))return Math.max(n,2)}else if(t.includes("components/ui/"))return n;return!t.endsWith(".ts")&&!t.endsWith(".tsx")&&!t.endsWith(".js")&&!t.endsWith(".jsx")&&!t.endsWith(".html")?n:Math.max(n,1)}function Zse(t){return(t.match(/\//g)||[]).length}async function*S0(t){if(!t)return;let e="",r=t.getReader(),n,i;for(;!n&&({value:i,done:n}=await r.read(),!n);){let s=new TextDecoder().decode(i);e+=s;let o=e.split(`
`);for(let a=0;a<o.length-1;a++)yield o[a];e=o[o.length-1]}}function eoe(t,e){let r;return new Promise(i=>{try{r=(0,P3.spawn)(t,{shell:!0,...e}),r.on("error",()=>{i(!1)}),r.on("close",s=>{i(s===0)})}catch{i(!1)}})}async function toe(t,e){let r=[];async function n(i){try{let s=t.resolve(e,i);if(await t.exists(s)){let o=await t.readFile(s);if(o){let a="hash-"+await t.hash(o);r.push({id:a,name:i,content:o})}}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return await n(".cursorrules"),await n(".khulnasoftrules"),r}async function roe(t){t.debug("khulnasoft dev tools cli init");let e=await(0,N3.createDevTools)(t);await(0,O3.createDevToolsServer)({...e,getClientId:()=>"khulnasoft-dev-tools-cli",closeAppServer:async()=>{},restartAppServer:async()=>{t.debug("restart server")},enableAppWatch:async r=>r,...t})}var M3=async()=>{await R3.flush().promise,process.exit(0)};process.on("SIGINT",M3);process.on("SIGTERM",M3);async function noe(){await AL();try{let t=(0,k3.default)(process.argv.slice(2),{string:["figmaToken","privateKey","spaceId","cwd","prompt","mode","url"],boolean:["help","ci","force","printJson","dryrun","yes","skipInstallation"]});if(t.help)return ss(t._[t._.length-1]),await be(0);let e=t._[0];t.cwd&&(console.log("changing cwd",t.cwd),process.chdir(t.cwd));let r=await(0,F3.createDevToolsNodeSys)({cwd:process.cwd(),ignoreMissingConfig:!0});if(e==="figma"){let n=t._[1];try{await VB(r,n,t)}catch(i){return Ou.captureException(i),console.error(i),await be(1)}}else if(e==="code"){let n=t._[1];try{await I3(r,n,t)}catch(i){return Ou.captureException(i),console.error(i),await be(1)}}else if(e==="add"){let n=d0(process.cwd(),process.argv.slice(2));await KB(n)}else if(e==="sync"){let n=d0(process.cwd(),process.argv.slice(2)),i=await g0(n);S3(r,i).then(()=>{console.info("Khulnasoft dev tools is running")}).catch(s=>{Ou.captureException(s),console.error("Cannot start khulnasoft dev tools",s)})}else{if(e==="help")return ss(t._[1]),await be(0);if(e==="publish"||e==="migrate"||e==="generate")return ge("Command not found, do you mean `npx khulnasoft.com figma "+e+"`?"),await be(1);roe(r).then(()=>{console.info("Khulnasoft dev tools is running")}).catch(n=>{Ou.captureException(n),console.error("Cannot start khulnasoft dev tools",n)})}}catch(t){return Ou.captureException(t),console.error(t),await be(1)}}noe();
/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=index.cjs.map
